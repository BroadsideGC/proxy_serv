execve("./proxy", ["./proxy"], [/* 49 vars */]) = 0
brk(NULL)                               = 0x1229000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=198023, ...}) = 0
mmap(NULL, 198023, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f1b51bff000
close(3)                                = 0
open("/usr/lib/libstdc++.so.6", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0@\270\10\0\0\0\0\0@\0\0\0\0\0\0\0\300\250\256\0\0\0\0\0\0\0\0\0@\0008\0\10\0@\0(\0%\0\1\0\0\0\5\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\216z\27\0\0\0\0\0\216z\27\0\0\0\0\0\0\0 \0\0\0\0\0\1\0\0\0\6\0\0\0008\203\27\0\0\0\0\0008\2037\0\0\0\0\0008\2037\0\0\0\0\0\0\270\0\0\0\0\0\0(\357\0\0\0\0\0\0\0\0 \0\0\0\0\0\2\0\0\0\6\0\0\0H\r\30\0\0\0\0\0H\r8\0\0\0\0\0H\r8\0\0\0\0\0 \2\0\0\0\0\0\0 \2\0\0\0\0\0\0\10\0\0\0\0\0\0\0\4\0\0\0\4\0\0\0\0\2\0\0\0\0\0\0\0\2\0\0\0\0\0\0\0\2\0\0\0\0\0\0$\0\0\0\0\0\0\0$\0\0\0\0\0\0\0\4\0\0\0\0\0\0\0\7\0\0\0\4\0\0\0008\203\27\0\0\0\0\0008\2037\0\0\0\0\0008\2037\0\0\0\0\0\0\0\0\0\0\0\0\0 \0\0\0\0\0\0\0\10\0\0\0\0\0\0\0P\345td\4\0\0\0\330/\24\0\0\0\0\0\330/\24\0\0\0\0\0\330/\24\0\0\0\0\0\304v\0\0\0\0\0\0\304v\0\0\0\0\0\0\4\0\0\0\0\0\0\0Q\345td\6\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0R\345td\4\0\0\0008\203\27\0\0\0\0\0008\2037\0\0\0\0\0008\2037\0\0\0\0\0\310\234\0\0\0\0\0\0\310\234\0\0\0\0\0\0\1\0\0\0\0\0\0\0\4\0\0\0\24\0\0\0\3\0\0\0GNU\0\267n\257-X\217\371\251B \0013\246\31\202_\24Q\375'\0\0\0\0\372\7\0\0\215\0\0\0\0\2\0\0\17\0\0\0\4\220G\20\203@\301\230\4\26\1E\242 \212\20@ !\0\0\242\0\1(\214$\23 \6\220(\6,\210%\2\0Z\20\0\20\16\1\201\10\22\202_@\300Tx\251\264P\302\5k\220\341 \0250\20\0!\241\0b\305\0V\5\271D\220\v\t\t$=G\2\2\t\20\247\210\200)8\235`\206iD\224\304\200\373\0l /\254C`&\220\200(2\22( \2B\20\312 \204\302\2\20\202A\200\241Hi\10\"\24\0@#\10i\0\0\1D\1\21\240H\4\3\240\22\200\0\2\0\20@\200\v \342\16%\210\20\0A@\206\4\2+x\365&\300\201\3032\4\0\20\4-$ \0HX\200L\24\0\10 \4\20\0\6\6\5 B\210@\\\6 @\21H\304p \0\351\250\5\1\20\22\364\377\307\337_\30\213\206\204\22\240\0004\346\270$UY# \220\21\300$\360\247\240!`\210\210\1\3\0\200\10\3\0\4\0\344\10\220", 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=11449024, ...}) = 0
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f1b51bfd000
mmap(NULL, 3699296, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f1b51686000
mprotect(0x7f1b517fe000, 2097152, PROT_NONE) = 0
mmap(0x7f1b519fe000, 49152, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x178000) = 0x7f1b519fe000
mmap(0x7f1b51a0a000, 12896, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f1b51a0a000
close(3)                                = 0
open("/usr/lib/libm.so.6", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0pV\0\0\0\0\0\0@\0\0\0\0\0\0\0\3701\20\0\0\0\0\0\0\0\0\0@\0008\0\7\0@\0\36\0\35\0\1\0\0\0\5\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0-\20\0\0\0\0\0\0-\20\0\0\0\0\0\0\0 \0\0\0\0\0\1\0\0\0\6\0\0\0h-\20\0\0\0\0\0h-0\0\0\0\0\0h-0\0\0\0\0\0l\3\0\0\0\0\0\0x\3\0\0\0\0\0\0\0\0 \0\0\0\0\0\2\0\0\0\6\0\0\0\200-\20\0\0\0\0\0\200-0\0\0\0\0\0\200-0\0\0\0\0\0 \2\0\0\0\0\0\0 \2\0\0\0\0\0\0\10\0\0\0\0\0\0\0\4\0\0\0\4\0\0\0\310\1\0\0\0\0\0\0\310\1\0\0\0\0\0\0\310\1\0\0\0\0\0\0D\0\0\0\0\0\0\0D\0\0\0\0\0\0\0\4\0\0\0\0\0\0\0P\345td\4\0\0\0\344\223\17\0\0\0\0\0\344\223\17\0\0\0\0\0\344\223\17\0\0\0\0\0\374\23\0\0\0\0\0\0\374\23\0\0\0\0\0\0\4\0\0\0\0\0\0\0Q\345td\6\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0R\345td\4\0\0\0h-\20\0\0\0\0\0h-0\0\0\0\0\0h-0\0\0\0\0\0\230\2\0\0\0\0\0\0\230\2\0\0\0\0\0\0\1\0\0\0\0\0\0\0\4\0\0\0\24\0\0\0\3\0\0\0GNU\0\233\362w\2571\330\260C\264\200ib\330\25\223z\6\217\377O\4\0\0\0\20\0\0\0\1\0\0\0GNU\0\0\0\0\0\2\0\0\0\6\0\0\0 \0\0\0\0\0\0\0&\3\0\0\21\0\0\0@\0\0\0\f\0\0\0%\0`\0\0\240.\"\200\0\26\211\0 E\"\2\0\300``i\10\212\0\t\0\0\0\0\0\0\0\0\0\0\0\0\212P\20\1\10\0\0\4\1\302\24\1 \210\"\0\304\243X\240\n\6\216\0\212\0\0\4\0@\0\0 \20\0\5\0\5\r\7\7\22E\1\201\0\10\0\0@\0\t\0\20\4D\30\4\200a(\22@\4\1\nE\221 @\200\f\22\1\0\0\0\0\0\0\0\0\4\2\0\0\0@\0\200\2\20\322\0\1\10\4\301 E\1\0\310\"\0\4\2\0\202\0\4\0\0\0\4\0Y\4\2\0\n\200\1\0\0\4\0\20 \3\0\0\210 \10\20\0\0 \2\0\0\200\10\2\4\0\0HQ\0\0\f\2\0\0 \10 \0\0\0\0 #\4\0\200\0I\2\fc\2 A\221\242@\4\202EL  \0\0\300\2\4\200\10\2\r(\2\0\20\"\0!\22\30\30\24 8\0\210\0\0\260  B,\10\302\0 \200\361)\24A\21 @\220 \4\1P\20\202\0\0\214\0\0`\242\10\310a\0\0\f \242", 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1063288, ...}) = 0
mmap(NULL, 3158240, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f1b51382000
mprotect(0x7f1b51485000, 2093056, PROT_NONE) = 0
mmap(0x7f1b51684000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x102000) = 0x7f1b51684000
close(3)                                = 0
open("/usr/lib/libgcc_s.so.1", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\220*\0\0\0\0\0\0@\0\0\0\0\0\0\0\30\366\n\0\0\0\0\0\0\0\0\0@\0008\0\7\0@\0%\0\"\0\1\0\0\0\5\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\254R\1\0\0\0\0\0\254R\1\0\0\0\0\0\0\0 \0\0\0\0\0\1\0\0\0\6\0\0\0\270]\1\0\0\0\0\0\270]!\0\0\0\0\0\270]!\0\0\0\0\0\300\3\0\0\0\0\0\0x\6\0\0\0\0\0\0\0\0 \0\0\0\0\0\2\0\0\0\6\0\0\0\330]\1\0\0\0\0\0\330]!\0\0\0\0\0\330]!\0\0\0\0\0\360\1\0\0\0\0\0\0\360\1\0\0\0\0\0\0\10\0\0\0\0\0\0\0\4\0\0\0\4\0\0\0\310\1\0\0\0\0\0\0\310\1\0\0\0\0\0\0\310\1\0\0\0\0\0\0$\0\0\0\0\0\0\0$\0\0\0\0\0\0\0\4\0\0\0\0\0\0\0P\345td\4\0\0\0\2243\1\0\0\0\0\0\2243\1\0\0\0\0\0\2243\1\0\0\0\0\0D\5\0\0\0\0\0\0D\5\0\0\0\0\0\0\4\0\0\0\0\0\0\0Q\345td\6\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0R\345td\4\0\0\0\270]\1\0\0\0\0\0\270]!\0\0\0\0\0\270]!\0\0\0\0\0H\2\0\0\0\0\0\0H\2\0\0\0\0\0\0\1\0\0\0\0\0\0\0\4\0\0\0\24\0\0\0\3\0\0\0GNU\0\341\241\36\3533z\310\266h8\237\256\7\276\240\206\252\200\336Y\0\0\0\0\203\0\0\0\26\0\0\0\20\0\0\0\n\0\0\0\23\34\3\30\4$\0\1\1\201\0T\4\6\210\20\200\204\0\10\0\10\5\200\2\0@\20D\20\0\266\2\200\320 \301\0\220\2024\1\0\4\10(@\2H\1\v \320\1\2(\0235\4`l\322\0!\3p`@\322\200\10`\0@\1\0\200\1\0\0\2$\0\10\21\2\10H\300\1$\t\21(  \10C\v\246\202H\t\10\10\3D\f\n\34\22O\306\1\207\va\204\226\315\4\302\305\f\242\333\16\314\26\0\0\0\27\0\0\0\32\0\0\0\0\0\0\0\35\0\0\0\0\0\0\0\37\0\0\0 \0\0\0\"\0\0\0%\0\0\0'\0\0\0\0\0\0\0(\0\0\0*\0\0\0+\0\0\0.\0\0\0000\0\0\0003\0\0\0004\0\0\0007\0\0\0\0\0\0\0008\0\0\0009\0\0\0<\0\0\0=\0\0\0?\0\0\0@\0\0\0A\0\0\0B\0\0\0C\0\0\0E\0\0\0\0\0\0\0F\0\0\0\0\0\0\0G\0\0\0\0\0\0\0\0\0\0\0H\0\0\0I\0\0\0K\0\0\0L\0\0\0M\0\0\0\0\0\0\0\0\0\0\0O\0\0\0Q\0\0\0\0\0\0\0\0\0\0\0", 832) = 832
fstat(3, {st_mode=S_IFREG|0644, st_size=720728, ...}) = 0
mmap(NULL, 2188336, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f1b5116b000
mprotect(0x7f1b51181000, 2093056, PROT_NONE) = 0
mmap(0x7f1b51380000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x15000) = 0x7f1b51380000
close(3)                                = 0
open("/usr/lib/libpthread.so.0", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\320`\0\0\0\0\0\0@\0\0\0\0\0\0\0\210&\2\0\0\0\0\0\0\0\0\0@\0008\0\t\0@\0'\0$\0\6\0\0\0\5\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0\370\1\0\0\0\0\0\0\370\1\0\0\0\0\0\0\10\0\0\0\0\0\0\0\3\0\0\0\4\0\0\0`4\1\0\0\0\0\0`4\1\0\0\0\0\0`4\1\0\0\0\0\0\36\0\0\0\0\0\0\0\36\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0\1\0\0\0\5\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\334w\1\0\0\0\0\0\334w\1\0\0\0\0\0\0\0 \0\0\0\0\0\1\0\0\0\6\0\0\0x{\1\0\0\0\0\0x{!\0\0\0\0\0x{!\0\0\0\0\0(\7\0\0\0\0\0\0\230H\0\0\0\0\0\0\0\0 \0\0\0\0\0\2\0\0\0\6\0\0\0P}\1\0\0\0\0\0P}!\0\0\0\0\0P}!\0\0\0\0\0000\2\0\0\0\0\0\0000\2\0\0\0\0\0\0\10\0\0\0\0\0\0\0\4\0\0\0\4\0\0\0008\2\0\0\0\0\0\0008\2\0\0\0\0\0\0008\2\0\0\0\0\0\0D\0\0\0\0\0\0\0D\0\0\0\0\0\0\0\4\0\0\0\0\0\0\0P\345td\4\0\0\0\2004\1\0\0\0\0\0\2004\1\0\0\0\0\0\2004\1\0\0\0\0\0\264\10\0\0\0\0\0\0\264\10\0\0\0\0\0\0\4\0\0\0\0\0\0\0Q\345td\6\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0R\345td\4\0\0\0x{\1\0\0\0\0\0x{!\0\0\0\0\0x{!\0\0\0\0\0\210\4\0\0\0\0\0\0\210\4\0\0\0\0\0\0\1\0\0\0\0\0\0\0\4\0\0\0\24\0\0\0\3\0\0\0GNU\0\23\322JT\225\2564\365\216R@?\221S&4\210\266,\364\4\0\0\0\20\0\0\0\1\0\0\0GNU\0\0\0\0\0\2\0\0\0\6\0\0\0 \0\0\0\0\0\0\0\345\1\0\0W\0\0\0 \0\0\0\v\0\0\0\31#\2\261\1\10\20\2@@a\370\3\10\10\25\200 \0\0\0\0\200\300\321Q\0\0\0\22\353\3020D\0\10\20A\0\2\0\2\f\1\200\v\221\1\330\240\r\240@\230 \244\200\21\n\202-l@g\214V\24\0\224 \200$H\200P(\1\22\f\311B\240\220\22\10\f \2ZdA\245c\4@\n\n\n\0\2009\1(\314D\204\201\300\22\10(\fD\0\0\0\200Q\10\200\35\4B\320\2608A\0\1\0\0\265\0300\0\200`\2\20\"\0\tA\20\1\5\0P(\251\22G(\0\0\202\4\230@\4\0\20\340T\0\2@\2\2\20\3010f\26\200\0", 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=143432, ...}) = 0
mmap(NULL, 2212880, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f1b50f4e000
mprotect(0x7f1b50f66000, 2093056, PROT_NONE) = 0
mmap(0x7f1b51165000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x17000) = 0x7f1b51165000
mmap(0x7f1b51167000, 13328, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f1b51167000
close(3)                                = 0
open("/usr/lib/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\260\3\2\0\0\0\0\0@\0\0\0\0\0\0\0\300\265\35\0\0\0\0\0\0\0\0\0@\0008\0\n\0@\0I\0F\0\6\0\0\0\5\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0000\2\0\0\0\0\0\0000\2\0\0\0\0\0\0\10\0\0\0\0\0\0\0\3\0\0\0\4\0\0\0`\247\26\0\0\0\0\0`\247\26\0\0\0\0\0`\247\26\0\0\0\0\0\36\0\0\0\0\0\0\0\36\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0\1\0\0\0\5\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\220A\31\0\0\0\0\0\220A\31\0\0\0\0\0\0\0 \0\0\0\0\0\1\0\0\0\6\0\0\0\210G\31\0\0\0\0\0\210G9\0\0\0\0\0\210G9\0\0\0\0\0XO\0\0\0\0\0\0\250\221\0\0\0\0\0\0\0\0 \0\0\0\0\0\2\0\0\0\6\0\0\0`{\31\0\0\0\0\0`{9\0\0\0\0\0`{9\0\0\0\0\0\360\1\0\0\0\0\0\0\360\1\0\0\0\0\0\0\10\0\0\0\0\0\0\0\4\0\0\0\4\0\0\0p\2\0\0\0\0\0\0p\2\0\0\0\0\0\0p\2\0\0\0\0\0\0D\0\0\0\0\0\0\0D\0\0\0\0\0\0\0\4\0\0\0\0\0\0\0\7\0\0\0\4\0\0\0\210G\31\0\0\0\0\0\210G9\0\0\0\0\0\210G9\0\0\0\0\0\20\0\0\0\0\0\0\0x\0\0\0\0\0\0\0\10\0\0\0\0\0\0\0P\345td\4\0\0\0\200\247\26\0\0\0\0\0\200\247\26\0\0\0\0\0\200\247\26\0\0\0\0\0\214Y\0\0\0\0\0\0\214Y\0\0\0\0\0\0\4\0\0\0\0\0\0\0Q\345td\6\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0R\345td\4\0\0\0\210G\31\0\0\0\0\0\210G9\0\0\0\0\0\210G9\0\0\0\0\0x8\0\0\0\0\0\0x8\0\0\0\0\0\0\1\0\0\0\0\0\0\0\4\0\0\0\24\0\0\0\3\0\0\0GNU\0\214\2722\227\3658i\36\261\207[\346)\206\231<\0O?M\4\0\0\0\20\0\0\0\1\0\0\0GNU\0\0\0\0\0\2\0\0\0\6\0\0\0 \0\0\0\0\0\0\0\363\3\0\0\10\0\0\0\0\1\0\0\16\0\0\0\0000\20D\240 \2\1\210\3\346\220\305E\214\0\304\0\10\0\5\204\0`\300\200\0\r\212\f\0\4\20\0\210@2\10*@\210T<, \0162H&\204\300\214\4\10\0\2\2\16\241\254\32\4f\300\0\3002\0\300\0P\1 \201\10\204\v  ($\0\4 Z\0\20X\200\312DB(\0\6\200\20\30B\0 @\200\0IP\0Q\212@\22\0\0\0\0\10\0\0\21\20", 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1951744, ...}) = 0
mmap(NULL, 3791152, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f1b50bb0000
mprotect(0x7f1b50d45000, 2093056, PROT_NONE) = 0
mmap(0x7f1b50f44000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x194000) = 0x7f1b50f44000
mmap(0x7f1b50f4a000, 14640, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f1b50f4a000
close(3)                                = 0
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f1b51bfb000
mmap(NULL, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f1b51bf8000
arch_prctl(ARCH_SET_FS, 0x7f1b51bf8740) = 0
mprotect(0x7f1b50f44000, 16384, PROT_READ) = 0
mprotect(0x7f1b51165000, 4096, PROT_READ) = 0
mprotect(0x7f1b51380000, 4096, PROT_READ) = 0
mprotect(0x7f1b51684000, 4096, PROT_READ) = 0
mprotect(0x7f1b519fe000, 40960, PROT_READ) = 0
mprotect(0x61a000, 4096, PROT_READ)     = 0
mprotect(0x7f1b51c30000, 4096, PROT_READ) = 0
munmap(0x7f1b51bff000, 198023)          = 0
set_tid_address(0x7f1b51bf8a10)         = 8324
set_robust_list(0x7f1b51bf8a20, 24)     = 0
rt_sigaction(SIGRTMIN, {0x7f1b50f53b70, [], SA_RESTORER|SA_SIGINFO, 0x7f1b50f5f080}, NULL, 8) = 0
rt_sigaction(SIGRT_1, {0x7f1b50f53c00, [], SA_RESTORER|SA_RESTART|SA_SIGINFO, 0x7f1b50f5f080}, NULL, 8) = 0
rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0
getrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0
brk(NULL)                               = 0x1229000
brk(0x125b000)                          = 0x125b000
futex(0x7f1b51a0b03c, FUTEX_WAKE_PRIVATE, 2147483647) = 0
futex(0x7f1b51a0b048, FUTEX_WAKE_PRIVATE, 2147483647) = 0
epoll_create(1000)                      = 3
socket(AF_INET, SOCK_STREAM, IPPROTO_IP) = 4
fcntl(4, F_GETFD)                       = 0
fcntl(4, F_SETFD, FD_CLOEXEC|0x800)     = 0
open("/sys/devices/system/cpu/online", O_RDONLY|O_CLOEXEC) = 5
read(5, "0-7\n", 8192)                  = 4
close(5)                                = 0
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b503af000
mprotect(0x7f1b503af000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b50baefb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b50baf9d0, tls=0x7f1b50baf700, child_tidptr=0x7f1b50baf9d0) = 8325
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b4fbae000
mprotect(0x7f1b4fbae000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b503adfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b503ae9d0, tls=0x7f1b503ae700, child_tidptr=0x7f1b503ae9d0) = 8326
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b4f3ad000
mprotect(0x7f1b4f3ad000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b4fbacfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b4fbad9d0, tls=0x7f1b4fbad700, child_tidptr=0x7f1b4fbad9d0) = 8327
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b4ebac000
mprotect(0x7f1b4ebac000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b4f3abfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b4f3ac9d0, tls=0x7f1b4f3ac700, child_tidptr=0x7f1b4f3ac9d0) = 8328
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b4e3ab000
mprotect(0x7f1b4e3ab000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b4ebaafb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b4ebab9d0, tls=0x7f1b4ebab700, child_tidptr=0x7f1b4ebab9d0) = 8329
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b4dbaa000
mprotect(0x7f1b4dbaa000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b4e3a9fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b4e3aa9d0, tls=0x7f1b4e3aa700, child_tidptr=0x7f1b4e3aa9d0) = 8330
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b4d3a9000
mprotect(0x7f1b4d3a9000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b4dba8fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b4dba99d0, tls=0x7f1b4dba9700, child_tidptr=0x7f1b4dba99d0) = 8331
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f1b4cba8000
mprotect(0x7f1b4cba8000, 4096, PROT_NONE) = 0
clone(child_stack=0x7f1b4d3a7fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f1b4d3a89d0, tls=0x7f1b4d3a8700, child_tidptr=0x7f1b4d3a89d0) = 8332
write(2, "Resolver started with ", 22Resolver started with )  = 22
write(2, "8", 18)                        = 1
write(2, " threads\n", 9 threads
)               = 9
write(2, "Proxy started at port: ", 23Proxy started at port: ) = 23
write(2, "8080", 48080)                     = 4
write(2, "\n", 1
)                       = 1
setsockopt(4, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
bind(4, {sa_family=AF_INET, sin_port=htons(8080), sin_addr=inet_addr("0.0.0.0")}, 16) = 0
listen(4, 128)                          = 0
fcntl(4, F_SETFL, O_RDONLY|O_NONBLOCK)  = 0
write(2, "Listening started\n", 18Listening started
)     = 18
fcntl(4, F_GETFD)                       = 0x1 (flags FD_CLOEXEC)
fcntl(4, F_SETFD, FD_CLOEXEC)           = 0
pipe([5, 6])                            = 0
fcntl(5, F_SETFL, O_RDONLY|O_NONBLOCK)  = 0
fcntl(6, F_SETFL, O_RDONLY|O_NONBLOCK)  = 0
epoll_ctl(3, EPOLL_CTL_ADD, 5, {EPOLLIN, {u32=19119072, u64=19119072}}) = 0
epoll_ctl(3, EPOLL_CTL_ADD, 4, {EPOLLIN, {u32=19119136, u64=19119136}}) = 0
write(2, "Main listener added to epoll!\n", 30Main listener added to epoll!
) = 30
write(2, "Server started\n", 15Server started
)        = 15
rt_sigprocmask(SIG_BLOCK, [INT TERM], NULL, 8) = 0
signalfd4(-1, [INT TERM], 8, SFD_CLOEXEC|SFD_NONBLOCK) = 7
write(2, "Signal fd created\n", 18Signal fd created
)     = 18
epoll_ctl(3, EPOLL_CTL_ADD, 7, {EPOLLIN, {u32=3944364240, u64=140732842784976}}) = 0
write(2, "\320\225\320\277\320\276\320\273\320\273 \320\272\321\200\321\203\321\202\320\270\321\202\321\201\321\217, \320\272\320\273\320\270\320\265\320\275\321\202\321\213 \320\274\321\203\321\202\321\217\321\202\321\201\321\217\n", 59Еполл крутится, клиенты мутятся
) = 59
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [], 1000, 10000)          = 0
write(2, "Found ", 6Found )                   = 6
write(2, "0", 10)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 8
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
fcntl(8, F_GETFD)                       = 0
fcntl(8, F_SETFD, FD_CLOEXEC|0x800)     = 0
epoll_ctl(3, EPOLL_CTL_ADD, 8, {EPOLLIN, {u32=19119336, u64=19119336}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 9
epoll_ctl(3, EPOLL_CTL_ADD, 9, {EPOLLIN, {u32=19119408, u64=19119408}}) = 0
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "9", 19)                        = 1
write(2, "\n", 1
)                       = 1
write(2, "1", 11)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119336, u64=19119336}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(8, FIONREAD, [602])               = 0
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(8, FIONREAD, [602])               = 0
recvfrom(8, "GET http://www.vesti.ru/ HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\nReferer: http://www.vesti.ru/news/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 602, 0, NULL, NULL) = 602
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, In resolver
Host resolved! www.vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 10
epoll_ctl(3, EPOLL_CTL_ADD, 10, {EPOLLIN, {u32=19125744, u64=19125744}}) = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "10", 210)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 11
fcntl(11, F_GETFD)                      = 0
fcntl(11, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 11, {EPOLLOUT, {u32=19125840, u64=19125840}}) = 0
connect(11, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("80.247.32.206")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "1", 11)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(11, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(11, "GET / HTTP/1.1\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/news/\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nupgrade-insecure-requests: 1\r\naccept-encoding: gzip, deflate, sdch\r\nhost: www.vesti.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 583, 0, NULL, 0) = 583
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [786])              = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [786])              = 0
recvfrom(11, "HTTP/1.1 200 OK\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nContent-Type: text/html; charset=utf-8\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nContent-Encoding: gzip\r\n\r\n248\r\n\37\213\10\0\0\0\0\0\0\3\324SA\217\322@\24\276\367W\214\275\364BA\220\335-\204\222\30\343\301\253\211\211\267\315l;,\23\241\255\355\224\312\r\210\7\223]\327\304\263&\376\4\304\305TX\360/\274\376#\337\264\v\f\240^<\331\244\23173\337\367\275\357\275\314k=p}G\f\3F\272\242\337kk\255b\301\225Q\267\255\21\374Z}&(q\2724\214\230\260\365XtLKW\257\272B\4&{\35\363\201\255\2774_<6\237\370\375\200\n~\321c:q|O0\17y\317\236\332\314\275d\310\324\24\256G\373\314\326\7\234%\201\37\n\5\236pWtm\227\r\270\303\314|S\"q\304B3rh\217\242\264\355\371R+\227\22\\\364X\33>\302<\33g\23H\313\317\343&\201\25\254a\6\353\342\250D0N\341\26\346\260&\220\222\354-\336Ld|\v\253\354C\253Rh\20\345\323T\213.\213\234\220\7\202\373\236\342\22>\2539\356\265\210T&{n0{\212W\23<\32\301,\273\316nJ\4\2439\374D\354\10\317\247\360]z\334\271J\25\277\245\203Z\10|\222!,P\352*/FJ}C\370\272\0\22\370\222c\307x\224\36\261\263\367\310,\220w\10X\344\0204\202\nkL8\325I\245\275W\373+6L\374\320\215\324\302\17$G\233|\262\374\273\215;\230\252]\337\26'\373\0K\3747w+\\\347\205\207%JLrW\310]\240n\232\233\\a\207\226\210\220\211\0201\316\336\335wwV\244T\354\0375\366\250\367\4\335\345\33\251D\242~\224[\206\257\210[f\327\210\275\202\37\373*\210\316\273r\370r\215!\365\\\366\306\34\260\220w\270C\345\3630\266]2Nkg\265\272S=\241\325S\367!\265,c\253\241i\332&\330I\6\241\37\260P\fm\275s\321\244Ap\316]\245\345\325Z\335\2527\32\265\263\223\372#\253Q\335\33\301\35\323\277lF\\\260sioG6\6,\22\274\34\306F\373\367\t\221\26\207=%\233\34\352f\245\222$Iy\303\255\350\344\2179\363\351Q\337\307?\314\342_\322\374OS\370\v\0\0\377\377\r\n", 786, 0, NULL, NULL) = 786
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [2247])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [2247])             = 0
recvfrom(11, "1f0\r\n\344VMs\3230\20\275\363+\204\17\370@m\331n\10\244CZz\340\300\211\0318f:\214b\257\223\r\262\234\221d\267\371\367\254d;\315G\333\264S\206\v\7\371 k\337{\373\241\325\276\372\26\356\224\312a\303\264\267h-\350\213\\\350\335\0221MU\t\275\361=\366)3W!;f_|\206\177)\2705{U\265o\364WS\3748\315\377\224\342\373\f\373hHT\277\231\6I\211\\\322k\2307\226a\356\302\260\324PN\3\216\274\24\255\333\211\3513\204\360m\24y;\177&\354\257mIq3\361\242\256\27\22\304\32M\234\327\25\317\215\271*E\205r3\275\326X\325\27\243$9\243\205VH\314\337\231f\356\36xIML\235\345\33\215\222vC\257'4v#\301,\1l\310\334\2640\r-\334Y\207\30^\356h\177\221\206\357kP\357\177\ne\274\2161\255\363$\371\347*~\324\363\332v\241x\5}\24]>\220\304\355\371!\203\203&\224\25\2655\327R+(P8\210a\323\315:\v\2601m\5\35K0\260\370\27\350\300\315\300\333\22\35\10\3\274\22\250\234\345U;\35e\301\261\212\3\274\23hbi\33\265\350\361>\235\206c\333\30PM\316\260d\322\262o_\331\344\346\4\17B\317\221%\351(\371\230e\321\3711Y\217\321\365\6ftN +\303%\316\r\1L\342\25\271\363\231w\277\237:\253\301\254kU<\347|U\27\r\321\23|\211w\7\6\275\2373P\5\2267>\375\375\320\330\335\350\355\347\30y\336\240,\270\220\222 \311\3514Ncr|\34%\343(M\342t/\254+\321\212\316\370\210\374\315\3\242\221\223\21h%$\27EKK#M&T\362\32\342\314y\360\f\354{\325\224Ev]\264\314\310\332\262\17\0236c\336\317?\0\0\0\377\377\r\n311\r\n\354X_o\3320\20\177\257\304w\210\242iq\26p\2-\325\252\324\223\272\252\322xh\253u]_\272\256rc\3\326B\214\34\203\202:\276\373\316\t\224\204\321\222V{\330\3H\t\306>\337\335\357\376\371Lc\257\221\3234\236(7\215\312\237c&\246V\24\3234%6\350e[\214j\332\22\214\330\235.\3641/m_\342\243\351,\211\n\224&\211R\310\242\210%\30\222{\310\261\220\276\220\0\317\357\34\246LN\2734\373:\274(\201zF+\37\324\332(\274\16\276\347U\335l\342\365\v\324\n\v@\241\211\30Q\3151e\362\201\347\25JM\22-F\334?\304\1\16|sq\302\371\20\217 \303+\241\370V\0005\35t\324\255\347\240u\327\264R\335\306J\253\326S\3678\32\336C\215\203|\n\202\266\177\360\261\343\347>5]\307=\355\257c\332\22\327}\231a\263\35l\30584\250j\277Vt\277\222/\320\312<M\353p\376\367!V\317C\355\255\0362y|s\366\355\272g\265\254\336\371\227\313\0333\270\372n^\327'\3606\247F>\\\330\6\262|e\250\322A\267\2\356\0\301\224*+Rzp\237\10f\21\3139\350\356\7NX\232\217\244\374%\270i\356\314r>\2454\255\220\300\240\262\276h\367\fM\177\222D\246\7,\10\341D<\315\331\241(\277\331\270\217\226a\"\232Ys\326<\271\272*\26S\302d4\31\1\7\\\10\307\3518\26\32\331\241\355\206}\251\220 A(\216W\3648\346\311@\17C\341y\356cFV\v\267\342\16\233V@+\0244\253\323\302\\\370.\373\310&\266\353\206\263\315\233\236\337\342\265\3350#\31V|\34\323\210#\377\347\217\324\373\r\317;\177\320\264AO\321G\31!K\230\212\353\211J\254I\2]1\35s4s\303"..., 2247, 0, NULL, NULL) = 2247
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [2696])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [2696])             = 0
recvfrom(11, "464\r\n\354[QO\23A\20~\206\204\377\260\362\320k\0059z\251\205R\17\3V\305\7\215\1|31\327\336\265=\n\355y-\264\324\220\210Q\23\343\203\357\306'\343\0370\02151\205\277\0\377\310\231\331\355\366\356z\245E\33\254\244$\224\275\231\331\335\351\336\316\267\273\337\16\303\274\255Ki\375o\32V\314{\225\6\333\330\\Y\337\344\367\10 \223\7*)\241\375\307\361\331;\2j\330(,\371\2638\230\312\256\343o\307\3763\0\337\t;\375JK\177\213\343!T\372B\350w(\22\305Z\35{X\2@\314\23\312\216O\277\267s\314\226\330-\221\373uD+D\v\323\305\16\345\236\342\347\331\333\263\367\313\335\367\37\335\27?S\223\23\330\17\374\361\23<\23\304\263\201U\321\262\vE\344\225\24e\26\237)\205\221\36\323\314\316\263h\325\332\316\343\5\223e\225c\354\205\327\202\v\347\3501\355kJh\370s\232\0350\3017\210\326\320?l\v=\330*\331X\3EsF\2756\267\t+\n\210\220a\310\360\275\214\220Dc\351\266\313U\273\211\374\342\226\260\333\240\3366@\2106~\7\321\264\207\207\244\352\270\330\36\22\272\374\207\257\257\252\206Y\235\3437m\200\236\361dRK.\250\216k9\206k\335\251\230\326m\307\321\213\21\247\252g\363\356~\304\321t\313u\233\21'W\323\215\210\263\355\320\247\215\237\25*\233u\"\243\244{3L\1a\261-\24\236\315\340k@W\240\27c\247\212\2168\305J\331\202\25=\273m\21\201:\301`q`4}W\215r\331r\243\350\362\254\250\21\23\364\225P\305\250\202\340\\&T\225O\31\3175\243\214\204\273\2172\244\f\215\264\313\270\36\\\354w\303>\304\240\345YZ\260;9\302\244\252\366vR\25qz\372\353Yw\236e\247\365\217\20\262\257(\275J\34\331 X1\324\331\351\17\352\2216\375\313}!\341Sw&\347k\336;\35=O:8\321/\302y\200cx\241I%\37u\334\30\323a\352\354\226\341<`\227-Si\207\233\343\302\224\352E\t\3\226%\264T\"\225\\\320R7c0\27\343\20\30\276\206%\1\10+\25Lw\v\372\271\26\354\7\337\234\247\212\221_\227\266]>\361\267\3341\1\347\2542^i?Y\177\200\311\3310\363\313\265\220^\323X\21\\\23\310B\355\370ZQ0R\4\211n\2300\311\02000n2PD\230\340\252\363\361\217\177u?\0NM\366B@\322\364\200@\351i\20\3\271\33\27\1A\351\370y(\30\364\322\3\203]nzq\220\306L\16w\35\331\375\250\202\363\17QJ9'i\204\247)\364\207\314\270\236\255f\315B\4N\24i\200\314\274i\26y\231`\223J\371\234,e\333%\200\323\274(\331z\226\227\0VK\274\344\22\210\302\324\236Q\270\240\326\2661I\303'\0\215&\275}\302^\322\327\273\364\373^\365^@\275\6g\243\252\327\300\345]{\246\236T\205\341=W\204`>ln\237\252\236a^V\360\35\252*\33]\274\326\22\213#\200\327!\351\360\4\242,\nM\35#\354~\3\335\7\266\366\370a&6t\10\247.h\353\326\242\377\0068\362\370\301]\23\356\214q|\214\343W\r\307w\v[M\211\343\305\335\306\2008nH\0347$\216\33c\34\377g8\236H\216\330Yy\325\310\225\356\273\25\300\227AN\311\264\34\274<{\363\247\247\343!bn|\236~b\377\2ly\212\303\30`\257\f\300:\272\330$\v~A\0\255\265\327,H\240\315\215AuDAU\233\277D2c TEpj\244\346\207I<\"\217\273W\255\331;\305\5m\21\377\351\214?\3306>\16\206\276a\303"..., 2696, 0, NULL, NULL) = 2696
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [2300])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [2300])             = 0
recvfrom(11, "-\263;$C\253\tC\247\2178\316\34i\375\254\254>\211\360\273\204\352\255\372\250\336\1I\302\221\200\340\v\327\320\210\363\240\244\2778\34\205\222\240\3\377\346\302\37\342%G\376\225_\302\254?\220g \20\236\t\272\2707\266\254\253\365\316qq\237w\365\270\353r\331CV\332\323+\10\331\345|I\264\27\4\261\222\321\234>\244A\17%\310\210\10=d\351\356\356\0\341E\34E\347\0068\330\327\270\276\341gCxH\267\346\262F\271~\331\220\"\36U_\vq\347\f\361F\305\230\334g\vB\346\213'k\355\205\305j\355\345\37\0\0\377\377\r\n154\r\n\254\235Qk\2030\20\307\277\31250h\301\25}\330\n\3\31k\35\224\341\332\327A)#\2328\355D\235\332Y\205}\367\3454\256\305\3366\6\3631\27/^\342\303q\371\363\273\177\305-\233\263_\244A\247\273\274o\32,\\a\317\225\222\277H\355'\344Eh3\347\271\251\275\346r\377j\25\362\360\24\306~\345/\263\352\355!\22\263\325\325\334r\27\226S/wus\270\276\323\357\365W\312\246yq.Q\374\243\242\361X/\256\f\20_\332\355\323\247\305\320\201\rb\300\235c\332'\245\352\362\21.\207\322\271\236\37\201\0\2\334\2064\215;\20\224:S\315\357\306\3418\362r\236\327\10\10&\275\265}u\224\273a<\344\344\216pm\303\310$\314\30M\240\214\307:9\25\263\326$\266Q\323(\271>\370\215\271%V\1\310\246X'M\312\25\342\217\243\244\220y9\227*\341\226c\337\200\214\24\310\21cl\223z;\225v\302Z\375\372|\313P\204UM\261\215\7\207[\365m\\\210\373w\265\212\253rt\211\245N\346\254\37\27]Z\340\252\314Q\nf@`\300\310\232\300\r\4\204\2\357c2\256\242D\244x\374Zbt>\351\33\26\336\360\262\375'\33UI\375\4\0\0\377\377\r\n3c8\r\n\354]\313n\323@\24\375\225Q\367\225\342\261\235\304\375\16\366HT\221\272\240 A\21\353$-\17\245\240V\10!u\203\20\33\226i\3524\226\323\366\33\354?\342\2363\3438I\355\202\32\232\2304\250B~\304\226=w\356\231s\357\\\317)H\204\272\315\242\251\370\"\34\251.\375X1\321\360\374\205\211\206. \32\216\353\270u_/\3064J\37k\376m-\325 u3\t\203;\337WFNH%u\354L\332\361\224\22Ia(\200\177\225a=|\201S\260\27H\256\214!\226r\216h2=N?0\376\220\227\31I8\322K\6\234\323\354s\265'\224>\f\2150\24\230O,\4\7\363\216c90\21\224A\4\3\332$\333]\271\3479\233\250\273\245\322n\372\336\362\253(\211y\3EJ\325\241*T&\263\22U\215*\351\35]{\334T\251\22\250W\26a\315\36\336}\336\2221t\305`X_<\352r\213\300\260\346yA\243\266&a\27\32Ib\254K\270\276`\213\374o\364\341\242\344\202x0\2\334\250\344\273\300F\207\242P]B\206]Mmh\20\n\311\274\243$J?\232:t\263Nd\225\300\303\331q7\340\221m\315\34\276\307N\351\211{\203\307\252\3233\215\205\201\302+\2\n\35\324\\\35\254\tP\240\221\2223P\24\346\271\1\24\342\3637 \23i\7\31\27~w\2\2000$\354\212T\342\302\322\2111/\354\313\17B\233\330\21~\22\232+\262\24\216\1\24dt 2\327\315\277j\251\32\232\270;5\177\203&vk\346\360=vJO\374\247h\202y\241\207H\366J\f&\321\202\277\36h\302F\342\312\334!K+\207\24\241\314!\204\2\266m\300\10\265)\315wn1'\16\257\215\254\355\366-X"..., 2300, 0, NULL, NULL) = 2300
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [1348])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [1348])             = 0
recvfrom(11, "\r\nBt\371\240<b#\r{\177\26e\270\316\330\0346Z\7\0\0\0\377\377\r\n3b\r\n\242\352\206=\320 \341\240:\313\33(<\371\302D\5K\243\213\255f\226\303\340T\357\321\333\273F\370\211\344t\270\\\246\2740\211\334S\240G/\227\201\24sD\214\35\2\0\0\0\377\377\r\n21a\r\n\324\235\301N\302@\20\206_e\351\31(m-U\17\22\17&^}\202\206\300\205\304\304\20\354\301\243\234\274h\242'_\200\304#\301\206`R\361\25\340\215\354\314\354\16-\273-\255'\351\5\332\224nw\262tg\376\371v\252k\207\3513\271\240B\362\336,\206\2 \311\204\\zB#\26\r\232\242\220\237\341h\30:n\307\350\260d\30\276\235(\30\312\37f\222\214r\315q?\272\277k3?k]@b\21g\365v\356q-\363\206\256\251\305\35\364\247nOQ\177\232\31L\2661n\205gfr\256\22\320\344\256\225\317\257\245\2302C\312F\253`A\36H\23\342\267\324\370v\267\353\271^`\227\340\313\334l)\306\254^\22_\2604b\f,\263\353\7N\5\226\231\33,t\260\370\214\303\30r]3l\336\262\376\322\na\342\25T\206%\7\361\21}\3775\261L\v\310G\317Q\223[b\224\377c(\"\323\250D\"S\376\327\354M\352\207k\373\316Z{\273\261\307#\235\2\207\277\30\316w\354\301\340\26\366<\307\357\330\30C\317q\235)z-\v.\334\275>\27\326f\266}\225@\306\227\325\304\375\27\336W\vb\371\254\355\263\325\243\177lQ\201\243\377o\2363\37L\362\1\216y\v\25\367op\7\245\242\7\206\301@\222\336k\205\242 \352\2751A\244\24\244@=\260\251@\355 A\352w*\256\37R\227\251?\22W\343(\232\364\32\307n\244\223S5\206\234\240\203ch\6}nA&\3GQ\334\6\205\rUO\264\n\341:h\317\244)6\357r\334\3042\212[\22\340m\221,\376$\301\22\320\301?i\305s\32\3rj<\241\202^\330N\302\354\364\21\33\263k\253J\220\230z\277\214\206#q\343+\0326f\366\t+\230\355?\310j\367^\353L\236Z\341\303\345\23\266)\320\255\25\320jw\232\277'mA\202\nxs\356K\226`\251\330\335\252\333\301\vU\10\226\235\200\331\226_\0\0\0\377\377\r\n14a\r\n\254]]k\2030\24}\37\354?\10c\312\36\332\230\0173k({\350\317\30c$1\265a\251\16[\266\277\277\334(Q;\306\30\335[\20.\334{\275\201s\344z\316\177\262e\232\377\306\226#\354\2144\340\233\26Iv\251E\342\231\323r}#\306.4Vv\220QPY\311\306\331\317\36\236\361\313:\270\240\254\225\324oMp_\335u\256\v$\356\256\226\206\30\35\270\34\200\343\31(\276\275YL\31 \22\t\262)\275\3750=\214\231n\354J\331\26ig\265\247\371\215}:\301\276`*\353-\317\t\3018U\347-\301\351;|[b\214PZ\244\312\237\31\337\20\312x\252\332x\354[\37\270a\34\323\222\224df\234\242\234\4\305\313d\362NY\242\243\213_\275\216\207\327\275u\346\204\362\34#\2169\32\264\351\27Hi\322\0\212\3560\341Q\360Q\274\27\243\331L\225\300\235\22\211\257\365l\265t+\351l\323V\311\321\326\2653\"\231\33\312\f\213b\340\3353O\362\307~\365\376U\374\265[\305\324\255b\350V\311\37\261\217*Y\254b\334\254\250\302\355\23c\31\271\0\251\322\275\353>\253\203O\335\264b(\326\27\217\256\3409_\0\0\0\377\377\r\n18d\r\n\344]\273j\303@\20\374\225#?`\23K\266\276(]\10\30"..., 1348, 0, NULL, NULL) = 1348
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [7136])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [7136])             = 0
recvfrom(11, "\23\352\34\353^\345\265Om\260\234\272\303\3722\251\316\21\223\t\375%)\337\0\0\0\377\377\r\n63\r\n\242nO\206\216\27\235\343Z\225\17\26\3\245\301Fp}\7*\3357]l\276\330\247\0\337\200\267\27\\\216\351\202L\230pa\212\2b\317*d\360g\1t\231\301.\310y\337T_\235\2179\0259\272 \237\252\27N\221x\253RQe\212\32l\276\213\222\265\354\330W\257#\356\370\36\244\213\327\1\0\0\0\377\377\r\n727\r\n\354]]O\33W\20\375++W\344)\304\366~\330kK\215\324\252\312s\324\307\276D\16\5\25\265\5\3256\240\366\251\20\221\"\341B\323F\212\304\3U\32)o\225\314\2270\330\301\177\301\376G\275\347\314\354z\35\f\241hm\274\306\10E\353\215\355\313\316\336{w\316\23433\3\200\231\347\214\22\230\345s\261\0\263\265\265\265\336.\177\251}\200\7\236+\262\324\345\241\24Y\346\367\v\247\365\31\353#I\217[\310\332\17B\233\305\n\325.\325:U\250\346\335\0255us;\0008q+\247\17\fh\206\272\236\215@\231Vgr\3611\321C\215h\316\34\10\313 \236\242\10\21\265\374'\236\27\210\255oJ\203\256\344\2\261k\355\347\373P[\277\25i-$\271\rb\3213\272\220T\326\323J/\254\24+\23\235\362\25\337\221R\215\275<\324{\305\211Z\250T\324\255\21\314\t\257E\302f\234\235\355\353gX\316!H=\355\27\313\321F\222dp\244\274\10\312\344\360b\217X\301\2\31\356\222\177\2\263\274VK]\320\327\221Y'\341\2x\33\370V\371\337#)\315\224LSy\271\324\343\247\245r\365g\363|\377~\336*Y_\257T*\213\245\245\"%\240\254\270\333@\211\v\316\v0\301@\36\353(\363\4\320\"\312\3756\246\36M\1\332\352\\\210R:\217 \374\272\273X\263P.\32DC\210|\36\250\203\23i2\337v\373\230(\226\f\335\260\330\\\306,+*\343/\30k\252i\322\303\251x\310R\266\302X\363D\n\347\314b\3233\23r\307<7\205+}i\276\360H;\343\234\367\304\232u|\27prbl\246]\214\30\nX\5\203Wp\334L>=\7\f\234\346\256\337\326 Z\235\263\201~~\21\313\265\216\22\322\6`\34\30\323\34\233\371\202Z\254#\243\357>\355\354\334O\230;\214\237\351@\0236\3200@L&\36\35]\270\256\27\26\227JKs\363\1\275\364/w\331\240V|\30o\275/p\345\3064\262\347\273\205\274\23%F\35\273\220\367}!F]\327\3139.\211Q=\0041\232/\270\216\223\311\307\215u.\325\24\25\254\343z\376]\311\360FcD\224\363\321\324hF}A\244H0\35\30\250%%\311B\332\352LS\235Y\235\257.\311?\32\312c&\355\226\246\177D\t\n\231\375\23\0\232\"\213\274\4\321\0t\10y/\227\223\342I\7\214\30*\303\"yQ\r-\17\37\251\237\324PHyH\27W\302\220-\315\226!pz\231\10_\354\nS\260`\321\36=,f_\207**M\330hH\242}S\33j\260\5\307AwGKImh\365\23\314:f\217\35J_\301\204Z\303+ ?\35\200\256=\233-D2S,\201:u\240DZ \354h\322`O\22.\233-\316\237\2268\375MI\234L\2601r\236\32\303\230\340\310\"\347\255\305\26:\37\212\226\6\17\326\261\375H\210\376Ps\365\271\257\310z\1\310K\262\5r\231(\233\33\\h\330,\2\300\227\227k\261(\352\21\337\370\2\33\4\360\214$\324b\27\356nw7I\351\21\315\351\326\314\223\330\263E\36l^\330\331\2076VR\23\322OBd"..., 7136, 0, NULL, NULL) = 7136
brk(0x127d000)                          = 0x127d000
brk(0x1279000)                          = 0x1279000
brk(0x1275000)                          = 0x1275000
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [1348])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [1348])             = 0
recvfrom(11, "y\17\27\265\236\233\244E\324\263O\374\22nv\262\276\203w\277\250z\327}\347\215\277gU\241\3245av\324\211(l\0320H\260I\261\357\274\332\366m+\263\336\264,;\352K\336z6I3\241\332\202\275 \272\224\226jR_\317z\355MnqhI\30\364\221@\22:\263*\370%\276\3d\231\226\275h\310\262\22!\313\254\326\32\226\fYT-5\240\363J<\177,;\314\204\211T\246\3276\236\274\373\320\331\177*\211\243\200\250\240\33Hc\363\345\340\270_\243 \337G\213?\344\247\237\261\377L>:\341\5I\220\364\2\1\22\27\5*\7\\\226u\36\227\36q\v\0\201\370L\262\366gI\2715K\367\260+\245\2\322\272\301\304SA\315\235\306\321\324A\37\t\216f\340dm\3418\31\253M\0218Y_\215\230v\247\241 \273+E\5Q\0172j\33T\17\2\0025\224\215\6\20\300\227/\331+6\204q$\32\235Y4\366:\224X\5\216P\265\t\325\24\364\213\0\177\264\3259/\273T\370f\7\370\326\327\350\2269\250F7:r\215\254\302\273[\243[\214\352\203\320\315l\324-;\202n\277D\221\260\377S\334\16K\346=\241\262\vF\230!Y*_qg\372I\260'\0055\366(1\342(\237K\315\210\323C\352@0\236u6\234\335\255Y{\3020j!\25\302\306\243\35\177\230\325\227\n\353\252\32\353\222\347\255\261Nu\362Z\371\4\351,\273\261j\313t\1/\237W|'\230\364\21^t\3666\234\327\235]:\243\223\240\303\352/\276\306.\373n\206P-\357\vJ\254\177BE@j;/\2\210\321V.xY\245B'S\240\223\306\246\314A56\321\201j\256\346\25\215\253Gx\346\275\37\220\324p\205\366$\261\355\t\262\366\256 \344\303\241mSt\210\364\204`v\fC\236\246\261\377 \365{\201\330\211\"\357.\363\227\37\261\371\301Rp\324\271pI\224\357\340<\347\343>\232\r\360\31\336\334E1\2543\372\34\212\264'\245BEK\333l\311\363\326\270\250L\n\266r\212\276\231\255\246\334\32F\34w\23\321j\365E\234J\35777\273#\315\350\6\262\230C4\25\37q3\374\30\272\6]\341\311\35\33`\34\354\203\335\221\214\201q \363\2130;\332\220\v\0z\330\344\334\26\\*D3ujV9o\rj\252\363f\232\271\4\335\254j\255\325\220\311^\274\23Q#1AA4\224\323\240\272\366\35\321\361\1\210:\373\313\344\226\321\275+V\2353\20\255BQ\235A\246Q\20\250*\2r\321N.vU\245\202'\253*\301\23\5\0165@e\f\252\1\n\307j\341\336hr9\233\357\215\326d\6p\357\2145C\373H\361\201\222\21\376\22\216\363\t\370\234{|\3277O\340\236\35\n\271\307\321Lu\344\n&I\217i\211\17\247\275B\340\24\271\225\367\261\270r\301UM[S\252yk\260Rz/\271\25\262Yf$t\366\23!\355s\374\245ZUV\343\21A\"P\317A\347p\214\243\3135U\241\3422\223\2501\0\370N\27\321\206\35\240b{(4o%\256\260\1\v\374\340e\243\"\240\31\355\370\303\254\276Tp\247\353z\263\347\235\332\307\312\355\36\25\263\232\211\0s}\255v\320v\365\37\0\0\377\377\r\n1b\r\n\242\352\266+K\223A\260\257utK\376\10\337o5\272%\237\227\v\0\0\0\377\377\r\n233\r\n\354]\301N\302@\20\375\225f\317\212T\321\372C&\336L\324\213G\215\211\236\214z$\32%\361\3*BZ\205\217\350'\271\363f\266\260\322\5\204\332lp\2174\33\262\263\r\217\231\3317\357U\rpv\246\347\253\252\277\324!"..., 1348, 0, NULL, NULL) = 1348
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [5392])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [5392])             = 0
recvfrom(11, "\347\30\357\306H\334\250i\340\2` \35 T`\331\324\265\2\330\351#\221\2100\264\251\211\370\316\330\213\24M\237\252\262\203S\353\306\25pl\265\215\4\34\233\277\322\23\34[4\32\336L_\213p\312\356k=Re\304\203\204\206s>\0ms\24\211\260\3+<~\241\304B\301\245\237\223^\316'' \3248\352\26\367\334\261\6I!\215D\f\317\213r\222N\366o\243\f\310\265\332F<A\256\245^\215C\326\373\227T\210\330P!\276\1\0\0\377\377\r\n9\r\n\2\315\233\2\0\0\0\377\377\r\n178\r\n\354]A\n\3020\20\374J\36\240`j\251\350\353\264\202\27\17=y\21O\236<\26\264\264\10\322/\350\217\354\316n\305\242\221RJ\214\222k\te7\220!\273\331\231y\367n\252\273\276\233\266J\314\303\257\361Bc\207\255\256\243p\322\324\35\332b\310tY\235\267!\206B\24\200(\243\233\23K\361\260>z>SB\353)^8\214)\233\25\315\305\240\361X\223&\25l\305S\f\236\304\350\370\253\353\246\372-/t\203\0:\206\3\352\267\266\300\3w\267@\34\1\356Vq{\3143\35\276hb\245\315\247\247\243@7et\305S\257`\2027\t\207\253'\316#^\36\311\t\0312\264'\361E>\363\210\2768\261e\352A\16/p\302cYV\nt\24\242\337\23\337\326.\0\35\355\265\355\274\377\n\335<\233\335\20\267\3077c\341\327;\276\31[\177A\370\214o\7\21\f+ku\36v\231d\7\354\214\251\334%x\333\260y\246\252s\305\302\212D\215\204\3436n*\324[K\250\364$A\262\\=\234\240\253\252\325\5L\243\375\265\221\253\307\261\256\241x\34\373\274\3627p,\262\325\32\324\341\264A`\337\263'0\31\34123\210\355\345E\344u\7\22\345b\240P\300\261\273.=e\16Y\332\242DW-\251>^h\330\2\242\211.\240\26\355f\377\231y\214\352\32J#\214;\0\0\0\377\377\r\n77f\r\n\354]\315n\333F\20~\25\226g\313\342\237~H\2400z(\320\7(z-\230\230\265\4\313\226+J6\224\223\2324\251Q\2476\n\344\20\264M\v\27\r\332\243-[\266\342H\312+\230o\324\235\231]QT(\331V\24\212\221\27>\330\242\226\362\356P\373afv\346\373$F}\252\0305\367c\326\t=\354F\321\310E\v\344 \335\323G\0161$\232\30`\261\204\250\260\37\351$\200\263\312.\264}\213c\3306\357\203\204\n~\266\235[x<\320S\260\21\274\0072(\324\36\t\r\\\200\4\257\257\177O\5~\t\t\373\251\253VG\27\254\316\262V\211h\263NE\"\332\364\221)A\264\17,,\311%\307!\251\351\357\27\226\274\20}\333\304Z\201\16\fT\302\366E\312\274\3g\231\340\310\204p\307\266\365\t\364\226\216\324]t\234a\304u\211Q\332\0\33O\7T!\373\204v\215\0\31LU\t_\t%K\310_B\342\305\264\370w\360\\\324;\230GM\3042\22Mg\235\212D\323\351#S\202\2467\371\207sG\313\330\\\234^0\314h.\356\5n\377\26\261\3773w\350'G\t\236\tf\177\254\3458\305\366\200Kj\213\302\215\334\16\0168\277\306c\352M\204\v\373\360\16\304\202?\242\7\365,-\344\340`\331\217\273\312\245\302.\251d0a\336\22\273&\356\260d\10$u\333\266\242\374l\277\221v\22\322-\16E\350\"\254\330\304\370s\21\366?\r $\204\16\250\177\202\347\301!\244\342\25\364g:\301\323\261`\217tJ\340\362c\274\347\t\322\244\265S\1i:V\205$\277x\211t\263NE\"\335\364\221\237\6\322\345\346"..., 5392, 0, NULL, NULL) = 5392
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [3145])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [3145])             = 0
recvfrom(11, "l(0\33\0\323\233\225B^>\224\211,\t\256B\255\24\224\323\322R\23--\7f\231<\370\320\255-\340\3\\AG\32\356\201]\367N\371\32\207a2\7j\10i\372h\16\304\344gqrbA\352\350\204\347\0Nx\242\305\0\311\223\234\360\324\203wv\23\0\0\0\377\377\r\n8e\r\n\354\332\261\t\2000\20F\341^p\r\353\273h\274\263p\32G\260q|E\vm\22\10\202\n\276\21\2\201\217\343\375\324\315\202\305\316<-\351\305\316\265Z\356\3052W+3\2452[)\23\205\262\340\16?~\310\250\22\335\203[\224\346\354\224/6J\364A\37\364A\37\364\371\203>\346qP\t\352\340\3>\340\3>\340\3>\217\235>\332\366jb\26\320\7}\320\7}\320\7}\236\322g\350\273n{\257\307\217\340sk4PW+\0\0\0\377\377\r\n2d\r\n\302\234q4\7\37G\204q\236\37\22\37\363H*\350b/\360t\36\21\307\302\353\32\32\233*!\31\200t\230\253)lR\20\0\0\0\377\377\r\n6e\r\n\242\3521\360\226\4\246\0051\214\242\303:\7s#\213\nK\350\351\177%\371\5\240\243\377\300\347\376!\335\321\r\324\4\272/\1r\231\f\264\226\357\7\v\201\317\4\204\6&\355\317\3\4:\365b\253\345\350b\210\201:\16\260$\257\304\20\30\7\260\243\343K\214@\234\241{ `qe\5xQbZja1\315\27%\16\376\363\0\1\0\0\0\377\377\r\n231\r\n\274]\315N\203@\20~\25\302](-\3753M\217>\2001^\tPJI)\333\260\273%=z\361\342\301\3047\320\370\0\306\253\211\317`\337\310\331\37`\273\202\226\304\2647\266\263\37\337\16\335\31\266\231|\323\244i=Tc\260\374h\241X\215U0y\303T\1\3138\\\213\322\376\214\325[?\206\344W\n=\327\206Z\330\16\20!h\343\t\251VUDP\263\v\341~Q\36-Z\244\216\325\373\253)\204q\271B\10\246\312\200?[\212\253\262\256\205_\231\225\n\"\263gc{0\311\374\235\301k&`\252Q\226\271\250\274\304\344J\314\372\370\322\203`k\266(\325\n\313\26\271\355\31MK;`\340\325\f\3655\377=\300\341\322\344\27u\350J\345\231\245O\3334\346\"\215\210$ \32D\266\370\233\301\376+\3\321}\235sx\22\355\201\276>\317y\177\34\3614\"\264\256C\310\347\16S\231\0046\257\262\275\346\207l\303\366vNVA\216\374E\350c\20291\306\347E\234\250Y\273\243\303\343\341\36|u\316\347$\33=\213\rkUo*\374\271=\363\344\376\16\357\4w\207\207\316\234\216w\201MS}c(;\10\243\360\"\240\20:2\334\2645j\325y\305\320\333\255\315\343E\354\4u^8\305J\322\32\0107#-\3\r\251(\nk\351\207p\316A\n&$\247N\260\244 \32.)\22\2\333\277\206\3642)\332}2(\322W\315\270\242E\206\326\3146K\326\274f\214\203\367\335N\310\3616\245\330d\305x\20\243)Y\241\334\324Z12\3+F(\206\237\n[\2\265{\266\323\233\364\334\321t2\30\217\306\303\2513\36\f&\256c\303\261\224t[W\216\261Y\305\16\341m\334\r!\3110\3615\347\360\261\30\22u\355\362\276k\233s\251\244\177\32\360\36QB\203\250\301\357\362\33\16~\315\373T\366\335\233\333\216\360$J#FQ\367v9nm\"\301<\247\36\344\327Ft\365_\2020\215\374\374\322\0\323UKef\247S\232\314\260u\372\254\222\3777\0\0\0\377\377\r\n43f\r\n\254]\335N\23Q\20~\225\r\3674g\317.\333\326\3470\336xe"..., 3145, 0, NULL, NULL) = 3145
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [1714])             = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [1714])             = 0
recvfrom(11, "\362-\"\237\264\365\335\240\307[vN\nB\216F\17.\332\340\341#\370\337\2301\26\224\6\217\365\t{z\177\260w\357\353\375\203\355\321`\227Y\23U\253_\263{Xe\253a\276\310\233B\2@D\310o7aL\323\314\324T\35rk\276Z\231A\361a\315T\25/P\17\214\265b\332\10\261\215\326\212Y\210S\236\307L\231\254\312\7\254\347T\0032SN \217\227\22\262\231\2\302J\275\351U^\231H\357f\272\n\0067\230\256\220\243\331\302\336\321tm\225\300\355M\352\260\316\331k\241\255V:~\306\205^1\5V\262\372\215\3546\227\377\0\0\0\377\377\r\n264\r\n\254\235\317J\303@\20\306\357\202\3570\344T1\t\330j\253\342\301\213\7\257\376\273\327\233\240\10\342\3\264EA\260 (\210\250\7\25/\336\242\370\247\325Z\301'H_\301'q\277of\223*E=xiI\232&\273\223\335\311\316\357\233\335\374\3474\227\211\362/\213\337a\225\321\367\33\trU7\20F\240J\213\31\26E\300\305\256W\243\363'\201\33\270\254\314-.\315\307\v\313\301H,\320y$r_\316\245\0029\337i>\260\372\210^3[\244\23N\247f\200\304\3\23\v\316.\323\363\364D\\\\\375\"\37;\307R\251D\223\23S\25\4m\r\367\370q\221\37\345\336\32\351\335\1.8.\31q\266\220L\275\232;O\213C\366\272\26\337_\34\352\361EzM\231T,\200K\260\363\215\2523\310M+\24\357\326T\251b\224\251a@ba\0Ez}\261\273\236\31\321zB\n\313\351<\275]M\377\351\20\331\274*\32`%\333\3164\207p\211\352m\23&\2011~Sn\257RSG\31\22EQ\324u?\24\312\310H\337Pz\354\361\276iS_\3\300\220\236\327\225\267\245\241\v\4U\244\177\270\177ui\7\264n\265HK\363\r\324\361SQl\233@\3321\3763@>\202\340\256\363\206<i\2717\350\325w\237qH7\275\25\323\345\270L\253\32%\257\372\203Z\322\256\362\252\206\313\354\322\333u\306:35\3\207\372i\313\275&Ig.p\364\5\347f\377P\270L\254\333\16\205\242;o#\253t\347\363\324\277\233Y\237w(\372\23%\305G}@6\354\222\317\330\250\213e}\21\300ic\360\5\356R\243\322|\5o\216\3)\270\16u\224^\271fw:\302|\30\354\314:F\233\320\220\4b\317Ud\254,lx\215xxhfu\vSI\252bC\232@\3074\3\362S\267\252\33\253\353:Z\244\f\223\220d\223M\241\271\3\22\334\372\366\f8\220-*\214\217\271\215\352\332\272\366\310{BR\355\213\31\234\302\317\333\233\323 \3\263y~\364\227M\2343fQ\177`\26\24?~d\26\364\32\2311Mxm\347\275q\207\251v\2719e\264\"\205q\274\347\253X*F\345RT*\305\276j\3\235\343\37\346\333|\2\0\0\377\377\r\n22\r\n\302r\310\252\5\362)\253H\305<\201\21\25\304x\t\244\251\201Y\320\33\232\232\301Jz\0\0\0\0\377\377\r\n8\r\n\2Y\r\0\0\0\377\377\r\n20\r\n\302\262\325\7\250\0\334\f\321\207\30j\7S\1\335\34\3u\27\252\251\246\3060C\1\0\0\0\377\377\r\n8\r\n\2\31\n\0\0\0\377\377\r\n11\r\n\3024\324\324\30\273>C3\270k\0\0\0\0\377\377\r\ne0\r\n\242f\275cdiI\374\251\253\360m\316\210\243b\253t\301[\321\254\300\33\257QN\2165\202\234\315\n?^\26|\0\2555\254\267b`\235\223\232V\2\242\213 '\330\32\f\3109\250N`\347\370\0\373\nD\35\300\260\t\\"..., 1714, 0, NULL, NULL) = 1714
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "8", 18)                        = 1
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19119336, u64=19119336}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(8, "HTTP/1.1 200 OK\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nContent-Type: text/html; charset=utf-8\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nContent-Encoding: gzip\r\n\r\n248\r\n\37\213\10\0\0\0\0\0\0\3\324SA\217\322@\24\276\367W\214\275\364BA\220\335-\204\222\30\343\301\253\211\211\267\315l;,\23\241\255\355\224\312\r\210\7\223]\327\304\263&\376\4\304\305TX\360/\274\376#\337\264\v\f\240^<\331\244\23173\337\367\275\357\275\314k=p}G\f\3F\272\242\337kk\255b\301\225Q\267\255\21\374Z}&(q\2724\214\230\260\365XtLKW\257\272B\4&{\35\363\201\255\2774_<6\237\370\375\200\n~\321c:q|O0\17y\317\236\332\314\275d\310\324\24\256G\373\314\326\7\234%\201\37\n\5\236pWtm\227\r\270\303\314|S\"q\304B3rh\217\242\264\355\371R+\227\22\\\364X\33>\302<\33g\23H\313\317\343&\201\25\254a\6\353\342\250D0N\341\26\346\260&\220\222\354-\336Ld|\v\253\354C\253Rh\20\345\323T\213.\213\234\220\7\202\373\236\342\22>\2539\356\265\210T&{n0{\212W\23<\32\301,\273\316nJ\4\2439\374D\354\10\317\247\360]z\334\271J\25\277\245\203Z\10|\222!,P\352*/FJ}C\370\272\0\22\370\222c\307x\224\36\261\263\367\310,\220w\10X\344\0204\202\nkL8\325I\245\275W\373+6L\374\320\215\324\302\17$G\233|\262\374\273\215;\230\252]\337\26'\373\0K\3747w+\\\347\205\207%JLrW\310]\240n\232\233\\a\207\226\210\220\211\0201\316\336\335wwV\244T\354\0375\366\250\367\4\335\345\33\251D\242~\224[\206\257\210[f\327\210\275\202\37\373*\210\316\273r\370r\215!\365\\\366\306\34\260\220w\270C\345\3630\266]2Nkg\265\272S=\241\325S\367!\265,c\253\241i\332&\330I\6\241\37\260P\fm\275s\321\244Ap\316]\245\345\325Z\335\2527\32\265\263\223\372#\253Q\335\33\301\35\323\277lF\\\260sioG6\6,\22\274\34\306F\373\367\t\221\26\207=%\233\34\352f\245\222$Iy\303\255\350\344\2179\363\351Q\337\307?\314\342_\322\374OS\370\v\0\0\377\377\r\n1f0\r\n\344VMs\3230\20\275\363+\204\17\370@m\331n\10\244CZz\340\300\211\0318f:\214b\257\223\r\262\234\221d\267\371\367\254d;\315G\333\264S\206\v\7\371 k\337{\373\241\325\276\372\26\356\224\312a\303\264\267h-\350\213\\\350\335\0221MU\t\275\361=\366)3W!;f_|\206\177)\2705{U\265o\364WS\3748\315\377\224\342\373\f\373hHT\277\231\6I\211\\\322k\2307\226a\356\302\260\324PN\3\216\274\24\255\333\211\3513\204\360m\24y;\177&\354\257mIq3\361\242\256\27\22\304\32M\234\327\25\317\215\271*E\205r3\275\326X\325\27\243$9\243\205VH\314\337\231f\356\36xIML\235\345\33\215\222vC\257'"..., 28112, 0, NULL, 0) = 28112
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 12
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(12, F_GETFD)                      = 0
fcntl(12, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 12, {EPOLLIN, {u32=19119864, u64=19119864}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 13
epoll_ctl(3, EPOLL_CTL_ADD, 13, {EPOLLIN, {u32=19119936, u64=19119936}}) = 0
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "13", 213)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "2", 12)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119864, u64=19119864}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(12, FIONREAD, [226])              = 0
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(12, FIONREAD, [226])              = 0
recvfrom(12, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 15
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "15", 215)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(15, F_GETFD)                      = 0
fcntl(15, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 15, {EPOLLIN, {u32=19127048, u64=19127048}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 16
epoll_ctl(3, EPOLL_CTL_ADD, 16, {EPOLLIN, {u32=19127120, u64=19127120}}) = 0
timerfd_settime(16, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "16", 216)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "3", 13)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 17
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "17", 217)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(17, F_GETFD)                      = 0
fcntl(17, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 17, {EPOLLIN, {u32=19128280, u64=19128280}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 18
epoll_ctl(3, EPOLL_CTL_ADD, 18, {EPOLLIN, {u32=19128352, u64=19128352}}) = 0
timerfd_settime(18, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "18", 218)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "4", 14)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19119336, u64=19119336}}, {EPOLLIN, {u32=19127048, u64=19127048}}, {EPOLLIN, {u32=19128280, u64=19128280}}], 1000, 10000) = 4
write(2, "Found ", 6Found )                   = 6
write(2, "4", 14)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 19
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(19, F_GETFD)                      = 0
fcntl(19, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 19, {EPOLLIN, {u32=19128968, u64=19128968}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 20
epoll_ctl(3, EPOLL_CTL_ADD, 20, {EPOLLIN, {u32=19129040, u64=19129040}}) = 0
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "20", 220)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "5", 15)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(8, FIONREAD, [621])               = 0
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(8, FIONREAD, [621])               = 0
recvfrom(8, "GET http://www.vesti.ru/css/release/main.css?v=42 HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/css,*/*;q=0.1\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nIf-None-Match: W/\"57ee5fe2-281de\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\n\r\n", 621, 0, NULL, NULL) = 621
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
ioctl(15, FIONREAD, [407])              = 0
timerfd_settime(16, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(15, FIONREAD, [407])              = 0
recvfrom(15, "GET http://filmpro.ru/media/css/filmpro-widget.css HTTP/1.1\r\nHost: filmpro.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/css,*/*;q=0.1\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\n\r\n", 407, 0, NULL, NULL) = 407
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "15", 215)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "filmpro.ru", 10filmpro.ru)              = 10
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
ioctl(17, FIONREAD, [617])              = 0
timerfd_settime(18, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(17, FIONREAD, [617])              = 0
recvfrom(17, "GET http://www.vesti.ru/css/release/ahtung.css?v=8 HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/css,*/*;q=0.1\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nIf-None-Match: \"57ee5fe2-4f\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\n\r\n", 617, 0, NULL, NULL) = 617
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "17", 217)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19128968, u64=19128968}}, {EPOLLOUT, {u32=19125840, u64=19125840}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 23
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(23, F_GETFD)                      = 0
fcntl(23, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 23, {EPOLLIN, {u32=19220168, u64=19220168}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 24
epoll_ctl(3, EPOLL_CTL_ADD, 24, {EPOLLIN, {u32=19220240, u64=19220240}}) = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "24", 224)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "6", 16)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(19, FIONREAD, [612])              = 0
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(19, FIONREAD, [612])              = 0
recvfrom(19, "GET http://www.vesti.ru/build/all.js?v=1.1.2016-06-10.1 HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nIf-None-Match: W/\"57ee5fe2-524b0\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\n\r\n", 612, 0, NULL, NULL) = 612
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(11, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(11, "GET /css/release/main.css?v=42 HTTP/1.1\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: W/\"57ee5fe2-281de\"\r\nproxy-connection: keep-alive\r\naccept: text/css,*/*;q=0.1\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 602, 0, NULL, 0) = 602
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19220168, u64=19220168}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 26
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(26, F_GETFD)                      = 0
fcntl(26, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 26, {EPOLLIN, {u32=19121944, u64=19121944}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 27
epoll_ctl(3, EPOLL_CTL_ADD, 27, {EPOLLIN, {u32=19122016, u64=19122016}}) = 0
timerfd_settime(27, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "7", 17)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(23, FIONREAD, [612])              = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(23, FIONREAD, [612])              = 0
recvfrom(23, "GET http://www.vesti.ru/i/external/adv/adriver.core.2.js HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nIf-None-Match: W/\"56b33b06-17b2\"\r\nIf-Modified-Since: Thu, 04 Feb 2016 11:50:30 GMT\r\n\r\n", 612, 0, NULL, NULL) = 612
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19121944, u64=19121944}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 29
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(29, F_GETFD)                      = 0
fcntl(29, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 29, {EPOLLIN, {u32=19214840, u64=19214840}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 30
epoll_ctl(3, EPOLL_CTL_ADD, 30, {EPOLLIN, {u32=19214912, u64=19214912}}) = 0
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "30", 230)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "8", 18)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(26, FIONREAD, [505])              = 0
timerfd_settime(27, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(26, FIONREAD, [505])              = 0
recvfrom(26, "GET http://animate.adobe.com/runtime/6.0.0/edge.6.0.0.min.js HTTP/1.1\r\nHost: animate.adobe.com\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nIf-None-Match: \"404078f-197d1-51554a9566180\"\r\nIf-Modified-Since: Tue, 05 May 2015 12:17:26 GMT\r\n\r\n", 505, 0, NULL, NULL) = 505
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "animate.adobe.com", 17animate.adobe.com)       = 17
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19214840, u64=19214840}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 32
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(32, F_GETFD)                      = 0
fcntl(32, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 32, {EPOLLIN, {u32=19145896, u64=19145896}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 33
epoll_ctl(3, EPOLL_CTL_ADD, 33, {EPOLLIN, {u32=19145968, u64=19145968}}) = 0
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "33", 233)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "9", 19)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(29, FIONREAD, [617])              = 0
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(29, FIONREAD, [617])              = 0
recvfrom(29, "GET http://www.vesti.ru/i/external/adv/adfox.asyn.code.ver3.js HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nIf-None-Match: W/\"5673f6ea-d12\"\r\nIf-Modified-Since: Fri, 18 Dec 2015 12:07:06 GMT\r\n\r\n", 617, 0, NULL, NULL) = 617
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19145896, u64=19145896}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(32, FIONREAD, [619])              = 0
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(32, FIONREAD, [619])              = 0
recvfrom(32, "GET http://www.vesti.ru/i/external/adv/adfox.asyn.code.scroll.js HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nIf-None-Match: W/\"5673f6ea-cbb\"\r\nIf-Modified-Since: Fri, 18 Dec 2015 12:07:06 GMT\r\n\r\n", 619, 0, NULL, NULL) = 619
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! filmpro.ru
Resolve ended
Host resolved! www.vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "filmpro.ru", 10filmpro.ru)              = 10
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "15", 215)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 21
epoll_ctl(3, EPOLL_CTL_ADD, 21, {EPOLLIN, {u32=19152080, u64=19152080}}) = 0
timerfd_settime(21, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "21", 221)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 22
fcntl(22, F_GETFD)                      = 0
fcntl(22, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 22, {EPOLLOUT, {u32=19152176, u64=19152176}}) = 0
connect(22, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("195.42.181.192")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(16, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 22, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152176, u64=19152176}}) = 0
write(2, "2", 12)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "17", 217)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 36
epoll_ctl(3, EPOLL_CTL_ADD, 36, {EPOLLIN, {u32=19152432, u64=19152432}}) = 0
timerfd_settime(36, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "36", 236)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 37
fcntl(37, F_GETFD)                      = 0
fcntl(37, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 37, {EPOLLOUT, {u32=19152528, u64=19152528}}) = 0
connect(37, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("80.247.32.206")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(18, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 37, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152528, u64=19152528}}) = 0
write(2, "3", 13)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! www.vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 25
epoll_ctl(3, EPOLL_CTL_ADD, 25, {EPOLLIN, {u32=19216160, u64=19216160}}) = 0
timerfd_settime(25, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "25", 225)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 38
fcntl(38, F_GETFD)                      = 0
fcntl(38, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 38, {EPOLLOUT, {u32=19216256, u64=19216256}}) = 0
connect(38, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("80.247.32.206")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
write(2, "4", 14)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! www.vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 28
epoll_ctl(3, EPOLL_CTL_ADD, 28, {EPOLLIN, {u32=19133312, u64=19133312}}) = 0
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "28", 228)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 39
fcntl(39, F_GETFD)                      = 0
fcntl(39, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 39, {EPOLLOUT, {u32=19133408, u64=19133408}}) = 0
connect(39, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("80.247.32.206")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "5", 15)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! www.vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 34
epoll_ctl(3, EPOLL_CTL_ADD, 34, {EPOLLIN, {u32=19140496, u64=19140496}}) = 0
timerfd_settime(34, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "34", 234)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 40
fcntl(40, F_GETFD)                      = 0
fcntl(40, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 40, {EPOLLOUT, {u32=19140592, u64=19140592}}) = 0
connect(40, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("80.247.32.206")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
write(2, "6", 16)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! www.vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 35
epoll_ctl(3, EPOLL_CTL_ADD, 35, {EPOLLIN, {u32=19154208, u64=19154208}}) = 0
timerfd_settime(35, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "35", 235)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 41
fcntl(41, F_GETFD)                      = 0
fcntl(41, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 41, {EPOLLOUT, {u32=19154304, u64=19154304}}) = 0
connect(41, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("80.247.32.206")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
write(2, "7", 17)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 14
epoll_ctl(3, EPOLL_CTL_ADD, 14, {EPOLLIN, {u32=19160592, u64=19160592}}) = 0
timerfd_settime(14, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "14", 214)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 42
fcntl(42, F_GETFD)                      = 0
fcntl(42, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 42, {EPOLLOUT, {u32=19160688, u64=19160688}}) = 0
connect(42, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.78")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
write(2, "8", 18)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! animate.adobe.com
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "animate.adobe.com", 17animate.adobe.com)       = 17
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 31
epoll_ctl(3, EPOLL_CTL_ADD, 31, {EPOLLIN, {u32=19127568, u64=19127568}}) = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 43
fcntl(43, F_GETFD)                      = 0
fcntl(43, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 43, {EPOLLOUT, {u32=19127664, u64=19127664}}) = 0
connect(43, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("23.54.13.24")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(27, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 43, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19127664, u64=19127664}}) = 0
write(2, "9", 19)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19152176, u64=19152176}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "filmpro.ru", 10filmpro.ru)              = 10
write(2, " ", 1 )                        = 1
write(2, "22", 222)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "22", 222)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(21, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(22, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(22, "GET /media/css/filmpro-widget.css HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: text/css,*/*;q=0.1\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: filmpro.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 390, 0, NULL, 0) = 390
epoll_ctl(3, EPOLL_CTL_MOD, 22, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152176, u64=19152176}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 22, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152176, u64=19152176}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [256])              = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [256])              = 0
recvfrom(11, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-281de\"\r\nExpires: Sun, 01 Oct 2017 11:01:32 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 256, 0, NULL, NULL) = 256
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "8", 18)                        = 1
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19152528, u64=19152528}}, {EPOLLOUT, {u32=19216256, u64=19216256}}, {EPOLLOUT, {u32=19154304, u64=19154304}}, {EPOLLOUT, {u32=19140592, u64=19140592}}, {EPOLLOUT, {u32=19133408, u64=19133408}}, {EPOLLOUT, {u32=19160688, u64=19160688}}, {EPOLLOUT, {u32=19119336, u64=19119336}}], 1000, 10000) = 7
write(2, "Found ", 6Found )                   = 6
write(2, "7", 17)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(36, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(37, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(37, "GET /css/release/ahtung.css?v=8 HTTP/1.1\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: \"57ee5fe2-4f\"\r\nproxy-connection: keep-alive\r\naccept: text/css,*/*;q=0.1\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 598, 0, NULL, 0) = 598
epoll_ctl(3, EPOLL_CTL_MOD, 37, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152528, u64=19152528}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 37, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152528, u64=19152528}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(25, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(38, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(38, "GET /build/all.js?v=1.1.2016-06-10.1 HTTP/1.1\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: W/\"57ee5fe2-524b0\"\r\nproxy-connection: keep-alive\r\naccept: */*\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 593, 0, NULL, 0) = 593
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(35, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(41, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(41, "GET /i/external/adv/adfox.asyn.code.scroll.js HTTP/1.1\r\nif-modified-since: Fri, 18 Dec 2015 12:07:06 GMT\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: W/\"5673f6ea-cbb\"\r\nproxy-connection: keep-alive\r\naccept: */*\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 600, 0, NULL, 0) = 600
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(34, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(40, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(40, "GET /i/external/adv/adfox.asyn.code.ver3.js HTTP/1.1\r\nif-modified-since: Fri, 18 Dec 2015 12:07:06 GMT\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: W/\"5673f6ea-d12\"\r\nproxy-connection: keep-alive\r\naccept: */*\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 598, 0, NULL, 0) = 598
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(39, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(39, "GET /i/external/adv/adriver.core.2.js HTTP/1.1\r\nif-modified-since: Thu, 04 Feb 2016 11:50:30 GMT\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: W/\"56b33b06-17b2\"\r\nproxy-connection: keep-alive\r\naccept: */*\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 593, 0, NULL, 0) = 593
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(14, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(42, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(42, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(8, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-281de\"\r\nExpires: Sun, 01 Oct 2017 11:01:32 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 256, 0, NULL, 0) = 256
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19127664, u64=19127664}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "animate.adobe.com", 17animate.adobe.com)       = 17
write(2, " ", 1 )                        = 1
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(43, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(43, "GET /runtime/6.0.0/edge.6.0.0.min.js HTTP/1.1\r\nif-none-match: \"404078f-197d1-51554a9566180\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\nif-modified-since: Tue, 05 May 2015 12:17:26 GMT\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: animate.adobe.com\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 481, 0, NULL, 0) = 481
epoll_ctl(3, EPOLL_CTL_MOD, 43, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19127664, u64=19127664}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 43, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19127664, u64=19127664}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19152176, u64=19152176}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "filmpro.ru", 10filmpro.ru)              = 10
write(2, " ", 1 )                        = 1
write(2, "22", 222)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "22", 222)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(22, FIONREAD, [408])              = 0
timerfd_settime(21, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "15", 215)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(22, FIONREAD, [408])              = 0
recvfrom(22, "HTTP/1.1 301 Moved Permanently\r\nServer: nginx/1.8.1\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nContent-Type: text/html\r\nContent-Length: 184\r\nConnection: keep-alive\r\nLocation: http://www.filmpro.ru/media/css/filmpro-widget.css\r\n\r\n<html>\r\n<head><title>301 Moved Permanently</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>301 Moved Permanently</h1></center>\r\n<hr><center>nginx/1.8.1</center>\r\n</body>\r\n</html>\r\n", 408, 0, NULL, NULL) = 408
write(2, "301", 3301)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 15, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19127048, u64=19127048}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "15", 215)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19127048, u64=19127048}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(16, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(15, "HTTP/1.1 301 Moved Permanently\r\nServer: nginx/1.8.1\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nContent-Type: text/html\r\nContent-Length: 184\r\nConnection: keep-alive\r\nLocation: http://www.filmpro.ru/media/css/filmpro-widget.css\r\n\r\n<html>\r\n<head><title>301 Moved Permanently</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>301 Moved Permanently</h1></center>\r\n<hr><center>nginx/1.8.1</center>\r\n</body>\r\n</html>\r\n", 408, 0, NULL, 0) = 408
epoll_ctl(3, EPOLL_CTL_MOD, 15, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19127048, u64=19127048}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 15, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19127048, u64=19127048}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 44
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "44", 244)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(44, F_GETFD)                      = 0
fcntl(44, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 44, {EPOLLIN, {u32=19153320, u64=19153320}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 45
epoll_ctl(3, EPOLL_CTL_ADD, 45, {EPOLLIN, {u32=19153392, u64=19153392}}) = 0
timerfd_settime(45, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "45", 245)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "10", 210)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19153320, u64=19153320}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(44, FIONREAD, [498])              = 0
timerfd_settime(45, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(44, FIONREAD, [498])              = 0
recvfrom(44, "GET http://www.filmpro.ru/media/css/filmpro-widget.css HTTP/1.1\r\nHost: www.filmpro.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/css,*/*;q=0.1\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nIf-None-Match: W/\"57e4f79e-883\"\r\nIf-Modified-Since: Fri, 23 Sep 2016 09:36:30 GMT\r\n\r\n", 498, 0, NULL, NULL) = 498
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "44", 244)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.filmpro.ru", 14www.filmpro.ru)          = 14
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, Host resolved! www.filmpro.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.filmpro.ru", 14www.filmpro.ru)          = 14
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "44", 244)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 46
epoll_ctl(3, EPOLL_CTL_ADD, 46, {EPOLLIN, {u32=19214432, u64=19214432}}) = 0
timerfd_settime(46, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "46", 246)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 47
fcntl(47, F_GETFD)                      = 0
fcntl(47, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 47, {EPOLLOUT, {u32=19214528, u64=19214528}}) = 0
connect(47, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("195.42.181.192")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(45, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 47, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214528, u64=19214528}}) = 0
write(2, "10", 210)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19152528, u64=19152528}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(37, FIONREAD, [253])              = 0
timerfd_settime(36, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "17", 217)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(37, FIONREAD, [253])              = 0
recvfrom(37, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-4f\"\r\nExpires: Sun, 01 Oct 2017 11:01:31 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 253, 0, NULL, NULL) = 253
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 17, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128280, u64=19128280}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "17", 217)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19140592, u64=19140592}}, {EPOLLIN, {u32=19216256, u64=19216256}}, {EPOLLIN, {u32=19154304, u64=19154304}}, {EPOLLOUT, {u32=19128280, u64=19128280}}], 1000, 10000) = 4
write(2, "Found ", 6Found )                   = 6
write(2, "4", 14)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(40, FIONREAD, [300])              = 0
timerfd_settime(34, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(40, FIONREAD, [300])              = 0
recvfrom(40, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 18 Dec 2015 12:07:06 GMT\r\nETag: \"5673f6ea-d12\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, NULL) = 300
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "29", 229)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(38, FIONREAD, [256])              = 0
timerfd_settime(25, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(38, FIONREAD, [256])              = 0
recvfrom(38, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-524b0\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 256, 0, NULL, NULL) = 256
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "19", 219)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(41, FIONREAD, [300])              = 0
timerfd_settime(35, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(41, FIONREAD, [300])              = 0
recvfrom(41, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 18 Dec 2015 12:07:06 GMT\r\nETag: \"5673f6ea-cbb\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, NULL) = 300
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "32", 232)                       = 2
write(2, " must write\n", 12 must write
)           = 12
timerfd_settime(18, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(17, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-4f\"\r\nExpires: Sun, 01 Oct 2017 11:01:31 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 253, 0, NULL, 0) = 253
epoll_ctl(3, EPOLL_CTL_MOD, 17, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128280, u64=19128280}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 17, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128280, u64=19128280}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19214840, u64=19214840}}, {EPOLLIN|EPOLLRDHUP, {u32=19160688, u64=19160688}}, {EPOLLIN, {u32=19133408, u64=19133408}}, {EPOLLIN|EPOLLRDHUP, {u32=19127664, u64=19127664}}, {EPOLLOUT, {u32=19128968, u64=19128968}}, {EPOLLOUT, {u32=19145896, u64=19145896}}], 1000, 10000) = 6
write(2, "Found ", 6Found )                   = 6
write(2, "6", 16)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(29, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 18 Dec 2015 12:07:06 GMT\r\nETag: \"5673f6ea-d12\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, 0) = 300
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(42, FIONREAD, [311])              = 0
timerfd_settime(14, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(42, FIONREAD, [311])              = 0
recvfrom(42, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 12, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119864, u64=19119864}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "12", 212)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "9", 19)                        = 1
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 42, 0x7ffeeb1a37b0) = 0
close(42)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "14", 214)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 14, 0x7ffeeb1a37b0) = 0
close(14)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [301])              = 0
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [301])              = 0
recvfrom(39, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Thu, 04 Feb 2016 11:50:30 GMT\r\nETag: \"56b33b06-17b2\"\r\nExpires: Sun, 01 Oct 2017 11:01:06 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, NULL) = 301
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "23", 223)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "animate.adobe.com", 17animate.adobe.com)       = 17
write(2, " ", 1 )                        = 1
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(43, FIONREAD, [267])              = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(43, FIONREAD, [267])              = 0
recvfrom(43, "HTTP/1.1 304 Not Modified\r\nContent-Type: text/javascript\r\nLast-Modified: Tue, 05 May 2015 12:17:26 GMT\r\nETag: \"404078f-197d1-51554a9566180\"\r\nCache-Control: max-age=900\r\nExpires: Sat, 01 Oct 2016 11:16:54 GMT\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: close\r\n\r\n", 267, 0, NULL, NULL) = 267
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19121944, u64=19121944}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "26", 226)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "8", 18)                        = 1
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 43, 0x7ffeeb1a37b0) = 0
close(43)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 31, 0x7ffeeb1a37b0) = 0
close(31)                               = 0
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(19, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-524b0\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 256, 0, NULL, 0) = 256
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(32, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 18 Dec 2015 12:07:06 GMT\r\nETag: \"5673f6ea-cbb\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, 0) = 300
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19119864, u64=19119864}}, {EPOLLOUT, {u32=19220168, u64=19220168}}, {EPOLLOUT, {u32=19121944, u64=19121944}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(12, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 12, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119864, u64=19119864}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 12, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119864, u64=19119864}}) = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(23, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Thu, 04 Feb 2016 11:50:30 GMT\r\nETag: \"56b33b06-17b2\"\r\nExpires: Sun, 01 Oct 2017 11:01:06 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, 0) = 301
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
timerfd_settime(27, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(26, "HTTP/1.1 304 Not Modified\r\nContent-Type: text/javascript\r\nLast-Modified: Tue, 05 May 2015 12:17:26 GMT\r\nETag: \"404078f-197d1-51554a9566180\"\r\nCache-Control: max-age=900\r\nExpires: Sat, 01 Oct 2016 11:16:54 GMT\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nConnection: close\r\n\r\n", 267, 0, NULL, 0) = 267
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19121944, u64=19121944}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19121944, u64=19121944}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19119864, u64=19119864}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(12, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 12, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119864, u64=19119864}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "13", 213)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 13, 0x7ffeeb1a37a0) = 0
close(13)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 12, 0x7ffeeb1a37a0) = 0
close(12)                               = 0
write(2, "9", 19)                        = 1
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19121944, u64=19121944}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(26, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19121944, u64=19121944}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 27, 0x7ffeeb1a37a0) = 0
close(27)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 26, 0x7ffeeb1a37a0) = 0
close(26)                               = 0
write(2, "8", 18)                        = 1
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 12
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(12, F_GETFD)                      = 0
fcntl(12, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 12, {EPOLLIN, {u32=19119864, u64=19119864}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 13
epoll_ctl(3, EPOLL_CTL_ADD, 13, {EPOLLIN, {u32=19119936, u64=19119936}}) = 0
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "13", 213)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "9", 19)                        = 1
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119864, u64=19119864}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(12, FIONREAD, [448])              = 0
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(12, FIONREAD, [448])              = 0
recvfrom(12, "GET http://mediametrics.ru/partner/inject/inject.js HTTP/1.1\r\nHost: mediametrics.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nIf-Modified-Since: Wed, 27 Jul 2016 11:27:52 GMT\r\n\r\n", 448, 0, NULL, NULL) = 448
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! mediametrics.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 14
epoll_ctl(3, EPOLL_CTL_ADD, 14, {EPOLLIN, {u32=19160592, u64=19160592}}) = 0
timerfd_settime(14, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "14", 214)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 26
fcntl(26, F_GETFD)                      = 0
fcntl(26, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 26, {EPOLLOUT, {u32=19160688, u64=19160688}}) = 0
connect(26, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("88.212.196.67")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
write(2, "9", 19)                        = 1
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19214528, u64=19214528}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.filmpro.ru", 14www.filmpro.ru)          = 14
write(2, " ", 1 )                        = 1
write(2, "47", 247)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "47", 247)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(46, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(47, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(47, "GET /media/css/filmpro-widget.css HTTP/1.1\r\nif-none-match: W/\"57e4f79e-883\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\nif-modified-since: Fri, 23 Sep 2016 09:36:30 GMT\r\naccept: text/css,*/*;q=0.1\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: www.filmpro.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 477, 0, NULL, 0) = 477
epoll_ctl(3, EPOLL_CTL_MOD, 47, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214528, u64=19214528}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 47, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214528, u64=19214528}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19160688, u64=19160688}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, " ", 1 )                        = 1
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(14, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(26, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(26, "GET /partner/inject/inject.js HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\nif-modified-since: Wed, 27 Jul 2016 11:27:52 GMT\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: mediametrics.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 426, 0, NULL, 0) = 426
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19214528, u64=19214528}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.filmpro.ru", 14www.filmpro.ru)          = 14
write(2, " ", 1 )                        = 1
write(2, "47", 247)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "47", 247)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(47, FIONREAD, [190])              = 0
timerfd_settime(46, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "44", 244)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(47, FIONREAD, [190])              = 0
recvfrom(47, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Fri, 23 Sep 2016 09:36:30 GMT\r\nETag: W/\"57e4f79e-883\"\r\nX-Cached: HIT\r\n\r\n", 190, 0, NULL, NULL) = 190
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 44, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19153320, u64=19153320}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "44", 244)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19153320, u64=19153320}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(45, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(44, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Fri, 23 Sep 2016 09:36:30 GMT\r\nETag: W/\"57e4f79e-883\"\r\nX-Cached: HIT\r\n\r\n", 190, 0, NULL, 0) = 190
epoll_ctl(3, EPOLL_CTL_MOD, 44, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19153320, u64=19153320}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 44, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19153320, u64=19153320}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 27
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(27, F_GETFD)                      = 0
fcntl(27, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 27, {EPOLLIN, {u32=19128648, u64=19128648}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 31
epoll_ctl(3, EPOLL_CTL_ADD, 31, {EPOLLIN, {u32=19128720, u64=19128720}}) = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "10", 210)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 42
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(42, F_GETFD)                      = 0
fcntl(42, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 42, {EPOLLIN, {u32=19171336, u64=19171336}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 43
epoll_ctl(3, EPOLL_CTL_ADD, 43, {EPOLLIN, {u32=19171408, u64=19171408}}) = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "11", 211)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 48
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(48, F_GETFD)                      = 0
fcntl(48, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 48, {EPOLLIN, {u32=19126408, u64=19126408}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 49
epoll_ctl(3, EPOLL_CTL_ADD, 49, {EPOLLIN, {u32=19126480, u64=19126480}}) = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "49", 249)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "12", 212)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19128648, u64=19128648}}, {EPOLLIN, {u32=19171336, u64=19171336}}, {EPOLLIN, {u32=19126408, u64=19126408}}], 1000, 10000) = 4
write(2, "Found ", 6Found )                   = 6
write(2, "4", 14)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 50
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "50", 250)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(50, F_GETFD)                      = 0
fcntl(50, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 50, {EPOLLIN, {u32=19174920, u64=19174920}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 51
epoll_ctl(3, EPOLL_CTL_ADD, 51, {EPOLLIN, {u32=19174992, u64=19174992}}) = 0
timerfd_settime(51, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "51", 251)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "13", 213)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(27, FIONREAD, [210])              = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(27, FIONREAD, [210])              = 0
recvfrom(27, "CONNECT cdn.onthe.io:443 HTTP/1.1\r\nHost: cdn.onthe.io:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 210, 0, NULL, NULL) = 210
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn.onthe.io", 12cdn.onthe.io)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
ioctl(42, FIONREAD, [226])              = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(42, FIONREAD, [226])              = 0
recvfrom(42, "CONNECT cdn-st4.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st4.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
ioctl(48, FIONREADIn resolver
, [226])              = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(48, FIONREAD, [226])              = 0
recvfrom(48, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19174920, u64=19174920}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 55
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "55", 255)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(55, F_GETFD)                      = 0
fcntl(55, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 55, {EPOLLIN, {u32=19177416, u64=19177416}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 56
epoll_ctl(3, EPOLL_CTL_ADD, 56, {EPOLLIN, {u32=19177488, u64=19177488}}) = 0
timerfd_settime(56, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "56", 256)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "14", 214)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(50, FIONREAD, [548])              = 0
timerfd_settime(51, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(50, FIONREAD, [548])              = 0
recvfrom(50, "GET http://cdn-st1.rtr-vesti.ru/p/lw_988357.jpg HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"53d7531a-5984\"\r\nIf-Modified-Since: Tue, 29 Jul 2014 07:54:02 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ1lbIRK81kVgvAyMoAg==\r\n\r\n", 548, 0, NULL, NULL) = 548
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "50", 250)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19177416, u64=19177416}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 58
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "58", 258)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(58, F_GETFD)                      = 0
fcntl(58, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 58, {EPOLLIN, {u32=19187688, u64=19187688}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 59
epoll_ctl(3, EPOLL_CTL_ADD, 59, {EPOLLIN, {u32=19187760, u64=19187760}}) = 0
timerfd_settime(59, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "59", 259)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "15", 215)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(55, FIONREAD, [549])              = 0
timerfd_settime(56, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(55, FIONREAD, [549])              = 0
recvfrom(55, "GET http://cdn-st2.rtr-vesti.ru/p/lw_1313652.jpg HTTP/1.1\r\nHost: cdn-st2.rtr-vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ef8dc3-5cd3\"\r\nIf-Modified-Since: Sat, 01 Oct 2016 10:19:47 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ2FaAuowgfj88Cg3FAg==\r\n\r\n", 549, 0, NULL, NULL) = 549
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "55", 255)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19187688, u64=19187688}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 61
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "61", 261)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(61, F_GETFD)                      = 0
fcntl(61, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 61, {EPOLLIN, {u32=19194392, u64=19194392}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 62
epoll_ctl(3, EPOLL_CTL_ADD, 62, {EPOLLIN, {u32=19194464, u64=19194464}}) = 0
timerfd_settime(62, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "62", 262)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "16", 216)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(58, FIONREAD, [549])              = 0
timerfd_settime(59, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(58, FIONREAD, [549])              = 0
recvfrom(58, "GET http://cdn-st3.rtr-vesti.ru/p/lw_1044970.jpg HTTP/1.1\r\nHost: cdn-st3.rtr-vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"54ac5fc2-8164\"\r\nIf-Modified-Since: Tue, 06 Jan 2015 22:20:50 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgcClftMPoLUQMxAz0SAg==\r\n\r\n", 549, 0, NULL, NULL) = 549
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "58", 258)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19194392, u64=19194392}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 64
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "64", 264)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(64, F_GETFD)                      = 0
fcntl(64, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 64, {EPOLLIN, {u32=19201096, u64=19201096}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 65
epoll_ctl(3, EPOLL_CTL_ADD, 65, {EPOLLIN, {u32=19201168, u64=19201168}}) = 0
timerfd_settime(65, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "65", 265)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "17", 217)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(61, FIONREAD, [549])              = 0
timerfd_settime(62, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(61, FIONREAD, [549])              = 0
recvfrom(61, "GET http://cdn-st4.rtr-vesti.ru/p/lw_1290329.jpg HTTP/1.1\r\nHost: cdn-st4.rtr-vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57a94ca6-e1c8\"\r\nIf-Modified-Since: Tue, 09 Aug 2016 03:23:18 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgcDVfvdE10/ylQBLzxAg==\r\n\r\n", 549, 0, NULL, NULL) = 549
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "61", 261)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19220168, u64=19220168}}, {EPOLLIN, {u32=19145896, u64=19145896}}, {EPOLLIN, {u32=19128968, u64=19128968}}, {EPOLLIN, {u32=19214840, u64=19214840}}, {EPOLLIN, {u32=19201096, u64=19201096}}], 1000, 10000) = 6
write(2, "Found ", 6Found )                   = 6
write(2, "6", 16)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 67
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(67, F_GETFD)                      = 0
fcntl(67, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 67, {EPOLLIN, {u32=19208168, u64=19208168}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 68
epoll_ctl(3, EPOLL_CTL_ADD, 68, {EPOLLIN, {u32=19208240, u64=19208240}}) = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "18", 218)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(23, FIONREAD, [668])              = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(23, FIONREAD, [668])              = 0
recvfrom(23, "GET http://www.vesti.ru/assets/font/Arimo/arimo-regular.woff HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-9db8\"\r\nOrigin: http://www.vesti.ru\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 668, 0, NULL, NULL) = 668
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
ioctl(32, FIONREAD, [635])              = 0
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(32, FIONREAD, [635])              = 0
recvfrom(32, "GET http://www.vesti.ru/i/bg.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-51c\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 635, 0, NULL, NULL) = 635
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
ioctl(19, FIONREAD, [659])              = 0
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(19, FIONREAD, [659])              = 0
recvfrom(19, "GET http://www.vesti.ru/i/vgtrk-bar-soc-icon_retina.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-497e\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 659, 0, NULL, NULL) = 659
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
ioctl(29, FIONREAD, [647])              = 0
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(29, FIONREAD, [647])              = 0
recvfrom(29, "GET http://www.vesti.ru/i/icons_retina.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-13012\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 647, 0, NULL, NULL) = 647
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
ioctl(64, FIONREAD, [549])              = 0
timerfd_settime(65, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(64, FIONREAD, [549])              = 0
recvfrom(64, "GET http://cdn-st1.rtr-vesti.ru/p/lw_1311455.jpg HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ1lbIRK81kVgvAyMoAg==\r\nIf-None-Match: \"57ea4774-85ee\"\r\nIf-Modified-Since: Tue, 27 Sep 2016 10:18:28 GMT\r\n\r\n", 549, 0, NULL, NULL) = 549
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "64", 264)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 1
epoll_wait(3, In resolver
[{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19208168, u64=19208168}}, {EPOLLOUT, {u32=19133408, u64=19133408}}, {EPOLLOUT, {u32=19154304, u64=19154304}}, {EPOLLOUT, {u32=19216256, u64=19216256}}, {EPOLLOUT, {u32=19140592, u64=19140592}}], 1000, 10000) = 6
write(2, "Found ", 6Found )                   = 6
write(2, "6", 16)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 70
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(70, F_GETFD)                      = 0
fcntl(70, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 70, {EPOLLIN, {u32=19161208, u64=19161208}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 71
epoll_ctl(3, EPOLL_CTL_ADD, 71, {EPOLLIN, {u32=19161280, u64=19161280}}) = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "71", 271)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "19", 219)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(67, FIONREAD, [507])              = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(67, FIONREAD, [507])              = 0
recvfrom(67, "GET http://ad.adriver.ru/cgi-bin/rle.cgi?sid=1&ad=602211&bt=21&pid=2442335&bid=4692345&bn=4692345&rnd=1867121184 HTTP/1.1\r\nHost: ad.adriver.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: cid=-4766817057\r\n\r\n", 507, 0, NULL, NULL) = 507
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, "\n", 1
)                       = 1
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(39, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(39, "GET /assets/font/Arimo/arimo-regular.woff HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-9db8\"\r\norigin: http://www.vesti.ru\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 649, 0, NULL, 0) = 649
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(35, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(41, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(41, "GET /i/bg.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-51c\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 616, 0, NULL, 0) = 616
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(25, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(38, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(38, "GET /i/vgtrk-bar-soc-icon_retina.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-497e\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 640, 0, NULL, 0) = 640
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(34, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(40, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(40, "GET /i/icons_retina.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-13012\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 628, 0, NULL, 0) = 628
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19161208, u64=19161208}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(70, FIONREAD, [686])              = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(70, FIONREAD, [686])              = 0
recvfrom(70, "GET http://ads.adfox.ru/166267/prepareCode?p1=bsbdg&p2=fddh&pct=a&pfc=a&pfb=a&plp=f&pli=b&pop=k&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\nHost: ads.adfox.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\n\r\n", 686, 0, NULL, NULL) = 686
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
In resolver
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 72
epoll_ctl(3, EPOLL_CTL_ADD, 72, {EPOLLIN, {u32=19141280, u64=19141280}}) = 0
timerfd_settime(72, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 73
fcntl(73, F_GETFD)                      = 0
fcntl(73, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 73, {EPOLLOUT, {u32=19141376, u64=19141376}}) = 0
connect(73, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.78")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 73, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19141376, u64=19141376}}) = 0
write(2, "10", 210)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
In resolver
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "50", 250)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 74
epoll_ctl(3, EPOLL_CTL_ADD, 74, {EPOLLIN, {u32=19180096, u64=19180096}}) = 0
timerfd_settime(74, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "74", 274)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 75
fcntl(75, F_GETFD)                      = 0
fcntl(75, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 75, {EPOLLOUT, {u32=19180192, u64=19180192}}) = 0
connect(75, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("185.31.114.78")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(51, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 75, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180192, u64=19180192}}) = 0
write(2, "11", 211)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "64", 264)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 69
epoll_ctl(3, EPOLL_CTL_ADD, 69, {EPOLLIN, {u32=19182320, u64=19182320}}) = 0
timerfd_settime(69, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "69", 269)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 76
fcntl(76, F_GETFD)                      = 0
fcntl(76, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 76, {EPOLLOUT, {u32=19182416, u64=19182416}}) = 0
connect(76, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("185.31.114.78")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(65, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 76, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19182416, u64=19182416}}) = 0
write(2, "12", 212)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19160688, u64=19160688}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, " ", 1 )                        = 1
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(26, FIONREAD, [161])              = 0
timerfd_settime(14, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(26, FIONREAD, [161])              = 0
recvfrom(26, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nServer: 0W/0.8e\r\nLast-Modified: Wed, 27 Jul 2016 11:27:52 GMT\r\nAccess-Control-Allow-Origin: *\r\n\r\n", 161, 0, NULL, NULL) = 161
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 12, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119864, u64=19119864}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "12", 212)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19119864, u64=19119864}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(12, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:54 GMT\r\nServer: 0W/0.8e\r\nLast-Modified: Wed, 27 Jul 2016 11:27:52 GMT\r\nAccess-Control-Allow-Origin: *\r\n\r\n", 161, 0, NULL, 0) = 161
epoll_ctl(3, EPOLL_CTL_MOD, 12, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119864, u64=19119864}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 12, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119864, u64=19119864}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 77
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(77, F_GETFD)                      = 0
fcntl(77, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 77, {EPOLLIN, {u32=19180600, u64=19180600}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 78
epoll_ctl(3, EPOLL_CTL_ADD, 78, {EPOLLIN, {u32=19180672, u64=19180672}}) = 0
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "20", 220)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19180600, u64=19180600}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(77, FIONREAD, [226])              = 0
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(77, FIONREAD, [226])              = 0
recvfrom(77, "CONNECT cdn-st4.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st4.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, Host resolved! ads.adfox.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 57
epoll_ctl(3, EPOLL_CTL_ADD, 57, {EPOLLIN, {u32=19183760, u64=19183760}}) = 0
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "57", 257)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 80
fcntl(80, F_GETFD)                      = 0
fcntl(80, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 80, {EPOLLOUT, {u32=19183856, u64=19183856}}) = 0
connect(80, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("213.180.204.92")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
write(2, "13", 213)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn.onthe.io
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn.onthe.io", 12cdn.onthe.io)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 52
epoll_ctl(3, EPOLL_CTL_ADD, 52, {EPOLLIN, {u32=19170368, u64=19170368}}) = 0
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 81
fcntl(81, F_GETFD)                      = 0
fcntl(81, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 81, {EPOLLOUT, {u32=19170464, u64=19170464}}) = 0
connect(81, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("93.170.216.35")}, 16) = -1 EINPROGRESS (Operation now in progress)
Host resolved! cdn-st4.rtr-vesti.ru
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULLResolve ended
) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19170464, u64=19170464}}) = 0
write(2, "14", 214)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1Host resolved! ) = 1
cdn-st2.rtr-vesti.ru
Resolve ended
Host resolved! cdn-st3.rtr-vesti.ru
epoll_wait(3, Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 53
epoll_ctl(3, EPOLL_CTL_ADD, 53, {EPOLLIN, {u32=19124320, u64=19124320}}) = 0
timerfd_settime(53, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 60
fcntl(60, F_GETFD)                      = 0
fcntl(60, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 60, {EPOLLOUT, {u32=19124416, u64=19124416}}) = 0
connect(60, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 60, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
write(2, "15", 215)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "55", 255)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 63
epoll_ctl(3, EPOLL_CTL_ADD, 63, {EPOLLIN, {u32=19179776, u64=19179776}}) = 0
timerfd_settime(63, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "63", 263)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 82
fcntl(82, F_GETFD)                      = 0
fcntl(82, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 82, {EPOLLOUT, {u32=19179872, u64=19179872}}) = 0
connect(82, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(56, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 82, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19179872, u64=19179872}}) = 0
write(2, "16", 216)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "58", 258)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 83
epoll_ctl(3, EPOLL_CTL_ADD, 83, {EPOLLIN, {u32=19190160, u64=19190160}}) = 0
timerfd_settime(83, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "83", 283)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 84
fcntl(84, F_GETFD)                      = 0
fcntl(84, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 84, {EPOLLOUT, {u32=19190256, u64=19190256}}) = 0
connect(84, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(59, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 84, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19190256, u64=19190256}}) = 0
write(2, "17", 217)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st4.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "61", 261)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 66
epoll_ctl(3, EPOLL_CTL_ADD, 66, {EPOLLIN, {u32=19196832, u64=19196832}}) = 0
timerfd_settime(66, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "66", 266)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 85
fcntl(85, F_GETFD)                      = 0
fcntl(85, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 85, {EPOLLOUT, {u32=19196928, u64=19196928}}) = 0
connect(85, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(62, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 85, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19196928, u64=19196928}}) = 0
write(2, "18", 218)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! ad.adriver.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 54
epoll_ctl(3, EPOLL_CTL_ADD, 54, {EPOLLIN, {u32=19203536, u64=19203536}}) = 0
timerfd_settime(54, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 86
fcntl(86, F_GETFDHost resolved! )                      = 0
cdn-st4.rtr-vesti.ru
Resolve ended
fcntl(86, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 86, {EPOLLOUT, {u32=19203632, u64=19203632}}) = 0
connect(86, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("81.222.128.23")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 86, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "19", 219)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 79
epoll_ctl(3, EPOLL_CTL_ADD, 79, {EPOLLIN, {u32=19164336, u64=19164336}}) = 0
timerfd_settime(79, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 87
fcntl(87, F_GETFD)                      = 0
fcntl(87, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 87, {EPOLLOUT, {u32=19164432, u64=19164432}}) = 0
connect(87, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 87, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
write(2, "20", 220)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19183856, u64=19183856}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(80, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(80, "GET /166267/prepareCode?p1=bsbdg&p2=fddh&pct=a&pfc=a&pfb=a&plp=f&pli=b&pop=k&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\ncookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ads.adfox.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 667, 0, NULL, 0) = 667
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19190256, u64=19190256}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "84", 284)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "84", 284)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(83, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(84, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(84, "GET /p/lw_1044970.jpg HTTP/1.1\r\ncache-control: max-age=0\r\nhost: cdn-st3.rtr-vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"54ac5fc2-8164\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Tue, 06 Jan 2015 22:20:50 GMT\r\ncookie: ngx_uid=wKgcClftMPoLUQMxAz0SAg==\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\n\r\n", 522, 0, NULL, 0) = 522
epoll_ctl(3, EPOLL_CTL_MOD, 84, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19190256, u64=19190256}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 84, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19190256, u64=19190256}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19141376, u64=19141376}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(72, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(73, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(73, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 73, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19141376, u64=19141376}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 73, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19141376, u64=19141376}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19216256, u64=19216256}}, {EPOLLOUT, {u32=19180192, u64=19180192}}, {EPOLLIN, {u32=19154304, u64=19154304}}, {EPOLLIN, {u32=19140592, u64=19140592}}, {EPOLLOUT, {u32=19182416, u64=19182416}}], 1000, 10000) = 5
write(2, "Found ", 6Found )                   = 6
write(2, "5", 15)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(38, FIONREAD, [301])              = 0
timerfd_settime(25, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(38, FIONREAD, [301])              = 0
recvfrom(38, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-497e\"\r\nExpires: Sun, 01 Oct 2017 11:01:16 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, NULL) = 301
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "19", 219)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "75", 275)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "75", 275)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(74, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(75, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(75, "GET /p/lw_988357.jpg HTTP/1.1\r\ncache-control: max-age=0\r\nhost: cdn-st1.rtr-vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"53d7531a-5984\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Tue, 29 Jul 2014 07:54:02 GMT\r\ncookie: ngx_uid=wKgJ1lbIRK81kVgvAyMoAg==\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\n\r\n", 521, 0, NULL, 0) = 521
epoll_ctl(3, EPOLL_CTL_MOD, 75, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180192, u64=19180192}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 75, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180192, u64=19180192}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(41, FIONREAD, [300])              = 0
timerfd_settime(35, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(41, FIONREAD, [300])              = 0
recvfrom(41, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-51c\"\r\nExpires: Sun, 01 Oct 2017 11:01:10 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, NULL) = 300
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "32", 232)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(40, FIONREAD, [302])              = 0
timerfd_settime(34, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(40, FIONREAD, [302])              = 0
recvfrom(40, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-13012\"\r\nExpires: Sun, 01 Oct 2017 11:01:53 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 302, 0, NULL, NULL) = 302
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "29", 229)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "76", 276)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "76", 276)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(69, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(76, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(76, "GET /p/lw_1311455.jpg HTTP/1.1\r\nif-modified-since: Tue, 27 Sep 2016 10:18:28 GMT\r\ncache-control: max-age=0\r\nhost: cdn-st1.rtr-vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: \"57ea4774-85ee\"\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\ncookie: ngx_uid=wKgJ1lbIRK81kVgvAyMoAg==\r\n\r\n", 522, 0, NULL, 0) = 522
epoll_ctl(3, EPOLL_CTL_MOD, 76, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19182416, u64=19182416}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 76, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19182416, u64=19182416}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19128968, u64=19128968}}, {EPOLLIN, {u32=19133408, u64=19133408}}, {EPOLLOUT, {u32=19170464, u64=19170464}}, {EPOLLOUT, {u32=19124416, u64=19124416}}, {EPOLLOUT, {u32=19179872, u64=19179872}}, {EPOLLOUT, {u32=19196928, u64=19196928}}, {EPOLLOUT, {u32=19164432, u64=19164432}}, {EPOLLOUT, {u32=19203632, u64=19203632}}, {EPOLLOUT, {u32=19145896, u64=19145896}}, {EPOLLOUT, {u32=19214840, u64=19214840}}], 1000, 10000) = 10
write(2, "Found ", 6Found )                   = 6
write(2, "10", 210)                       = 2
write(2, " events\n", 8 events
)                = 8
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(19, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-497e\"\r\nExpires: Sun, 01 Oct 2017 11:01:16 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, 0) = 301
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [255])              = 0
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [255])              = 0
recvfrom(39, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-9db8\"\r\nExpires: Sun, 01 Oct 2017 11:01:15 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, NULL) = 255
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "23", 223)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn.onthe.io", 12cdn.onthe.io)            = 12
write(2, " ", 1 )                        = 1
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(81, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(81, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn.onthe.io:443\r\n\r\n", 198, 0, NULL, 0) = 198
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19170464, u64=19170464}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19170464, u64=19170464}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(53, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(60, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(60, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 60, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 60, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "82", 282)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "82", 282)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(63, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(82, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(82, "GET /p/lw_1313652.jpg HTTP/1.1\r\ncache-control: max-age=0\r\nhost: cdn-st2.rtr-vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ef8dc3-5cd3\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Sat, 01 Oct 2016 10:19:47 GMT\r\ncookie: ngx_uid=wKgJ2FaAuowgfj88Cg3FAg==\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\n\r\n", 522, 0, NULL, 0) = 522
epoll_ctl(3, EPOLL_CTL_MOD, 82, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19179872, u64=19179872}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 82, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19179872, u64=19179872}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "85", 285)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "85", 285)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(66, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(85, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(85, "GET /p/lw_1290329.jpg HTTP/1.1\r\ncache-control: max-age=0\r\nhost: cdn-st4.rtr-vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57a94ca6-e1c8\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Tue, 09 Aug 2016 03:23:18 GMT\r\ncookie: ngx_uid=wKgcDVfvdE10/ylQBLzxAg==\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\n\r\n", 522, 0, NULL, 0) = 522
epoll_ctl(3, EPOLL_CTL_MOD, 85, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19196928, u64=19196928}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 85, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19196928, u64=19196928}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(79, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(87, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(87, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 87, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 87, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, " ", 1 )                        = 1
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(54, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(86, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(86, "GET /cgi-bin/rle.cgi?sid=1&ad=602211&bt=21&pid=2442335&bid=4692345&bn=4692345&rnd=1867121184 HTTP/1.1\r\ncookie: cid=-4766817057\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ad.adriver.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 487, 0, NULL, 0) = 487
epoll_ctl(3, EPOLL_CTL_MOD, 86, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 86, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(32, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-51c\"\r\nExpires: Sun, 01 Oct 2017 11:01:10 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, 0) = 300
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(29, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-13012\"\r\nExpires: Sun, 01 Oct 2017 11:01:53 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 302, 0, NULL, 0) = 302
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19220168, u64=19220168}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(23, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-9db8\"\r\nExpires: Sun, 01 Oct 2017 11:01:15 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, 0) = 255
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19190256, u64=19190256}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "84", 284)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "84", 284)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(84, FIONREAD, [361])              = 0
timerfd_settime(83, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "58", 258)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(84, FIONREAD, [361])              = 0
recvfrom(84, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 06 Jan 2015 22:20:50 GMT\r\nETag: \"54ac5fc2-8164\"\r\nExpires: Thu, 17 Nov 2016 13:59:52 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nSet-Cookie: ngx_uid=wKgJ2lZMf7skjVZKB6srAg==; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/\r\n\r\n", 361, 0, NULL, NULL) = 361
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 58, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19187688, u64=19187688}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "58", 258)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19187688, u64=19187688}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(59, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(58, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 06 Jan 2015 22:20:50 GMT\r\nETag: \"54ac5fc2-8164\"\r\nExpires: Thu, 17 Nov 2016 13:59:52 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nSet-Cookie: ngx_uid=wKgJ2lZMf7skjVZKB6srAg==; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/\r\n\r\n", 361, 0, NULL, 0) = 361
epoll_ctl(3, EPOLL_CTL_MOD, 58, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19187688, u64=19187688}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 58, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19187688, u64=19187688}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 88
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(88, F_GETFD)                      = 0
fcntl(88, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 88, {EPOLLIN, {u32=19295048, u64=19295048}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 89
epoll_ctl(3, EPOLL_CTL_ADD, 89, {EPOLLIN, {u32=19295120, u64=19295120}}) = 0
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "89", 289)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "21", 221)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19295048, u64=19295048}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(88, FIONREAD, [226])              = 0
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(88, FIONREAD, [226])              = 0
recvfrom(88, "CONNECT cdn-st2.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st2.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19170464, u64=19170464}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn.onthe.io", 12cdn.onthe.io)            = 12
write(2, " ", 1 )                        = 1
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(81, FIONREAD, [371])              = 0
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(81, FIONREAD, [371])              = 0
recvfrom(81, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\nX-Edge-IP: 93.170.216.34\r\nX-Edge-Location: Moscow M9-1, RU\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 371, 0, NULL, NULL) = 371
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn.onthe.io:443\r\n\r\n", 198CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn.onthe.io:443

) = 198
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128648, u64=19128648}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "27", 227)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19170464, u64=19170464}}, {EPOLLIN|EPOLLRDHUP, {u32=19141376, u64=19141376}}, {EPOLLIN|EPOLLRDHUP, {u32=19124416, u64=19124416}}, {EPOLLOUT, {u32=19128648, u64=19128648}}], 1000, 10000) = 4
write(2, "Found ", 6Found )                   = 6
write(2, "4", 14)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn.onthe.io", 12cdn.onthe.io)            = 12
write(2, " ", 1 )                        = 1
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(81, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19170464, u64=19170464}}) = 0
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "19", 219)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 81, 0x7ffeeb1a37b0) = 0
close(81)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 52, 0x7ffeeb1a37b0) = 0
close(52)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(73, FIONREAD, [311])              = 0
timerfd_settime(72, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(73, FIONREAD, [311])              = 0
recvfrom(73, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "48", 248)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "18", 218)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 73, 0x7ffeeb1a37b0) = 0
close(73)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 72, 0x7ffeeb1a37b0) = 0
close(72)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(60, FIONREAD, [311])              = 0
timerfd_settime(53, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
Host resolved! futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULLcdn-st2.rtr-vesti.ru
Resolve ended
) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "42", 242)                       = 2
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
write(2, "\n", 1
)                       = 1
ioctl(60, FIONREAD, [311])              = 0
recvfrom(60, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st4.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19171336, u64=19171336}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "42", 242)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "17", 217)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 60, 0x7ffeeb1a37b0) = 0
close(60)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 53, 0x7ffeeb1a37b0) = 0
close(53)                               = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(27, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\nX-Edge-IP: 93.170.216.34\r\nX-Edge-Location: Moscow M9-1, RU\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 371, 0, NULL, 0) = 371
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128648, u64=19128648}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128648, u64=19128648}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19128648, u64=19128648}}, {EPOLLOUT, {u32=19126408, u64=19126408}}, {EPOLLIN, {u32=19180192, u64=19180192}}, {EPOLLIN, {u32=19179872, u64=19179872}}, {EPOLLIN, {u32=19182416, u64=19182416}}, {EPOLLIN, {u32=19119072, u64=19119072}}, {EPOLLOUT, {u32=19171336, u64=19171336}}], 1000, 10000) = 7
write(2, "Found ", 6Found )                   = 6
write(2, "7", 17)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(27, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128648, u64=19128648}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 31, 0x7ffeeb1a37a0) = 0
close(31)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 27, 0x7ffeeb1a37a0) = 0
close(27)                               = 0
write(2, "20", 220)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(48, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "75", 275)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "75", 275)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(75, FIONREAD, [361])              = 0
timerfd_settime(74, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "50", 250)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(75, FIONREAD, [361])              = 0
recvfrom(75, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 29 Jul 2014 07:54:02 GMT\r\nETag: \"53d7531a-5984\"\r\nExpires: Thu, 01 Dec 2016 20:37:13 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nSet-Cookie: ngx_uid=wKgJ11ZfUcO8PlxlB3qqAg==; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/\r\n\r\n", 361, 0, NULL, NULL) = 361
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 50, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19174920, u64=19174920}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "50", 250)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "82", 282)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "82", 282)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(82, FIONREAD, [361])              = 0
timerfd_settime(63, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "55", 255)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(82, FIONREAD, [361])              = 0
recvfrom(82, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Sat, 01 Oct 2016 10:19:47 GMT\r\nETag: \"57ef8dc3-5cd3\"\r\nExpires: Sun, 01 Oct 2017 10:20:43 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nSet-Cookie: ngx_uid=wKgcC1fvjft6klwwBPJzAg==; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/\r\n\r\n", 361, 0, NULL, NULL) = 361
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 55, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177416, u64=19177416}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "55", 255)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "76", 276)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "76", 276)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(76, FIONREAD, [270])              = 0
timerfd_settime(69, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "64", 264)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(76, FIONREAD, [270])              = 0
recvfrom(76, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 27 Sep 2016 10:18:28 GMT\r\nETag: \"57ea4774-85ee\"\r\nExpires: Wed, 27 Sep 2017 10:18:31 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\n\r\n", 270, 0, NULL, NULL) = 270
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 64, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19201096, u64=19201096}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "64", 264)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 27
epoll_ctl(3, EPOLL_CTL_ADD, 27, {EPOLLIN, {u32=19124320, u64=19124320}}) = 0
timerfd_settime(27, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 31
fcntl(31, F_GETFD)                      = 0
fcntl(31, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 31, {EPOLLOUT, {u32=19124416, u64=19124416}}) = 0
connect(31, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 31, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
write(2, "18", 218)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(42, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19171336, u64=19171336}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19171336, u64=19171336}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19126408, u64=19126408}}, {EPOLLIN|EPOLLRDHUP, {u32=19171336, u64=19171336}}, {EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLOUT, {u32=19174920, u64=19174920}}, {EPOLLOUT, {u32=19177416, u64=19177416}}, {EPOLLOUT, {u32=19201096, u64=19201096}}], 1000, 10000) = 6
write(2, "Found ", 6Found )                   = 6
write(2, "6", 16)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(48, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "49", 249)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 49, 0x7ffeeb1a37a0) = 0
close(49)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 48, 0x7ffeeb1a37a0) = 0
close(48)                               = 0
write(2, "19", 219)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
ioctl(42, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19171336, u64=19171336}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 43, 0x7ffeeb1a37a0) = 0
close(43)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 42, 0x7ffeeb1a37a0) = 0
close(42)                               = 0
write(2, "18", 218)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
accept(4, NULL, NULL)                   = 42
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(42, F_GETFD)                      = 0
fcntl(42, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 42, {EPOLLIN, {u32=19126408, u64=19126408}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 43
epoll_ctl(3, EPOLL_CTL_ADD, 43, {EPOLLIN, {u32=19126480, u64=19126480}}) = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "19", 219)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
timerfd_settime(51, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(50, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 29 Jul 2014 07:54:02 GMT\r\nETag: \"53d7531a-5984\"\r\nExpires: Thu, 01 Dec 2016 20:37:13 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nSet-Cookie: ngx_uid=wKgJ11ZfUcO8PlxlB3qqAg==; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/\r\n\r\n", 361, 0, NULL, 0) = 361
epoll_ctl(3, EPOLL_CTL_MOD, 50, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19174920, u64=19174920}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 50, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19174920, u64=19174920}}) = 0
timerfd_settime(56, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(55, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Sat, 01 Oct 2016 10:19:47 GMT\r\nETag: \"57ef8dc3-5cd3\"\r\nExpires: Sun, 01 Oct 2017 10:20:43 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nSet-Cookie: ngx_uid=wKgcC1fvjft6klwwBPJzAg==; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/\r\n\r\n", 361, 0, NULL, 0) = 361
epoll_ctl(3, EPOLL_CTL_MOD, 55, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177416, u64=19177416}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 55, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177416, u64=19177416}}) = 0
timerfd_settime(65, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(64, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 27 Sep 2016 10:18:28 GMT\r\nETag: \"57ea4774-85ee\"\r\nExpires: Wed, 27 Sep 2017 10:18:31 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\n\r\n", 270, 0, NULL, 0) = 270
epoll_ctl(3, EPOLL_CTL_MOD, 64, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19201096, u64=19201096}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 64, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19201096, u64=19201096}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19126408, u64=19126408}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 48
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(48, F_GETFD)                      = 0
fcntl(48, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 48, {EPOLLIN, {u32=19221272, u64=19221272}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 49
epoll_ctl(3, EPOLL_CTL_ADD, 49, {EPOLLIN, {u32=19221344, u64=19221344}}) = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "49", 249)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "20", 220)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(42, FIONREAD, [226])              = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(42, FIONREAD, [226])              = 0
recvfrom(42, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19221272, u64=19221272}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 53
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(53, F_GETFD)                      = 0
fcntl(53, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 53, {EPOLLIN, {u32=19176984, u64=19176984}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 60
epoll_ctl(3, EPOLL_CTL_ADD, 60, {EPOLLIN, {u32=19177056, u64=19177056}}) = 0
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "21", 221)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(48, FIONREAD, [226])              = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(48, FIONREAD, [226])              = 0
recvfrom(48, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19176984, u64=19176984}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(53, FIONREAD, [226])              = 0
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(53, FIONREAD, [226])              = 0
recvfrom(53, "CONNECT cdn-st2.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st2.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 81
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(81, F_GETFD)                      = 0
fcntl(81, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 81, {EPOLLIN, {u32=19217304, u64=19217304}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 90
epoll_ctl(3, EPOLL_CTL_ADD, 90, {EPOLLIN, {u32=19217376, u64=19217376}}) = 0
timerfd_settime(90, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "90", 290)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "22", 222)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19217304, u64=19217304}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 91
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(91, F_GETFD)                      = 0
fcntl(91, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 91, {EPOLLIN, {u32=19178808, u64=19178808}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 92
epoll_ctl(3, EPOLL_CTL_ADD, 92, {EPOLLIN, {u32=19178880, u64=19178880}}) = 0
timerfd_settime(92, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "23", 223)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(81, FIONREAD, [226])              = 0
timerfd_settime(90, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(81, FIONREAD, [226])              = 0
recvfrom(81, "CONNECT cdn-st3.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st3.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19178808, u64=19178808}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 94
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(94, F_GETFD)                      = 0
fcntl(94, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 94, {EPOLLIN, {u32=19299272, u64=19299272}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 95
epoll_ctl(3, EPOLL_CTL_ADD, 95, {EPOLLIN, {u32=19299344, u64=19299344}}) = 0
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "95", 295)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "24", 224)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(91, FIONREAD, [226])              = 0
timerfd_settime(92, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(91, FIONREAD, [226])              = 0
recvfrom(91, "CONNECT cdn-st2.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st2.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, [{EPOLLIN, {u32=19299272, u64=19299272}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(94, FIONREAD, [226])              = 0
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(94, FIONREAD, [226])              = 0
recvfrom(94, "CONNECT cdn-st4.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st4.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19183856, u64=19183856}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [549])              = 0
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [549])              = 0
recvfrom(80, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n4d\r\n\37\213\10\0\0\0\0\0\0\3\313LS\3200\320T\250V(N-\t\311\314M\315/-\321H+\315K.\311\314\317\323\320\254N\311O.\315M\315+\321K\316\311/N\325\320\264\256\325140\320\264V\250\5\0\201\315\304a9\0\0\0\r\n0\r\n\r\n", 549, 0, NULL, NULL) = 549
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "70", 270)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19161208, u64=19161208}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(70, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n4d\r\n\37\213\10\0\0\0\0\0\0\3\313LS\3200\320T\250V(N-\t\311\314M\315/-\321H+\315K.\311\314\317\323\320\254N\311O.\315M\315+\321K\316\311/N\325\320\264\256\325140\320\264V\250\5\0\201\315\304a9\0\0\0\r\n0\r\n\r\n", 549, 0, NULL, 0) = 549
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19161208, u64=19161208}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(70, FIONREAD, [686])              = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(70, FIONREAD, [686])              = 0
recvfrom(70, "GET http://ads.adfox.ru/166267/prepareCode?p1=bugjz&p2=fhux&pct=a&pfc=a&pfb=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\nHost: ads.adfox.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\n\r\n", 686, 0, NULL, NULL) = 686
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19183856, u64=19183856}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(80, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(80, "GET /166267/prepareCode?p1=bugjz&p2=fhux&pct=a&pfc=a&pfb=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\ncookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ads.adfox.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 667, 0, NULL, 0) = 667
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19196928, u64=19196928}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "85", 285)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1Host resolved! ) = 1
cdn-st2.rtr-vesti.ru
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULLResolve ended
) = -1 EAGAIN (Resource temporarily unavailable)
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
write(2, "85", 285)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(85, FIONREAD, [270])              = 0
timerfd_settime(66, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "61", 261)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(85, FIONREAD, [270])              = 0
recvfrom(85, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 09 Aug 2016 03:23:18 GMT\r\nETag: \"57a94ca6-e1c8\"\r\nExpires: Wed, 09 Aug 2017 03:23:27 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\n\r\n", 270, 0, NULL, NULL) = 270
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 61, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19194392, u64=19194392}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "61", 261)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19164432, u64=19164432}}, {EPOLLIN, {u32=19119072, u64=19119072}}, {EPOLLOUT, {u32=19194392, u64=19194392}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(87, FIONREAD, [311])              = 0
timerfd_settime(79, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(87, FIONREAD, [311])              = 0
recvfrom(87, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st4.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "77", 277)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "17", 217)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 87, 0x7ffeeb1a37b0) = 0
close(87)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 79, 0x7ffeeb1a37b0) = 0
close(79)                               = 0
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 73
epoll_ctl(3, EPOLL_CTL_ADD, 73, {EPOLLIN, {u32=19164336, u64=19164336}}) = 0
timerfd_settime(73, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 79
fcntl(79, F_GETFD)                      = 0
fcntl(79, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 79, {EPOLLOUT, {u32=19164432, u64=19164432}}) = 0
connect(79, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 79, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
write(2, "18", 218)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
timerfd_settime(62, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(61, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nLast-Modified: Tue, 09 Aug 2016 03:23:18 GMT\r\nETag: \"57a94ca6-e1c8\"\r\nExpires: Wed, 09 Aug 2017 03:23:27 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\n\r\n", 270, 0, NULL, 0) = 270
epoll_ctl(3, EPOLL_CTL_MOD, 61, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19194392, u64=19194392}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 61, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19194392, u64=19194392}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19180600, u64=19180600}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(77, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st2.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 87
epoll_ctl(3, EPOLL_CTL_ADD, 87, {EPOLLIN, {u32=19309440, u64=19309440}}) = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 96
fcntl(96, F_GETFD)                      = 0
fcntl(96, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 96, {EPOLLOUT, {u32=19309536, u64=19309536}}) = 0
connect(96, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(92, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 96, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19309536, u64=19309536}}) = 0
write(2, "19", 219)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19180600, u64=19180600}}, {EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(77, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 78, 0x7ffeeb1a37a0) = 0
close(78)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 77, 0x7ffeeb1a37a0) = 0
close(77)                               = 0
write(2, "23", 223)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
accept(4, NULL, NULL)                   = 77
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(77, F_GETFD)                      = 0
fcntl(77, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 77, {EPOLLIN, {u32=19180600, u64=19180600}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 78
epoll_ctl(3, EPOLL_CTL_ADD, 78, {EPOLLIN, {u32=19180672, u64=19180672}}) = 0
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "24", 224)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19180600, u64=19180600}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 98
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "98", 298)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(98, F_GETFD)                      = 0
fcntl(98, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 98, {EPOLLIN, {u32=19303080, u64=19303080}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 99
epoll_ctl(3, EPOLL_CTL_ADD, 99, {EPOLLIN, {u32=19303152, u64=19303152}}) = 0
timerfd_settime(99, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "99", 299)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(77, FIONREAD, [226])              = 0
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(77, FIONREAD, [226])              = 0
recvfrom(77, "CONNECT cdn-st3.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st3.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19303080, u64=19303080}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, " events\n", 8 events
)                = 8
ioctl(98, FIONREAD, [226])              = 0
timerfd_settime(99, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(98, FIONREAD, [226])              = 0
recvfrom(98, "CONNECT cdn-st3.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st3.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "98", 298)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19203632, u64=19203632}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, " ", 1 )                        = 1
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(86, FIONREAD, [581])              = 0
timerfd_settime(54, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(86, FIONREAD, [581])              = 0
recvfrom(86, "HTTP/1.0 200 OK\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nCache-control: no-cache, no-cache=Set-Cookie, max-age=0, must-revalidate, proxy-revalidate, no-store\r\nPragma: no-cache\r\nExpires: Thu, 01 Jan 1970 00:00:00 GMT\r\nP3P: policyref=\"//adriver.ru/w3c/p3p.xml\", CP=\"NON DSP COR CURa ADMa DEVa OUR BUS UNI COM NAV INT STA\"\r\nSet-Cookie: cid=AHxd0fPry2Klbx4QdNtfpBw; expires=Mon, 31 Dec 2029 08:49:37 GMT; path=/; domain=.adriver.ru\r\nSet-Cookie: uid=0; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.adriver.ru\r\nContent-type: image/gif\r\n\r\nGIF89a\1\0\1\0\200\0\0\0\0\0\377\377\377!\371\4\1\0\0\0\0,\0\0\0\0\1\0\1\0\0\2\1D\0;", 581, 0, NULL, NULL) = 581
write(2, "Bad response\n", 13Bad response
)          = 13
write(2, "Response--------------------------------------------\n\n", 54Response--------------------------------------------

) = 54
write(2, "HTTP/1.0 200\r\ncontent-type: image/gif\r\nset-cookie: cid=AHxd0fPry2Klbx4QdNtfpBw; expires=Mon, 31 Dec 2029 08:49:37 GMT; path=/; domain=.adriver.ru\r\np3p: policyref=\"//adriver.ru/w3c/p3p.xml\", CP=\"NON DSP COR CURa ADMa DEVa OUR BUS UNI COM NAV INT STA\"\r\ndate: Sat, 01 Oct 2016 11:01:55 GMT\r\ncache-control: no-cache, no-cache=Set-Cookie, max-age=0, must-revalidate, proxy-revalidate, no-store\r\npragma: no-cache\r\nexpires: Thu, 01 Jan 1970 00:00:00 GMT\r\n\r\nGIF89a\1\0\1\0\200\0\0\0\0\0\377\377\377!\371\4\1\0\0\0\0,\0\0\0\0\1\0\1\0\0\2\1D\0;", 492HTTP/1.0 200
content-type: image/gif
set-cookie: cid=AHxd0fPry2Klbx4QdNtfpBw; expires=Mon, 31 Dec 2029 08:49:37 GMT; path=/; domain=.adriver.ru
p3p: policyref="//adriver.ru/w3c/p3p.xml", CP="NON DSP COR CURa ADMa DEVa OUR BUS UNI COM NAV INT STA"
date: Sat, 01 Oct 2016 11:01:55 GMT
cache-control: no-cache, no-cache=Set-Cookie, max-age=0, must-revalidate, proxy-revalidate, no-store
pragma: no-cache
expires: Thu, 01 Jan 1970 00:00:00 GMT

GIF89a       !    ,       D ;) = 492
write(2, "----------------------------------------------------\n\n", 54----------------------------------------------------

) = 54
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19203632, u64=19203632}}, {EPOLLOUT, {u32=19208168, u64=19208168}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, " ", 1 )                        = 1
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(86, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 86, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "18", 218)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 86, 0x7ffeeb1a37b0) = 0
close(86)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 54, 0x7ffeeb1a37b0) = 0
close(54)                               = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(67, "HTTP/1.1 400 Bad Request\r\nServer: lol\r\nContent-Type: text/html; charset=utf-8\r\nContent-Length: 163\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>proxy</center>\r\n</body>\r\n</html>", 285, 0, NULL, 0) = 285
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19208168, u64=19208168}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(67, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 68, 0x7ffeeb1a37a0) = 0
close(68)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 67, 0x7ffeeb1a37a0) = 0
close(67)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 54
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(54, F_GETFD)                      = 0
fcntl(54, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 54, {EPOLLIN, {u32=19208168, u64=19208168}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 67
epoll_ctl(3, EPOLL_CTL_ADD, 67, {EPOLLIN, {u32=19208240, u64=19208240}}) = 0
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19208168, u64=19208168}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(54, FIONREAD, [226])              = 0
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(54, FIONREAD, [226])              = 0
recvfrom(54, "CONNECT cdn-st4.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st4.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCKHost resolved! cdn-st3.rtr-vesti.ru) = 52

Resolve ended
epoll_ctl(3, EPOLL_CTL_ADD, 52, {EPOLLIN, {u32=19203536, u64=19203536}}) = 0
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IPHost resolved! ) = 72
Host resolved! cdn-st3.rtr-vesti.ru
Resolve ended
fcntl(72, F_GETFDcdn-st3.rtr-vesti.ru
)                      = 0
Host resolved! cdn-st4.rtr-vesti.ru
fcntl(72, F_SETFD, FD_CLOEXEC|0x800Resolve ended
Resolve ended
)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 72, {EPOLLOUT, {u32=19203632, u64=19203632}}) = 0
connect(72, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "19", 219)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 86
epoll_ctl(3, EPOLL_CTL_ADD, 86, {EPOLLIN, {u32=19141280, u64=19141280}}) = 0
timerfd_settime(86, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 93
fcntl(93, F_GETFD)                      = 0
fcntl(93, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 93, {EPOLLOUT, {u32=19141376, u64=19141376}}) = 0
connect(93, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 93, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19141376, u64=19141376}}) = 0
write(2, "20", 220)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 97
epoll_ctl(3, EPOLL_CTL_ADD, 97, {EPOLLIN, {u32=19177840, u64=19177840}}) = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "97", 297)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 100
fcntl(100, F_GETFD)                     = 0
fcntl(100, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 100, {EPOLLOUT, {u32=19177936, u64=19177936}}) = 0
connect(100, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(90, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177936, u64=19177936}}) = 0
write(2, "21", 221)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "98", 298)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 101
epoll_ctl(3, EPOLL_CTL_ADD, 101, {EPOLLIN, {u32=19299792, u64=19299792}}) = 0
timerfd_settime(101, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 102
fcntl(102, F_GETFD)                     = 0
fcntl(102, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 102, {EPOLLOUT, {u32=19299888, u64=19299888}}) = 0
connect(102, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(99, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 102, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299888, u64=19299888}}) = 0
write(2, "22", 222)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 103
epoll_ctl(3, EPOLL_CTL_ADD, 103, {EPOLLIN, {u32=19169664, u64=19169664}}) = 0
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "103", 3103)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 104
fcntl(104, F_GETFD)                     = 0
fcntl(104, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 104, {EPOLLOUT, {u32=19169760, u64=19169760}}) = 0
connect(104, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19169760, u64=19169760}}) = 0
write(2, "23", 223)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 105
epoll_ctl(3, EPOLL_CTL_ADD, 105, {EPOLLIN, {u32=19210368, u64=19210368}}) = 0
timerfd_settime(105, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 106
fcntl(106, F_GETFD)                     = 0
fcntl(106, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 106, {EPOLLOUT, {u32=19210464, u64=19210464}}) = 0
connect(106, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 106, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19210464, u64=19210464}}) = 0
write(2, "24", 224)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st4.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 68
epoll_ctl(3, EPOLL_CTL_ADD, 68, {EPOLLIN, {u32=19307344, u64=19307344}}) = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 107
fcntl(107, F_GETFD)                     = 0
fcntl(107, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 107, {EPOLLOUT, {u32=19307440, u64=19307440}}) = 0
connect(107, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 107, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19307440, u64=19307440}}) = 0
write(2, "25", 225)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19124416, u64=19124416}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(27, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(31, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(31, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st2.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 31, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 31, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19164432, u64=19164432}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(73, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(79, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(79, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st2.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 79, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 79, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19309536, u64=19309536}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(96, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(96, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st2.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 96, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19309536, u64=19309536}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 96, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19309536, u64=19309536}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19203632, u64=19203632}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(72, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(72, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19177936, u64=19177936}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(100, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(100, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177936, u64=19177936}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177936, u64=19177936}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19169760, u64=19169760}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(104, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(104, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19169760, u64=19169760}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19169760, u64=19169760}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19210464, u64=19210464}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(105, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(106, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(106, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 106, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19210464, u64=19210464}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 106, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19210464, u64=19210464}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19307440, u64=19307440}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(107, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(107, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 107, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19307440, u64=19307440}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 107, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19307440, u64=19307440}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19164432, u64=19164432}}, {EPOLLIN, {u32=19309536, u64=19309536}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(79, FIONREAD, [311])              = 0
timerfd_settime(73, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(79, FIONREAD, [311])              = 0
recvfrom(79, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st2.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st2.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 53, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19176984, u64=19176984}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "53", 253)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "24", 224)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 79, 0x7ffeeb1a37b0) = 0
close(79)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 73, 0x7ffeeb1a37b0) = 0
close(73)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(96, FIONREAD, [145])              = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(96, FIONREAD, [145])              = 0
recvfrom(96, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n", 145, 0, NULL, NULL) = 145
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19176984, u64=19176984}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(53, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 53, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19176984, u64=19176984}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 53, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19176984, u64=19176984}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19176984, u64=19176984}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(53, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 53, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19176984, u64=19176984}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 60, 0x7ffeeb1a37a0) = 0
close(60)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 53, 0x7ffeeb1a37a0) = 0
close(53)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 53
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(53, F_GETFD)                      = 0
fcntl(53, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 53, {EPOLLIN, {u32=19221496, u64=19221496}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 60
epoll_ctl(3, EPOLL_CTL_ADD, 60, {EPOLLIN, {u32=19221568, u64=19221568}}) = 0
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "60", 260)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19221496, u64=19221496}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(53, FIONREAD, [540])              = 0
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(53, FIONREAD, [540])              = 0
recvfrom(53, "GET http://hitech.vesti.ru/pics/g/222/43.jpg HTTP/1.1\r\nHost: hitech.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57d9400d-5ec3\"\r\nIf-Modified-Since: Wed, 14 Sep 2016 12:18:21 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ2VfvkAOtcjz2BMuzAg==\r\n\r\n", 540, 0, NULL, NULL) = 540
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "hitech.vesti.ru", 15hitech.vesti.ru)         = 15
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, Host resolved! hitech.vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "hitech.vesti.ru", 15hitech.vesti.ru)         = 15
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 73
epoll_ctl(3, EPOLL_CTL_ADD, 73, {EPOLLIN, {u32=19294448, u64=19294448}}) = 0
timerfd_settime(73, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "73", 273)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 79
fcntl(79, F_GETFD)                      = 0
fcntl(79, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 79, {EPOLLOUT, {u32=19294544, u64=19294544}}) = 0
connect(79, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("80.247.32.206")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 79, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19294544, u64=19294544}}) = 0
write(2, "25", 225)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19183856, u64=19183856}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [549])              = 0
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [549])              = 0
recvfrom(80, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n4d\r\n\37\213\10\0\0\0\0\0\0\3\313LS\3200\320T\250V(N-\t\311\314M\315/-\321H+\315K.\311\314\317\323\320\254N\311O.\315M\315+\321K\316\311/N\325\320\264\256\325140\320\264V\250\5\0\201\315\304a9\0\0\0\r\n0\r\n\r\n", 549, 0, NULL, NULL) = 549
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "70", 270)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19309536, u64=19309536}}, {EPOLLOUT, {u32=19161208, u64=19161208}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(96, FIONREAD, [166])              = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(96, FIONREAD, [166])              = 0
recvfrom(96, "<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 166, 0, NULL, NULL) = 166
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st2.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st2.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 91, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "91", 291)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "24", 224)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 96, 0x7ffeeb1a37b0) = 0
close(96)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 87, 0x7ffeeb1a37b0) = 0
close(87)                               = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(70, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n4d\r\n\37\213\10\0\0\0\0\0\0\3\313LS\3200\320T\250V(N-\t\311\314M\315/-\321H+\315K.\311\314\317\323\320\254N\311O.\315M\315+\321K\316\311/N\325\320\264\256\325140\320\264V\250\5\0\201\315\304a9\0\0\0\r\n0\r\n\r\n", 549, 0, NULL, 0) = 549
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19124416, u64=19124416}}, {EPOLLOUT, {u32=19178808, u64=19178808}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st2.rtr-vesti.ru", 20cdn-st2.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(31, FIONREAD, [311])              = 0
timerfd_settime(27, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(31, FIONREAD, [311])              = 0
recvfrom(31, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st2.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st2.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "88", 288)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "23", 223)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 31, 0x7ffeeb1a37b0) = 0
close(31)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 27, 0x7ffeeb1a37b0) = 0
close(27)                               = 0
timerfd_settime(92, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(91, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 91, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 91, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19178808, u64=19178808}}, {EPOLLOUT, {u32=19295048, u64=19295048}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(91, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 91, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 92, 0x7ffeeb1a37a0) = 0
close(92)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 91, 0x7ffeeb1a37a0) = 0
close(91)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(88, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 27
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(27, F_GETFD)                      = 0
fcntl(27, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 27, {EPOLLIN, {u32=19178808, u64=19178808}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 31
epoll_ctl(3, EPOLL_CTL_ADD, 31, {EPOLLIN, {u32=19178880, u64=19178880}}) = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19295048, u64=19295048}}, {EPOLLIN, {u32=19178808, u64=19178808}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(88, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "89", 289)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 89, 0x7ffeeb1a37a0) = 0
close(89)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 88, 0x7ffeeb1a37a0) = 0
close(88)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
ioctl(27, FIONREAD, [226])              = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(27, FIONREAD, [226])              = 0
recvfrom(27, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, [{EPOLLIN, {u32=19161208, u64=19161208}}, {EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(70, FIONREAD, [678])              = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(70, FIONREAD, [678])              = 0
recvfrom(70, "GET http://ads.adfox.ru/166267/prepareCode?pp=g&ps=bfry&p2=evzg&pct=c&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\nHost: ads.adfox.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\n\r\n", 678, 0, NULL, NULL) = 678
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
accept(4, NULL, NULL)                   = 88
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(88, F_GETFD)                      = 0
fcntl(88, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 88, {EPOLLIN, {u32=19204712, u64=19204712}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 89
epoll_ctl(3, EPOLL_CTL_ADD, 89, {EPOLLIN, {u32=19204784, u64=19204784}}) = 0
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "89", 289)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19183856, u64=19183856}}, {EPOLLIN, {u32=19204712, u64=19204712}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(80, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(80, "GET /166267/prepareCode?pp=g&ps=bfry&p2=evzg&pct=c&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\ncookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ads.adfox.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 659, 0, NULL, 0) = 659
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
ioctl(88, FIONREAD, [226])              = 0
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(88, FIONREAD, [226])              = 0
recvfrom(88, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19141376, u64=19141376}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(86, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(93, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(93, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 93, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19141376, u64=19141376}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 93, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19141376, u64=19141376}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19299888, u64=19299888}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(101, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(102, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(102, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 102, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299888, u64=19299888}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 102, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299888, u64=19299888}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19203632, u64=19203632}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(72, FIONREAD, [311])              = 0
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(72, FIONREAD, [311])              = 0
recvfrom(72, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "42", 242)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19203632, u64=19203632}}, {EPOLLOUT, {u32=19126408, u64=19126408}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(72, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "22", 222)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 72, 0x7ffeeb1a37b0) = 0
close(72)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 52, 0x7ffeeb1a37b0) = 0
close(52)                               = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(42, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19126408, u64=19126408}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(42, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 43, 0x7ffeeb1a37a0) = 0
close(43)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 42, 0x7ffeeb1a37a0) = 0
close(42)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 42
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(42, F_GETFD)                      = 0
fcntl(42, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 42, {EPOLLIN, {u32=19295048, u64=19295048}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 43
epoll_ctl(3, EPOLL_CTL_ADD, 43, {EPOLLIN, {u32=19295120, u64=19295120}}) = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19295048, u64=19295048}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(42, FIONREAD, [226])              = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(42, FIONREAD, [226])              = 0
recvfrom(42, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19169760, u64=19169760}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(104, FIONREAD, [311])             = 0
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(104, FIONREAD, [311])             = 0
recvfrom(104, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st3.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "77", 277)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19169760, u64=19169760}}, {EPOLLIN, {u32=19177936, u64=19177936}}, {EPOLLOUT, {u32=19180600, u64=19180600}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(104, FIONREAD, [0])               = 0
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19169760, u64=19169760}}) = 0
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "21", 221)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 104, 0x7ffeeb1a37b0) = 0
close(104)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "103", 3103)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 103, 0x7ffeeb1a37b0) = 0
close(103)                              = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [145])             = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [145])             = 0
recvfrom(100, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n", 145, 0, NULL, NULL) = 145
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(77, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19180600, u64=19180600}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(77, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 77, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19180600, u64=19180600}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 78, 0x7ffeeb1a37a0) = 0
close(78)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 77, 0x7ffeeb1a37a0) = 0
close(77)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 72
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(72, F_GETFD)                      = 0
fcntl(72, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 72, {EPOLLIN, {u32=19126408, u64=19126408}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 77
epoll_ctl(3, EPOLL_CTL_ADD, 77, {EPOLLIN, {u32=19126480, u64=19126480}}) = 0
timerfd_settime(77, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19126408, u64=19126408}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(72, FIONREAD, [226])              = 0
timerfd_settime(77, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(72, FIONREAD, [226])              = 0
recvfrom(72, "CONNECT cdn-st3.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st3.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 1
epoll_wait(3, In resolver
Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 87
epoll_ctl(3, EPOLL_CTL_ADD, 87, {EPOLLIN, {u32=19169664, u64=19169664}}) = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 92
fcntl(92, F_GETFD)                      = 0
fcntl(92, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 92, {EPOLLOUT, {u32=19169760, u64=19169760}}) = 0
connect(92, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 92, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19169760, u64=19169760}}) = 0
write(2, "22", 222)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19177936, u64=19177936}}, {EPOLLIN|EPOLLRDHUP, {u32=19210464, u64=19210464}}, {EPOLLIN|EPOLLRDHUP, {u32=19307440, u64=19307440}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [166])             = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [166])             = 0
recvfrom(100, "<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 166, 0, NULL, NULL) = 166
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st3.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "81", 281)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "21", 221)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 100, 0x7ffeeb1a37b0) = 0
close(100)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "97", 297)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 97, 0x7ffeeb1a37b0) = 0
close(97)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(106, FIONREAD, [311])             = 0
timerfd_settime(105, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(106, FIONREAD, [311])             = 0
recvfrom(106, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st4.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "94", 294)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "20", 220)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 106, 0x7ffeeb1a37b0) = 0
close(106)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 105, 0x7ffeeb1a37b0) = 0
close(105)                              = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(107, FIONREAD, [311])             = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(107, FIONREAD, [311])             = 0
recvfrom(107, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st4.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "54", 254)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "19", 219)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 107, 0x7ffeeb1a37b0) = 0
close(107)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 68, 0x7ffeeb1a37b0) = 0
close(68)                               = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19217304, u64=19217304}}, {EPOLLOUT, {u32=19299272, u64=19299272}}, {EPOLLOUT, {u32=19208168, u64=19208168}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(90, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(81, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(94, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(54, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19217304, u64=19217304}}, {EPOLLIN|EPOLLRDHUP, {u32=19299272, u64=19299272}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(81, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "90", 290)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 90, 0x7ffeeb1a37a0) = 0
close(90)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 81, 0x7ffeeb1a37a0) = 0
close(81)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
ioctl(94, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "95", 295)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 95, 0x7ffeeb1a37a0) = 0
close(95)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 94, 0x7ffeeb1a37a0) = 0
close(94)                               = 0
write(2, "23", 223)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19208168, u64=19208168}}, {EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(54, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208168, u64=19208168}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 67, 0x7ffeeb1a37a0) = 0
close(67)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 54, 0x7ffeeb1a37a0) = 0
close(54)                               = 0
write(2, "22", 222)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
accept(4, NULL, NULL)                   = 54
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(54, F_GETFD)                      = 0
fcntl(54, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 54, {EPOLLIN, {u32=19217304, u64=19217304}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 67
epoll_ctl(3, EPOLL_CTL_ADD, 67, {EPOLLIN, {u32=19217376, u64=19217376}}) = 0
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "23", 223)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19217304, u64=19217304}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 68
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(68, F_GETFD)                      = 0
fcntl(68, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 68, {EPOLLIN, {u32=19299272, u64=19299272}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 81
epoll_ctl(3, EPOLL_CTL_ADD, 81, {EPOLLIN, {u32=19299344, u64=19299344}}) = 0
timerfd_settime(81, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "24", 224)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(54, FIONREAD, [226])              = 0
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(54, FIONREAD, [226])              = 0
recvfrom(54, "CONNECT cdn-st4.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st4.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19299272, u64=19299272}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 94
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(94, F_GETFD)                      = 0
fcntl(94, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 94, {EPOLLIN, {u32=19303288, u64=19303288}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 95
epoll_ctl(3, EPOLL_CTL_ADD, 95, {EPOLLIN, {u32=19303360, u64=19303360}}) = 0
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "95", 295)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(68, FIONREAD, [226])              = 0
timerfd_settime(81, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(68, FIONREAD, [226])              = 0
recvfrom(68, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19303288, u64=19303288}}, {EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(94, FIONREAD, [226])              = 0
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(94, FIONREAD, [226])              = 0
recvfrom(94, "CONNECT cdn-st3.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st3.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 97
epoll_ctl(3, EPOLL_CTL_ADD, 97, {EPOLLIN, {u32=19210368, u64=19210368}}) = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "97", 297)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 100
fcntl(100, F_GETFD)                     = 0
fcntl(100, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 100, {EPOLLOUT, {u32=19210464, u64=19210464}}) = 0
connect(100, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19210464, u64=19210464}}) = 0
write(2, "20", 220)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st1.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 1
write(2, "68", 268)                       = 2
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 1
write(2, "\n", 1
)                       = 1
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 1
Host resolved! timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCKcdn-st1.rtr-vesti.ru
Resolve ended
) = 52
epoll_ctl(3, EPOLL_CTL_ADD, 52, {EPOLLIN, {u32=19124320, u64=19124320}}) = 0
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 91
fcntl(91, F_GETFD)                      = 0
fcntl(91, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 91, {EPOLLOUT, {u32=19124416, u64=19124416}}) = 0
connect(91, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(81, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 91, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
write(2, "21", 221)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 103
epoll_ctl(3, EPOLL_CTL_ADD, 103, {EPOLLIN, {u32=19164336, u64=19164336}}) = 0
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "103", 3103)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 104
fcntl(104, F_GETFD)                     = 0
fcntl(104, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 104, {EPOLLOUT, {u32=19164432, u64=19164432}}) = 0
connect(104, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
write(2, "22", 222)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st3.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 78
epoll_ctl(3, EPOLL_CTL_ADD, 78, {EPOLLIN, {u32=19177840, u64=19177840}}) = 0
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 105
fcntl(105, F_GETFD)                     = 0
fcntl(105, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 105, {EPOLLOUT, {u32=19177936, u64=19177936}}) = 0
connect(105, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(77, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 105, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177936, u64=19177936}}) = 0
write(2, "23", 223)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19294544, u64=19294544}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "hitech.vesti.ru", 15hitech.vesti.ru)         = 15
write(2, " ", 1 )                        = 1
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1Host resolved! ) = 1
cdn-st4.rtr-vesti.ru
Resolve ended
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(73, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(79, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(79, "GET /pics/g/222/43.jpg HTTP/1.1\r\ncache-control: max-age=0\r\nhost: hitech.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57d9400d-5ec3\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Wed, 14 Sep 2016 12:18:21 GMT\r\ncookie: ngx_uid=wKgJ2VfvkAOtcjz2BMuzAg==\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\n\r\n", 518, 0, NULL, 0) = 518
epoll_ctl(3, EPOLL_CTL_MOD, 79, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19294544, u64=19294544}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 79, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19294544, u64=19294544}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19169760, u64=19169760}}, {EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(92, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(92, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 92, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19169760, u64=19169760}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 92, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19169760, u64=19169760}}) = 0
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 90
epoll_ctl(3, EPOLL_CTL_ADD, 90, {EPOLLIN, {u32=19203536, u64=19203536}}) = 0
timerfd_settime(90, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "90", 290)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 106
fcntl(106, F_GETFD)                     = 0
fcntl(106, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 106, {EPOLLOUT, {u32=19203632, u64=19203632}}) = 0
connect(106, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("213.208.179.136")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 106, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "24", 224)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st3.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 96
epoll_ctl(3, EPOLL_CTL_ADD, 96, {EPOLLIN, {u32=19312416, u64=19312416}}) = 0
timerfd_settime(96, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 107
fcntl(107, F_GETFD)                     = 0
fcntl(107, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 107, {EPOLLOUT, {u32=19312512, u64=19312512}}) = 0
connect(107, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 107, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19312512, u64=19312512}}) = 0
write(2, "25", 225)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19141376, u64=19141376}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(93, FIONREAD, [145])              = 0
timerfd_settime(86, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(93, FIONREAD, [311])              = 0
recvfrom(93, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19221272, u64=19221272}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "48", 248)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19141376, u64=19141376}}, {EPOLLIN|EPOLLRDHUP, {u32=19299888, u64=19299888}}, {EPOLLOUT, {u32=19221272, u64=19221272}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(93, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 93, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19141376, u64=19141376}}) = 0
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "24", 224)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 93, 0x7ffeeb1a37b0) = 0
close(93)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 86, 0x7ffeeb1a37b0) = 0
close(86)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(102, FIONREAD, [311])             = 0
timerfd_settime(101, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "98", 298)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(102, FIONREAD, [311])             = 0
recvfrom(102, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st3.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 98, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "98", 298)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "23", 223)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 102, 0x7ffeeb1a37b0) = 0
close(102)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 101, 0x7ffeeb1a37b0) = 0
close(101)                              = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(48, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19221272, u64=19221272}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19221272, u64=19221272}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19303080, u64=19303080}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(99, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(98, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 98, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 98, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19221272, u64=19221272}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(48, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19221272, u64=19221272}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "49", 249)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 49, 0x7ffeeb1a37a0) = 0
close(49)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 48, 0x7ffeeb1a37a0) = 0
close(48)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19303080, u64=19303080}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(98, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 98, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "99", 299)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 99, 0x7ffeeb1a37a0) = 0
close(99)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "98", 298)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 98, 0x7ffeeb1a37a0) = 0
close(98)                               = 0
write(2, "23", 223)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 48
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(48, F_GETFD)                      = 0
fcntl(48, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 48, {EPOLLIN, {u32=19303080, u64=19303080}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 49
epoll_ctl(3, EPOLL_CTL_ADD, 49, {EPOLLIN, {u32=19303152, u64=19303152}}) = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "49", 249)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "24", 224)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19220168, u64=19220168}}, {EPOLLIN, {u32=19303080, u64=19303080}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(23, FIONREAD, [616])              = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(23, FIONREAD, [616])              = 0
recvfrom(23, "GET http://www.vesti.ru/i/fake-img.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-433\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 616, 0, NULL, NULL) = 616
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
ioctl(48, FIONREAD, [226])              = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(48, FIONREAD, [226])              = 0
recvfrom(48, "CONNECT cdn-st3.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st3.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 1
epoll_wait(3, In resolver
[{EPOLLOUT, {u32=19133408, u64=19133408}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(39, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(39, "GET /i/fake-img.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-433\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\n\r\n", 597, 0, NULL, 0) = 597
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19124416, u64=19124416}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(91, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(91, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 91, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 91, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19124416, u64=19124416}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19210464, u64=19210464}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(100, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(100, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19210464, u64=19210464}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19210464, u64=19210464}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! cdn-st3.rtr-vesti.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 86
epoll_ctl(3, EPOLL_CTL_ADD, 86, {EPOLLIN, {u32=19170368, u64=19170368}}) = 0
timerfd_settime(86, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 93
fcntl(93, F_GETFD)                      = 0
fcntl(93, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 93, {EPOLLOUT, {u32=19170464, u64=19170464}}) = 0
connect(93, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 93, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19170464, u64=19170464}}) = 0
write(2, "24", 224)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19164432, u64=19164432}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(104, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(104, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19164432, u64=19164432}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19177936, u64=19177936}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(105, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(105, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 105, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177936, u64=19177936}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 105, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177936, u64=19177936}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19183856, u64=19183856}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [521])              = 0
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [521])              = 0
recvfrom(80, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n31\r\n\37\213\10\0\0\0\0\0\0\3+K,RpJL\316v/\312/\315K\211wtq\363\217P\260UHK\314)N\265\6\0\212\234W\233\35\0\0\0\r\n0\r\n\r\n", 521, 0, NULL, NULL) = 521
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "70", 270)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19169760, u64=19169760}}, {EPOLLIN|EPOLLRDHUP, {u32=19124416, u64=19124416}}, {EPOLLOUT, {u32=19203632, u64=19203632}}, {EPOLLOUT, {u32=19161208, u64=19161208}}, {EPOLLIN|EPOLLRDHUP, {u32=19210464, u64=19210464}}], 1000, 10000) = 5
write(2, "Found ", 6Found )                   = 6
write(2, "5", 15)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(92, FIONREAD, [311])              = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(92, FIONREAD, [311])              = 0
recvfrom(92, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "27", 227)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "23", 223)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 92, 0x7ffeeb1a37b0) = 0
close(92)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 87, 0x7ffeeb1a37b0) = 0
close(87)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(91, FIONREAD, [311])              = 0
timerfd_settime(52, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(91, FIONREAD, [311])              = 0
recvfrom(91, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 68, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "68", 268)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "22", 222)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 91, 0x7ffeeb1a37b0) = 0
close(91)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 52, 0x7ffeeb1a37b0) = 0
close(52)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(90, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(106, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(106, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 106, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 106, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(70, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n31\r\n\37\213\10\0\0\0\0\0\0\3+K,RpJL\316v/\312/\315K\211wtq\363\217P\260UHK\314)N\265\6\0\212\234W\233\35\0\0\0\r\n0\r\n\r\n", 521, 0, NULL, 0) = 521
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [311])             = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [311])             = 0
recvfrom(100, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "88", 288)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "21", 221)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 100, 0x7ffeeb1a37b0) = 0
close(100)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "97", 297)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 97, 0x7ffeeb1a37b0) = 0
close(97)                               = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19178808, u64=19178808}}, {EPOLLOUT, {u32=19299272, u64=19299272}}, {EPOLLOUT, {u32=19204712, u64=19204712}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(27, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
timerfd_settime(81, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(68, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 68, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 68, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(88, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19178808, u64=19178808}}, {EPOLLIN|EPOLLRDHUP, {u32=19299272, u64=19299272}}, {EPOLLIN|EPOLLRDHUP, {u32=19204712, u64=19204712}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(27, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 31, 0x7ffeeb1a37a0) = 0
close(31)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 27, 0x7ffeeb1a37a0) = 0
close(27)                               = 0
write(2, "23", 223)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
ioctl(68, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 68, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 81, 0x7ffeeb1a37a0) = 0
close(81)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 68, 0x7ffeeb1a37a0) = 0
close(68)                               = 0
write(2, "22", 222)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
ioctl(88, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 88, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "89", 289)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 89, 0x7ffeeb1a37a0) = 0
close(89)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 88, 0x7ffeeb1a37a0) = 0
close(88)                               = 0
write(2, "21", 221)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 27
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(27, F_GETFD)                      = 0
fcntl(27, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 27, {EPOLLIN, {u32=19178808, u64=19178808}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 31
epoll_ctl(3, EPOLL_CTL_ADD, 31, {EPOLLIN, {u32=19178880, u64=19178880}}) = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "31", 231)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "22", 222)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 52
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(52, F_GETFD)                      = 0
fcntl(52, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 52, {EPOLLIN, {u32=19299272, u64=19299272}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 68
epoll_ctl(3, EPOLL_CTL_ADD, 68, {EPOLLIN, {u32=19299344, u64=19299344}}) = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "68", 268)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "23", 223)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 81
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(81, F_GETFD)                      = 0
fcntl(81, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 81, {EPOLLIN, {u32=19204712, u64=19204712}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 87
epoll_ctl(3, EPOLL_CTL_ADD, 87, {EPOLLIN, {u32=19204784, u64=19204784}}) = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "24", 224)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19178808, u64=19178808}}, {EPOLLIN, {u32=19299272, u64=19299272}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(27, FIONREAD, [461])              = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(27, FIONREAD, [461])              = 0
recvfrom(27, "GET http://rtax.criteo.com/delivery/rta/rta.js?netId=4530&cookieName=crtg_rta&rnd=99255312597&varName=crtg_content HTTP/1.1\r\nHost: rtax.criteo.com\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\n\r\n", 461, 0, NULL, NULL) = 461
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
ioctl(52, FIONREAD, [471])              = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(52, FIONREAD, [471])              = 0
recvfrom(52, "GET http://rtax.criteo.com/delivery/rta/rta.js?netId=5019&cookieName=vstdirect_rta&rnd=77124475504&varName=vstdirect_content HTTP/1.1\r\nHost: rtax.criteo.com\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\n\r\n", 471, 0, NULL, NULL) = 471
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19204712, u64=19204712}}, {EPOLLIN, {u32=19161208, u64=19161208}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(81, FIONREAD, [516])              = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(81, FIONREAD, [516])              = 0
recvfrom(81, "GET http://content.adriver.ru/plugins/autoUpdate.adriver.js HTTP/1.1\r\nHost: content.adriver.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: cid=-4766817057\r\nIf-None-Match: \"57b1bb6c-1080\"\r\nIf-Modified-Since: Mon, 15 Aug 2016 12:54:04 GMT\r\n\r\n", 516, 0, NULL, NULL) = 516
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "content.adriver.ru", 18content.adriver.ru)      = 18
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
ioctl(70, FIONREAD, [742])              = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(70, FIONREAD, [742])              = 0
recvfrom(70, "GET http://ads.adfox.ru/166267/getCode?pp=g&ps=bfry&p2=v&p3=a&p4=a&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&pdw=1280&pdh=720 HTTP/1.1\r\nHost: ads.adfox.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\n\r\n", 742, 0, NULL, NULL) = 742
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19183856, u64=19183856}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(80, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(80, "GET /166267/getCode?pp=g&ps=bfry&p2=v&p3=a&p4=a&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&pdw=1280&pdh=720 HTTP/1.1\r\ncookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nupgrade-insecure-requests: 1\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ads.adfox.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 723, 0, NULL, 0) = 723
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 80, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19183856, u64=19183856}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 92
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(92, F_GETFD)                      = 0
fcntl(92, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 92, {EPOLLIN, {u32=19219368, u64=19219368}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 97
epoll_ctl(3, EPOLL_CTL_ADD, 97, {EPOLLIN, {u32=19219440, u64=19219440}}) = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "97", 297)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19219368, u64=19219368}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(92, FIONREAD, [678])              = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(92, FIONREAD, [678])              = 0
recvfrom(92, "GET http://ads.adfox.ru/166267/prepareCode?pp=g&ps=bfry&p2=ewqb&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\nHost: ads.adfox.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\n\r\n", 678, 0, NULL, NULL) = 678
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, Host resolved! rtax.criteo.com
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 88
epoll_ctl(3, EPOLL_CTL_ADD, 88, {EPOLLIN, {u32=19122304, u64=19122304}}) = 0
timerfd_settime(88, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "88", 288)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 99
fcntl(99, F_GETFD)                      = 0
fcntl(99, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 99, {EPOLLOUT, {u32=19122400, u64=19122400}}) = 0
connect(99, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("178.250.2.100")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 99, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19122400, u64=19122400}}) = 0
write(2, "22", 222)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! rtax.criteo.com
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 89
epoll_ctl(3, EPOLL_CTL_ADD, 89, {EPOLLIN, {u32=19303792, u64=19303792}}) = 0
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "89", 289)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 100
fcntl(100, F_GETFD)                     = 0
fcntl(100, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 100, {EPOLLOUT, {u32=19303888, u64=19303888}}) = 0
connect(100, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("178.250.2.100")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303888, u64=19303888}}) = 0
write(2, "23", 223)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! ads.adfox.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 98
epoll_ctl(3, EPOLL_CTL_ADD, 98, {EPOLLIN, {u32=19274352, u64=19274352}}) = 0
timerfd_settime(98, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "98", 298)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 101
fcntl(101, F_GETFD)                     = 0
fcntl(101, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 101, {EPOLLOUT, {u32=19274448, u64=19274448}}) = 0
connect(101, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("213.180.204.92")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 101, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19274448, u64=19274448}}) = 0
write(2, "24", 224)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19214840, u64=19214840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(29, FIONREAD, [672])              = 0
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(29, FIONREAD, [672])              = 0
recvfrom(29, "GET http://www.vesti.ru/assets/font/OpenSans/opensans-light.woff HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-6d50\"\r\nOrigin: http://www.vesti.ru\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 672, 0, NULL, NULL) = 672
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19140592, u64=19140592}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(34, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(40, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(40, "GET /assets/font/OpenSans/opensans-light.woff HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-6d50\"\r\norigin: http://www.vesti.ru\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 653, 0, NULL, 0) = 653
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 40, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19140592, u64=19140592}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19145896, u64=19145896}}, {EPOLLIN, {u32=19128968, u64=19128968}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(32, FIONREAD, [668])              = 0
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(32, FIONREAD, [668])              = 0
recvfrom(32, "GET http://www.vesti.ru/assets/font/Roboto/roboto-light.woff HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-688c\"\r\nOrigin: http://www.vesti.ru\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 668, 0, NULL, NULL) = 668
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
ioctl(19, FIONREAD, [674])              = 0
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(19, FIONREAD, [674])              = 0
recvfrom(19, "GET http://www.vesti.ru/assets/font/OpenSans/opensans-regular.woff HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-6ac8\"\r\nOrigin: http://www.vesti.ru\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 674, 0, NULL, NULL) = 674
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19128280, u64=19128280}}, {EPOLLOUT, {u32=19154304, u64=19154304}}, {EPOLLOUT, {u32=19216256, u64=19216256}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(17, FIONREAD, [675])              = 0
timerfd_settime(18, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(17, FIONREAD, [675])              = 0
recvfrom(17, "GET http://www.vesti.ru/assets/font/OpenSans/opensans-semibold.woff HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-6d68\"\r\nOrigin: http://www.vesti.ru\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 675, 0, NULL, NULL) = 675
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "17", 217)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 37, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152528, u64=19152528}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(35, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(41, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(41, "GET /assets/font/Roboto/roboto-light.woff HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-688c\"\r\norigin: http://www.vesti.ru\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 649, 0, NULL, 0) = 649
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 41, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19154304, u64=19154304}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(25, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(38, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(38, "GET /assets/font/OpenSans/opensans-regular.woff HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-6ac8\"\r\norigin: http://www.vesti.ru\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 655, 0, NULL, 0) = 655
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 38, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19216256, u64=19216256}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19152528, u64=19152528}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(36, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(37, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(37, "GET /assets/font/OpenSans/opensans-semibold.woff HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-6d68\"\r\norigin: http://www.vesti.ru\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 656, 0, NULL, 0) = 656
epoll_ctl(3, EPOLL_CTL_MOD, 37, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152528, u64=19152528}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 37, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19152528, u64=19152528}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119336, u64=19119336}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(8, FIONREAD, [649])               = 0
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(8, FIONREAD, [649])               = 0
recvfrom(8, "GET http://www.vesti.ru/i/logo_r24_retina.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-14c5\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 649, 0, NULL, NULL) = 649
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(11, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(11, "GET /i/logo_r24_retina.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-14c5\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 630, 0, NULL, 0) = 630
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19312512, u64=19312512}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(96, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(107, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(107, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 107, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19312512, u64=19312512}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 107, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19312512, u64=19312512}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19170464, u64=19170464}}, {EPOLLIN, {u32=19133408, u64=19133408}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(86, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(93, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(93, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206, 0, NULL, 0) = 206
epoll_ctl(3, EPOLL_CTL_MOD, 93, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19170464, u64=19170464}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 93, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19170464, u64=19170464}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [300])              = 0
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [300])              = 0
recvfrom(39, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-433\"\r\nExpires: Sun, 01 Oct 2017 11:01:17 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, NULL) = 300
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "23", 223)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19220168, u64=19220168}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(23, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-433\"\r\nExpires: Sun, 01 Oct 2017 11:01:17 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, 0) = 300
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19220168, u64=19220168}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(23, FIONREAD, [645])              = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(23, FIONREAD, [645])              = 0
recvfrom(23, "GET http://www.vesti.ru/i/logo_retina.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-209d\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 645, 0, NULL, NULL) = 645
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLOUT, {u32=19133408, u64=19133408}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 102
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
fcntl(102, F_GETFD)                     = 0
fcntl(102, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 102, {EPOLLIN, {u32=19277400, u64=19277400}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 108
epoll_ctl(3, EPOLL_CTL_ADD, 108, {EPOLLIN, {u32=19277472, u64=19277472}}) = 0
timerfd_settime(108, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "108", 3108)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "26", 226)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(39, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(39, "GET /i/logo_retina.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-209d\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 626, 0, NULL, 0) = 626
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19277400, u64=19277400}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(102, FIONREAD, [534])             = 0
timerfd_settime(108, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(102, FIONREAD, [534])             = 0
recvfrom(102, "GET http://tube.buzzoola.com/new/build/buzzlibrary.js HTTP/1.1\r\nHost: tube.buzzoola.com\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: tuuid=34d915f5-7280-4290-acf5-a37e6b85770b; tuuid_last_update=1475318954\r\nIf-Modified-Since: Wed, 28 Sep 2016 12:24:30 GMT\r\n\r\n", 534, 0, NULL, NULL) = 534
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "tube.buzzoola.com", 17tube.buzzoola.com)       = 17
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, [{EPOLLIN, {u32=19294544, u64=19294544}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "hitech.vesti.ru", 15hitech.vesti.ru)         = 15
write(2, " ", 1 )                        = 1
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "79", 279)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(79, FIONREAD, [255])              = 0
timerfd_settime(73, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "53", 253)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(79, FIONREAD, [255])              = 0
recvfrom(79, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Wed, 14 Sep 2016 12:18:21 GMT\r\nETag: \"57d9400d-5ec3\"\r\nExpires: Sun, 01 Oct 2017 11:01:03 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, NULL) = 255
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 53, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19221496, u64=19221496}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "53", 253)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19221496, u64=19221496}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(60, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(53, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Wed, 14 Sep 2016 12:18:21 GMT\r\nETag: \"57d9400d-5ec3\"\r\nExpires: Sun, 01 Oct 2017 11:01:03 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, 0) = 255
epoll_ctl(3, EPOLL_CTL_MOD, 53, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19221496, u64=19221496}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 53, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19221496, u64=19221496}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! content.adriver.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "content.adriver.ru", 18content.adriver.ru)      = 18
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 91
epoll_ctl(3, EPOLL_CTL_ADD, 91, {EPOLLIN, {u32=19175584, u64=19175584}}) = 0
timerfd_settime(91, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 110
fcntl(110, F_GETFD)                     = 0
fcntl(110, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 110, {EPOLLOUT, {u32=19175680, u64=19175680}}) = 0
connect(110, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("83.222.14.222")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 110, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19175680, u64=19175680}}) = 0
write(2, "25", 225)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19274448, u64=19274448}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(98, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(101, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(101, "GET /166267/prepareCode?pp=g&ps=bfry&p2=ewqb&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720 HTTP/1.1\r\ncookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ads.adfox.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 659, 0, NULL, 0) = 659
epoll_ctl(3, EPOLL_CTL_MOD, 101, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19274448, u64=19274448}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 101, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19274448, u64=19274448}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19203632, u64=19203632}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st4.rtr-vesti.ru", 20cdn-st4.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(106, FIONREAD, [311])             = 0
timerfd_settime(90, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(106, FIONREAD, [311])             = 0
recvfrom(106, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st4.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st4.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "54", 254)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "24", 224)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 106, 0x7ffeeb1a37b0) = 0
close(106)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "90", 290)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 90, 0x7ffeeb1a37b0) = 0
close(90)                               = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19217304, u64=19217304}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(67, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(54, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19217304, u64=19217304}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(54, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 54, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19217304, u64=19217304}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 67, 0x7ffeeb1a37a0) = 0
close(67)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 54, 0x7ffeeb1a37a0) = 0
close(54)                               = 0
write(2, "25", 225)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! tube.buzzoola.com
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "tube.buzzoola.com", 17tube.buzzoola.com)       = 17
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 54
epoll_ctl(3, EPOLL_CTL_ADD, 54, {EPOLLIN, {u32=19203536, u64=19203536}}) = 0
timerfd_settime(54, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "54", 254)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 67
fcntl(67, F_GETFD)                      = 0
fcntl(67, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 67, {EPOLLOUT, {u32=19203632, u64=19203632}}) = 0
connect(67, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("151.236.116.16")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(108, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "25", 225)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19177936, u64=19177936}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(105, FIONREAD, [311])             = 0
timerfd_settime(78, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(105, FIONREAD, [311])             = 0
recvfrom(105, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st3.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "72", 272)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19177936, u64=19177936}}, {EPOLLIN|EPOLLRDHUP, {u32=19164432, u64=19164432}}, {EPOLLOUT, {u32=19126408, u64=19126408}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(105, FIONREAD, [0])               = 0
epoll_ctl(3, EPOLL_CTL_MOD, 105, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19177936, u64=19177936}}) = 0
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "24", 224)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 105, 0x7ffeeb1a37b0) = 0
close(105)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 78, 0x7ffeeb1a37b0) = 0
close(78)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(104, FIONREAD, [311])             = 0
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(104, FIONREAD, [311])             = 0
recvfrom(104, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st1.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st1.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "42", 242)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "23", 223)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 104, 0x7ffeeb1a37b0) = 0
close(104)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "103", 3103)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 103, 0x7ffeeb1a37b0) = 0
close(103)                              = 0
timerfd_settime(77, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(72, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19295048, u64=19295048}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(42, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19126408, u64=19126408}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(72, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 72, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19126408, u64=19126408}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 77, 0x7ffeeb1a37a0) = 0
close(77)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 72, 0x7ffeeb1a37a0) = 0
close(72)                               = 0
write(2, "24", 224)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19295048, u64=19295048}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(42, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 42, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19295048, u64=19295048}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 43, 0x7ffeeb1a37a0) = 0
close(43)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 42, 0x7ffeeb1a37a0) = 0
close(42)                               = 0
write(2, "23", 223)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19170464, u64=19170464}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(93, FIONREAD, [311])              = 0
timerfd_settime(86, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(93, FIONREAD, [311])              = 0
recvfrom(93, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st3.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "48", 248)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "22", 222)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 93, 0x7ffeeb1a37b0) = 0
close(93)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 86, 0x7ffeeb1a37b0) = 0
close(86)                               = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19312512, u64=19312512}}, {EPOLLIN, {u32=19152528, u64=19152528}}, {EPOLLIN, {u32=19183856, u64=19183856}}, {EPOLLIN, {u32=19154304, u64=19154304}}, {EPOLLIN, {u32=19140592, u64=19140592}}, {EPOLLIN, {u32=19216256, u64=19216256}}, {EPOLLIN, {u32=19133408, u64=19133408}}, {EPOLLOUT, {u32=19175680, u64=19175680}}, {EPOLLOUT, {u32=19303080, u64=19303080}}, {EPOLLOUT, {u32=19122400, u64=19122400}}, {EPOLLOUT, {u32=19303888, u64=19303888}}], 1000, 10000) = 11
write(2, "Found ", 6Found )                   = 6
write(2, "11", 211)                       = 2
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "cdn-st3.rtr-vesti.ru", 20cdn-st3.rtr-vesti.ru)    = 20
write(2, " ", 1 )                        = 1
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(107, FIONREAD, [311])             = 0
timerfd_settime(96, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(107, FIONREAD, [311])             = 0
recvfrom(107, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, NULL) = 311
write(2, "400", 3400)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request--------------------------------------------\n\n", 53Request--------------------------------------------

) = 53
write(2, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: cdn-st3.rtr-vesti.ru:443\r\n\r\n", 206CONNECT :443 HTTP/1.1
proxy-connection: keep-alive
user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36
host: cdn-st3.rtr-vesti.ru:443

) = 206
write(2, "\n\n", 2

)                     = 2
write(2, "---------------------------------------------------\n\n", 53---------------------------------------------------

) = 53
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303288, u64=19303288}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "94", 294)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "21", 221)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 107, 0x7ffeeb1a37b0) = 0
close(107)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 96, 0x7ffeeb1a37b0) = 0
close(96)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "37", 237)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(37, FIONREAD, [255])              = 0
timerfd_settime(36, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "17", 217)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(37, FIONREAD, [255])              = 0
recvfrom(37, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-6d68\"\r\nExpires: Sun, 01 Oct 2017 11:01:51 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, NULL) = 255
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 17, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128280, u64=19128280}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "17", 217)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "80", 280)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [1160])             = 0
timerfd_settime(57, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "70", 270)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(80, FIONREAD, [1160])             = 0
recvfrom(80, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html; charset=utf-8\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n2af\r\n\37\213\10\0\0\0\0\0\0\3\245T\333n\2340\20}\336H\371\7\0075\30\264\33X\366~\201\215Z\251U#\245\252T\245OM\2652\330\200S0\256\361^\322v\377\275\203\331lW}l\0370\303\214g|\346\234\301!\345\333U\3507\353\345EX'\212K\215\364\263d\221\245\331^\373OdKZ\257\5\33\234t#\22\315+\341|\376t_\273\350\347\345E'\255\24r\266D!\216\"\324_\302+DM\324+\230\310t\216l\333|~\341_!\326\355\266I\35\236\"\347\352\350\367J\242\223\334\361\tM\253\375\243\2476\217\276VD\324\222(&\364\243\227\361\364\225\357\36\23;\1770lT\321C\274\314^\"\35\260\275Z%\200\3BK\343;\270\316\361\224\36\22l\207\356J\2221\307uM\364\0\v<\260\7\347Z\313z\341\3\6\217P\305\267L\1\16?\311\370M\314\205\257\n\346\201}[s\32\0056\241\321x6\232O\207v\254\243A`K\360\16\206\203\371t6\263c\260G\243\321x2\34\330\2618\231J@\342x\336\237Ng\363\376\34{\265,\270v\360/l\220\234\23\3536\2754t\256\245\n\32F{\r\322\365\216S\3402B\16\16\260\307\5e\373\217\251\203\257\261{\25\335\4\267\340\\\0[5\273\23\272\331\341v\261\334c\267M\315uY@&\16\t\312\25K#\253\351\325\264Z{\206\362\246\323`2\31L\246~V\335s\361\3556'u\36\215\310,\30\316\23F\247\343xFYbK\25\225;!\345\17b\313qD\225.k\33t\242QZ\247\337y\242m\31D\261\226O\302\226\203hk!MT\306td\255u%\255\25\356\32Ap\10*!P\351\204#&B0u\206\345L\374F{\v\221\2\252X\250\326\317\5\314\245\241b\201\202~\377z\211r\306\263\\/\20\331\350j\211@6\315\23R\334\220\202gb\201JNi\301\226(\256\24ej\201\372r\277|A"..., 1160, 0, NULL, NULL) = 1160
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "70", 270)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "41", 241)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(41, FIONREAD, [255])              = 0
timerfd_settime(35, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "32", 232)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(41, FIONREAD, [255])              = 0
recvfrom(41, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-688c\"\r\nExpires: Sun, 01 Oct 2017 11:01:41 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, NULL) = 255
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "32", 232)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "40", 240)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(40, FIONREAD, [255])              = 0
timerfd_settime(34, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "29", 229)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(40, FIONREAD, [255])              = 0
recvfrom(40, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-6d50\"\r\nExpires: Sun, 01 Oct 2017 11:01:39 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, NULL) = 255
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "29", 229)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "38", 238)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(38, FIONREAD, [255])              = 0
timerfd_settime(25, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "19", 219)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(38, FIONREAD, [255])              = 0
recvfrom(38, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-6ac8\"\r\nExpires: Sun, 01 Oct 2017 11:01:15 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, NULL) = 255
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "19", 219)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [301])              = 0
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(39, FIONREAD, [301])              = 0
recvfrom(39, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-209d\"\r\nExpires: Sun, 01 Oct 2017 11:01:10 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, NULL) = 301
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "23", 223)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "content.adriver.ru", 18content.adriver.ru)      = 18
write(2, " ", 1 )                        = 1
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(91, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(110, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(110, "GET /plugins/autoUpdate.adriver.js HTTP/1.1\r\nif-modified-since: Mon, 15 Aug 2016 12:54:04 GMT\r\ncache-control: max-age=0\r\nhost: content.adriver.ru\r\naccept-encoding: gzip, deflate, sdch\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-none-match: \"57b1bb6c-1080\"\r\nproxy-connection: keep-alive\r\naccept: */*\r\ncookie: cid=-4766817057\r\n\r\n", 491, 0, NULL, 0) = 491
epoll_ctl(3, EPOLL_CTL_MOD, 110, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19175680, u64=19175680}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 110, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19175680, u64=19175680}}) = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(48, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, " ", 1 )                        = 1
write(2, "99", 299)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "99", 299)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(88, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(99, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(99, "GET /delivery/rta/rta.js?netId=4530&cookieName=crtg_rta&rnd=99255312597&varName=crtg_content HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: rtax.criteo.com\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 439, 0, NULL, 0) = 439
epoll_ctl(3, EPOLL_CTL_MOD, 99, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19122400, u64=19122400}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 99, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19122400, u64=19122400}}) = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, " ", 1 )                        = 1
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(100, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(100, "GET /delivery/rta/rta.js?netId=5019&cookieName=vstdirect_rta&rnd=77124475504&varName=vstdirect_content HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: rtax.criteo.com\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 449, 0, NULL, 0) = 449
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303888, u64=19303888}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 100, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303888, u64=19303888}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19303080, u64=19303080}}, {EPOLLOUT, {u32=19303288, u64=19303288}}, {EPOLLOUT, {u32=19128280, u64=19128280}}, {EPOLLOUT, {u32=19161208, u64=19161208}}, {EPOLLOUT, {u32=19145896, u64=19145896}}, {EPOLLOUT, {u32=19214840, u64=19214840}}, {EPOLLOUT, {u32=19128968, u64=19128968}}, {EPOLLOUT, {u32=19220168, u64=19220168}}], 1000, 10000) = 8
write(2, "Found ", 6Found )                   = 6
write(2, "8", 18)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(48, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303080, u64=19303080}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "49", 249)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 49, 0x7ffeeb1a37a0) = 0
close(49)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 48, 0x7ffeeb1a37a0) = 0
close(48)                               = 0
write(2, "22", 222)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
timerfd_settime(95, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(94, "HTTP/1.1 400 Bad Request\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: text/html\r\nContent-Length: 166\r\nConnection: close\r\n\r\n<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 311, 0, NULL, 0) = 311
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303288, u64=19303288}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303288, u64=19303288}}) = 0
timerfd_settime(18, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(17, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-6d68\"\r\nExpires: Sun, 01 Oct 2017 11:01:51 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, 0) = 255
epoll_ctl(3, EPOLL_CTL_MOD, 17, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128280, u64=19128280}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 17, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128280, u64=19128280}}) = 0
timerfd_settime(71, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(70, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Type: text/html; charset=utf-8\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n2af\r\n\37\213\10\0\0\0\0\0\0\3\245T\333n\2340\20}\336H\371\7\0075\30\264\33X\366~\201\215Z\251U#\245\252T\245OM\2652\330\200S0\256\361^\322v\377\275\203\331lW}l\0370\303\214g|\346\234\301!\345\333U\3507\353\345EX'\212K\215\364\263d\221\245\331^\373OdKZ\257\5\33\234t#\22\315+\341|\376t_\273\350\347\345E'\255\24r\266D!\216\"\324_\302+DM\324+\230\310t\216l\333|~\341_!\326\355\266I\35\236\"\347\352\350\367J\242\223\334\361\tM\253\375\243\2476\217\276VD\324\222(&\364\243\227\361\364\225\357\36\23;\1770lT\321C\274\314^\"\35\260\275Z%\200\3BK\343;\270\316\361\224\36\22l\207\356J\2221\307uM\364\0\v<\260\7\347Z\313z\341\3\6\217P\305\267L\1\16?\311\370M\314\205\257\n\346\201}[s\32\0056\241\321x6\232O\207v\254\243A`K\360\16\206\203\371t6\263c\260G\243\321x2\34\330\2618\231J@\342x\336\237Ng\363\376\34{\265,\270v\360/l\220\234\23\3536\2754t\256\245\n\32F{\r\322\365\216S\3402B\16\16\260\307\5e\373\217\251\203\257\261{\25\335\4\267\340\\\0[5\273\23\272\331\341v\261\334c\267M\315uY@&\16\t\312\25K#\253\351\325\264Z{\206\362\246\323`2\31L\246~V\335s\361\3556'u\36\215\310,\30\316\23F\247\343xFYbK\25\225;!\345\17b\313qD\225.k\33t\242QZ\247\337y\242m\31D\261\226O\302\226\203hk!MT\306td\255u%\255\25\356\32Ap\10*!P\351\204#&B0u\206\345L\374F{\v\221\2\252X\250\326\317\5\314\245\241b\201\202~\377z\211r\306\263\\/\20\331\350j\211@6\315\23R\334\220\202gb\201JNi\301\226(\256\24ej\201\372r\277|A"..., 1160, 0, NULL, 0) = 1160
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 70, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19161208, u64=19161208}}) = 0
timerfd_settime(33, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(32, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-688c\"\r\nExpires: Sun, 01 Oct 2017 11:01:41 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, 0) = 255
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 32, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19145896, u64=19145896}}) = 0
timerfd_settime(30, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(29, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-6d50\"\r\nExpires: Sun, 01 Oct 2017 11:01:39 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, 0) = 255
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 29, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19214840, u64=19214840}}) = 0
timerfd_settime(20, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(19, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-6ac8\"\r\nExpires: Sun, 01 Oct 2017 11:01:15 GMT\r\nCache-Control: max-age=31536000\r\n\r\n", 255, 0, NULL, 0) = 255
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 19, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19128968, u64=19128968}}) = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(23, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-209d\"\r\nExpires: Sun, 01 Oct 2017 11:01:10 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, 0) = 301
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 23, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19220168, u64=19220168}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19303288, u64=19303288}}, {EPOLLIN, {u32=19125840, u64=19125840}}, {EPOLLOUT, {u32=19203632, u64=19203632}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(94, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 94, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303288, u64=19303288}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "95", 295)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 95, 0x7ffeeb1a37a0) = 0
close(95)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 94, 0x7ffeeb1a37a0) = 0
close(94)                               = 0
write(2, "21", 221)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [301])              = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [301])              = 0
recvfrom(11, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-14c5\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, NULL) = 301
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "8", 18)                        = 1
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "tube.buzzoola.com", 17tube.buzzoola.com)       = 17
write(2, " ", 1 )                        = 1
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(54, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(67, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(67, "GET /new/build/buzzlibrary.js HTTP/1.1\r\ncookie: tuuid=34d915f5-7280-4290-acf5-a37e6b85770b; tuuid_last_update=1475318954\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\nif-modified-since: Wed, 28 Sep 2016 12:24:30 GMT\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: tube.buzzoola.com\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 510, 0, NULL, 0) = 510
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19119336, u64=19119336}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(8, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-14c5\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 301, 0, NULL, 0) = 301
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 42
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(42, F_GETFD)                      = 0
fcntl(42, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 42, {EPOLLIN, {u32=19298952, u64=19298952}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 43
epoll_ctl(3, EPOLL_CTL_ADD, 43, {EPOLLIN, {u32=19299024, u64=19299024}}) = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "43", 243)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "22", 222)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19298952, u64=19298952}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 48
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(48, F_GETFD)                      = 0
fcntl(48, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 48, {EPOLLIN, {u32=19208136, u64=19208136}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 49
epoll_ctl(3, EPOLL_CTL_ADD, 49, {EPOLLIN, {u32=19208208, u64=19208208}}) = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "49", 249)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "23", 223)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(42, FIONREAD, [212])              = 0
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(42, FIONREAD, [212])              = 0
recvfrom(42, "CONNECT ad.adriver.ru:443 HTTP/1.1\r\nHost: ad.adriver.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 212, 0, NULL, NULL) = 212
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19208136, u64=19208136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(48, FIONREAD, [739])              = 0
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(48, FIONREAD, [739])              = 0
recvfrom(48, "GET http://banners.adfox.ru/transparent.gif HTTP/1.1\r\nHost: banners.adfox.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-Modified-Since: Mon, 28 Sep 1970 06:00:00 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://ads.adfox.ru/166267/getCode?pp=g&ps=bfry&p2=v&p3=a&p4=a&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&pdw=1280&pdh=720\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\n\r\n", 739, 0, NULL, NULL) = 739
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "banners.adfox.ru", 16banners.adfox.ru)        = 16
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! ad.adriver.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 72
epoll_ctl(3, EPOLL_CTL_ADD, 72, {EPOLLIN, {u32=19289440, u64=19289440}}) = 0
timerfd_settime(72, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "72", 272)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 78
fcntl(78, F_GETFD)                      = 0
fcntl(78, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 78, {EPOLLOUT, {u32=19289536, u64=19289536}}) = 0
connect(78, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("81.222.128.22")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(43, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 78, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19289536, u64=19289536}}) = 0
write(2, "22", 222)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19274448, u64=19274448}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
Host resolved! banners.adfox.ru
Resolve ended
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "1", 11)                        = 1
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(101, FIONREAD, [615])             = 0
timerfd_settime(98, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(101, FIONREAD, [615])             = 0
recvfrom(101, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n8f\r\n\37\213\10\0\0\0\0\0\0\3%\315\301\n\2!\20\200\341{O!\3\261uQ\243K\324\272O\322\305tL\301\325e\34\263\307/\352\370\303\7\277\257\256\257XX\16J\214\207iN\201\354\212b$\317\321\300I\353=\210\210\351\31\371[\347\313\366\6\361\23\217J\36\311\200\6as\256#\364\234\233#\304b\0D#g 2oW\245\306\30\362\205\215SH\305\26\207\222\272b\314\310d=\3022\253\377r\271\227\351x\333}\0\276!*\374\221\0\0\0\r\n0\r\n\r\n", 615, 0, NULL, NULL) = 615
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 92, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19219368, u64=19219368}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "92", 292)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}, {EPOLLOUT, {u32=19219368, u64=19219368}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "banners.adfox.ru", 16banners.adfox.ru)        = 16
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 77
epoll_ctl(3, EPOLL_CTL_ADD, 77, {EPOLLIN, {u32=19125264, u64=19125264}}) = 0
timerfd_settime(77, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "77", 277)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 86
fcntl(86, F_GETFD)                      = 0
fcntl(86, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 86, {EPOLLOUT, {u32=19125360, u64=19125360}}) = 0
connect(86, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("213.180.204.92")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 86, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125360, u64=19125360}}) = 0
write(2, "23", 223)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(92, "HTTP/1.1 200 OK\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: application/x-javascript\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nP3P: policyref=/w3c/w3c.p3p, CP=NON CUR ADM DEV PSA PSD OUR IND UNI NAV INT STA\r\nExpires: Mon, 04 Dec 1999 21:29:02 GMT\r\nCache-Control: no-store, no-cache, must-revalidate, max-age=0\r\nPragma: no-cache\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Allow-Origin: *\r\nContent-Encoding: gzip\r\n\r\n8f\r\n\37\213\10\0\0\0\0\0\0\3%\315\301\n\2!\20\200\341{O!\3\261uQ\243K\324\272O\322\305tL\301\325e\34\263\307/\352\370\303\7\277\257\256\257XX\16J\214\207iN\201\354\212b$\317\321\300I\353=\210\210\351\31\371[\347\313\366\6\361\23\217J\36\311\200\6as\256#\364\234\233#\304b\0D#g 2oW\245\306\30\362\205\215SH\305\26\207\222\272b\314\310d=\3022\253\377r\271\227\351x\333}\0\276!*\374\221\0\0\0\r\n0\r\n\r\n", 615, 0, NULL, 0) = 615
epoll_ctl(3, EPOLL_CTL_MOD, 92, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19219368, u64=19219368}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 92, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19219368, u64=19219368}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 90
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "90", 290)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(90, F_GETFD)                      = 0
fcntl(90, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 90, {EPOLLIN, {u32=19297528, u64=19297528}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 93
epoll_ctl(3, EPOLL_CTL_ADD, 93, {EPOLLIN, {u32=19297600, u64=19297600}}) = 0
timerfd_settime(93, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "93", 293)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "24", 224)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19297528, u64=19297528}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(90, FIONREAD, [492])              = 0
timerfd_settime(93, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(90, FIONREAD, [492])              = 0
recvfrom(90, "GET http://www.vestifinance.ru/teletrade HTTP/1.1\r\nHost: www.vestifinance.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\n\r\n", 492, 0, NULL, NULL) = 492
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "90", 290)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vestifinance.ru", 19www.vestifinance.ru)     = 19
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 95
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "95", 295)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(95, F_GETFD)                      = 0
fcntl(95, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 95, {EPOLLIN, {u32=19339976, u64=19339976}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 96
epoll_ctl(3, EPOLL_CTL_ADD, 96, {EPOLLIN, {u32=19340048, u64=19340048}}) = 0
timerfd_settime(96, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "96", 296)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "25", 225)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19339976, u64=19339976}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(95, FIONREAD, [507])              = 0
timerfd_settime(96, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(95, FIONREAD, [507])              = 0
recvfrom(95, "GET http://ad.adriver.ru/cgi-bin/rle.cgi?sid=1&ad=602211&bt=21&pid=2442335&bid=4692345&bn=4692345&rnd=1867121184 HTTP/1.1\r\nHost: ad.adriver.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: cid=-4766817057\r\n\r\n", 507, 0, NULL, NULL) = 507
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "95", 295)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, Host resolved! www.vestifinance.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.vestifinance.ru", 19www.vestifinance.ru)     = 19
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "90", 290)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 94
epoll_ctl(3, EPOLL_CTL_ADD, 94, {EPOLLIN, {u32=19325712, u64=19325712}}) = 0
timerfd_settime(94, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "94", 294)                       = 2
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 104
fcntl(104, F_GETFD)                     = 0
fcntl(104, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 104, {EPOLLOUT, {u32=19325808, u64=19325808}}) = 0
connect(104, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("195.42.181.145")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(93, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19325808, u64=19325808}}) = 0
write(2, "24", 224)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! ad.adriver.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "95", 295)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 103
epoll_ctl(3, EPOLL_CTL_ADD, 103, {EPOLLIN, {u32=19303216, u64=19303216}}) = 0
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "103", 3103)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 105
fcntl(105, F_GETFD)                     = 0
fcntl(105, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 105, {EPOLLOUT, {u32=19303312, u64=19303312}}) = 0
connect(105, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("81.222.128.23")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(96, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 105, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303312, u64=19303312}}) = 0
write(2, "25", 225)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119336, u64=19119336}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(8, FIONREAD, [642])               = 0
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(8, FIONREAD, [642])               = 0
recvfrom(8, "GET http://www.vesti.ru/i/preloader.gif HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-a43\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 642, 0, NULL, NULL) = 642
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(11, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(11, "GET /i/preloader.gif HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-a43\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 623, 0, NULL, 0) = 623
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19203632, u64=19203632}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "tube.buzzoola.com", 17tube.buzzoola.com)       = 17
write(2, " ", 1 )                        = 1
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(67, FIONREAD, [191])              = 0
timerfd_settime(54, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(67, FIONREAD, [191])              = 0
recvfrom(67, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nExpires: Sat, 01 Oct 2016 12:00:00 GMT\r\nLast-Modified: Wed, 28 Sep 2016 12:24:30 GMT\r\n\r\n", 191, 0, NULL, NULL) = 191
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 102, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19277400, u64=19277400}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "102", 3102)                      = 3
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19122400, u64=19122400}}, {EPOLLIN, {u32=19303888, u64=19303888}}, {EPOLLOUT, {u32=19277400, u64=19277400}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, " ", 1 )                        = 1
write(2, "99", 299)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "99", 299)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(99, FIONREAD, [696])              = 0
timerfd_settime(88, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "27", 227)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(99, FIONREAD, [696])              = 0
recvfrom(99, "HTTP/1.1 200 OK\r\nCache-Control: no-cache\r\nPragma: no-cache\r\nContent-Type: text/javascript; charset=utf-8\r\nExpires: Mon, 26 Jul 1997 05:00:00 GMT\r\nServer: Microsoft-IIS/8.5\r\nAccess-Control-Allow-Origin: *\r\nP3P: CP=\"NON DSP COR CURa PSA PSD OUR BUS NAV STA\"\r\nX-Powered-By: ASP.NET\r\nAccess-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept\r\nAccess-Control-Allow-Methods: GET, POST, OPTIONS\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Max-Age: 1000\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Length: 158\r\n\r\ncrtg_content = ''; (function(){document.cookie = 'crtg_rta=' + escape(crtg_content) + '; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=vesti.ru';})();", 696, 0, NULL, NULL) = 696
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "27", 227)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "Processing ", 11Processing )             = 11
write(2, "rtax.criteo.com", 15rtax.criteo.com)         = 15
write(2, " ", 1 )                        = 1
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "100", 3100)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [711])             = 0
timerfd_settime(89, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "52", 252)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(100, FIONREAD, [711])             = 0
recvfrom(100, "HTTP/1.1 200 OK\r\nCache-Control: no-cache\r\nPragma: no-cache\r\nContent-Type: text/javascript; charset=utf-8\r\nExpires: Mon, 26 Jul 1997 05:00:00 GMT\r\nServer: Microsoft-IIS/8.5\r\nAccess-Control-Allow-Origin: *\r\nP3P: CP=\"NON DSP COR CURa PSA PSD OUR BUS NAV STA\"\r\nX-Powered-By: ASP.NET\r\nAccess-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept\r\nAccess-Control-Allow-Methods: GET, POST, OPTIONS\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Max-Age: 1000\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Length: 173\r\n\r\nvstdirect_content = ''; (function(){document.cookie = 'vstdirect_rta=' + escape(vstdirect_content) + '; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=vesti.ru';})();", 711, 0, NULL, NULL) = 711
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 52, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "52", 252)                       = 2
write(2, " must write\n", 12 must write
)           = 12
timerfd_settime(108, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(102, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nExpires: Sat, 01 Oct 2016 12:00:00 GMT\r\nLast-Modified: Wed, 28 Sep 2016 12:24:30 GMT\r\n\r\n", 191, 0, NULL, 0) = 191
epoll_ctl(3, EPOLL_CTL_MOD, 102, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19277400, u64=19277400}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 102, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19277400, u64=19277400}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19175680, u64=19175680}}, {EPOLLOUT, {u32=19289536, u64=19289536}}, {EPOLLOUT, {u32=19178808, u64=19178808}}, {EPOLLOUT, {u32=19299272, u64=19299272}}], 1000, 10000) = 4
write(2, "Found ", 6Found )                   = 6
write(2, "4", 14)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "content.adriver.ru", 18content.adriver.ru)      = 18
write(2, " ", 1 )                        = 1
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(110, FIONREAD, [3014])            = 0
timerfd_settime(91, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(110, FIONREAD, [3014])            = 0
recvfrom(110, "HTTP/1.1 200 OK\r\nServer: nginx/1.8.0\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: application/x-javascript\r\nContent-Length: 4224\r\nLast-Modified: Mon, 15 Aug 2016 12:54:16 GMT\r\nConnection: close\r\nETag: \"57b1bb78-1080\"\r\nExpires: Sat, 01 Oct 2016 12:01:56 GMT\r\nCache-Control: max-age=3600\r\nAccept-Ranges: bytes\r\n\r\n/* adriver autoUpdate plugin */\n(function (pluginName){\n\tnew adriver.Plugin(pluginName);\n\n\tadriver.extendL = function(l, r){for(var i in l){if(l.hasOwnProperty(i) && r.hasOwnProperty(i)) {l[i] = r[i];}} return l;};\n\n\tadriver.toQueryString = function(o, delimiter, assign){\n\t\tdelimiter = delimiter || '&';\n\t\tassign = assign || '=';\n\t\tvar l = [];\n\t\tfor (var i in o){if(o.hasOwnProperty(i)){l.push(i + assign + escape(o[i]));}}\n\t\treturn l.join(delimiter);\n\t};\n\n\tadriver.parseJSON = function(text){\n\t\tvar cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\t\tif(cx.test(text)){text = text.replace(cx, function(a){return '\\\\u'"..., 3014, 0, NULL, NULL) = 3014
brk(0x1296000)                          = 0x1296000
write(2, "Processing ", 11Processing )             = 11
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, " ", 1 )                        = 1
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(72, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(78, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(78, "CONNECT :443 HTTP/1.1\r\nproxy-connection: keep-alive\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nhost: ad.adriver.ru:443\r\n\r\n", 199, 0, NULL, 0) = 199
epoll_ctl(3, EPOLL_CTL_MOD, 78, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19289536, u64=19289536}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 78, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19289536, u64=19289536}}) = 0
timerfd_settime(31, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(27, "HTTP/1.1 200 OK\r\nCache-Control: no-cache\r\nPragma: no-cache\r\nContent-Type: text/javascript; charset=utf-8\r\nExpires: Mon, 26 Jul 1997 05:00:00 GMT\r\nServer: Microsoft-IIS/8.5\r\nAccess-Control-Allow-Origin: *\r\nP3P: CP=\"NON DSP COR CURa PSA PSD OUR BUS NAV STA\"\r\nX-Powered-By: ASP.NET\r\nAccess-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept\r\nAccess-Control-Allow-Methods: GET, POST, OPTIONS\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Max-Age: 1000\r\nDate: Sat, 01 Oct 2016 11:01:55 GMT\r\nContent-Length: 158\r\n\r\ncrtg_content = ''; (function(){document.cookie = 'crtg_rta=' + escape(crtg_content) + '; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=vesti.ru';})();", 696, 0, NULL, 0) = 696
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 27, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19178808, u64=19178808}}) = 0
timerfd_settime(68, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(52, "HTTP/1.1 200 OK\r\nCache-Control: no-cache\r\nPragma: no-cache\r\nContent-Type: text/javascript; charset=utf-8\r\nExpires: Mon, 26 Jul 1997 05:00:00 GMT\r\nServer: Microsoft-IIS/8.5\r\nAccess-Control-Allow-Origin: *\r\nP3P: CP=\"NON DSP COR CURa PSA PSD OUR BUS NAV STA\"\r\nX-Powered-By: ASP.NET\r\nAccess-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept\r\nAccess-Control-Allow-Methods: GET, POST, OPTIONS\r\nAccess-Control-Allow-Credentials: true\r\nAccess-Control-Max-Age: 1000\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Length: 173\r\n\r\nvstdirect_content = ''; (function(){document.cookie = 'vstdirect_rta=' + escape(vstdirect_content) + '; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=vesti.ru';})();", 711, 0, NULL, 0) = 711
epoll_ctl(3, EPOLL_CTL_MOD, 52, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 52, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19299272, u64=19299272}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119864, u64=19119864}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(12, FIONREAD, [469])              = 0
timerfd_settime(13, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(12, FIONREAD, [469])              = 0
recvfrom(12, "GET http://mediametrics.ru/partner/inject/inject_noff.css HTTP/1.1\r\nHost: mediametrics.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/css,*/*;q=0.1\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nIf-Modified-Since: Fri, 16 Oct 2015 14:25:37 GMT\r\n\r\n", 469, 0, NULL, NULL) = 469
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "12", 212)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLOUT, {u32=19160688, u64=19160688}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 106
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
fcntl(106, F_GETFD)                     = 0
fcntl(106, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 106, {EPOLLIN, {u32=19173208, u64=19173208}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 107
epoll_ctl(3, EPOLL_CTL_ADD, 107, {EPOLLIN, {u32=19173280, u64=19173280}}) = 0
timerfd_settime(107, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "107", 3107)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "26", 226)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "Processing ", 11Processing )             = 11
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, " ", 1 )                        = 1
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "26", 226)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(14, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(26, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(26, "GET /partner/inject/inject_noff.css HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\nif-modified-since: Fri, 16 Oct 2015 14:25:37 GMT\r\naccept: text/css,*/*;q=0.1\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: mediametrics.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 447, 0, NULL, 0) = 447
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 26, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19160688, u64=19160688}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}, {EPOLLIN, {u32=19173208, u64=19173208}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 109
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "109", 3109)                      = 3
write(2, "\n", 1
)                       = 1
fcntl(109, F_GETFD)                     = 0
fcntl(109, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 109, {EPOLLIN, {u32=19217704, u64=19217704}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 111
epoll_ctl(3, EPOLL_CTL_ADD, 111, {EPOLLIN, {u32=19217776, u64=19217776}}) = 0
timerfd_settime(111, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "111", 3111)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "27", 227)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
ioctl(106, FIONREAD, [449])             = 0
timerfd_settime(107, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(106, FIONREAD, [449])             = 0
recvfrom(106, "GET http://mediametrics.ru/partner/inject/hour.ru.js HTTP/1.1\r\nHost: mediametrics.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nIf-Modified-Since: Sat, 01 Oct 2016 10:51:01 GMT\r\n\r\n", 449, 0, NULL, NULL) = 449
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19217704, u64=19217704}}, {EPOLLOUT, {u32=19125360, u64=19125360}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(109, FIONREAD, [226])             = 0
timerfd_settime(111, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(109, FIONREAD, [226])             = 0
recvfrom(109, "CONNECT cdn-st1.rtr-vesti.ru:443 HTTP/1.1\r\nHost: cdn-st1.rtr-vesti.ru:443\r\nProxy-Connection: keep-alive\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\n\r\n", 226, 0, NULL, NULL) = 226
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "109", 3109)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
write(2, "Processing ", 11Processing )             = 11
write(2, "banners.adfox.ru", 16banners.adfox.ru)        = 16
write(2, " ", 1 )                        = 1
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(77, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(86, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(86, "GET /transparent.gif HTTP/1.1\r\ncookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://ads.adfox.ru/166267/getCode?pp=g&ps=bfry&p2=v&p3=a&p4=a&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&pdw=1280&pdh=720\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: banners.adfox.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\naccept: image/webp,image/*,*/*;q=0.8\r\nif-modified-since: Mon, 28 Sep 1970 06:00:00 GMT\r\n\r\n", 716, 0, NULL, 0) = 716
epoll_ctl(3, EPOLL_CTL_MOD, 86, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125360, u64=19125360}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 86, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125360, u64=19125360}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! mediametrics.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "mediametrics.ru", 15mediametrics.ru)         = 15
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "106", 3106)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 112
epoll_ctl(3, EPOLL_CTL_ADD, 112, {EPOLLIN, {u32=19360576, u64=19360576}}) = 0
timerfd_settime(112, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "112", 3112)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 114
fcntl(114, F_GETFD)                     = 0
fcntl(114, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 114, {EPOLLOUT, {u32=19360672, u64=19360672}}) = 0
connect(114, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("88.212.196.67")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(107, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 114, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19360672, u64=19360672}}) = 0
write(2, "26", 226)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19325808, u64=19325808}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vestifinance.ru", 19www.vestifinance.ru)     = 19
write(2, " ", 1 )                        = 1
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "104", 3104)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(94, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(104, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(104, "GET /teletrade HTTP/1.1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nupgrade-insecure-requests: 1\r\naccept-encoding: gzip, deflate, sdch\r\nhost: www.vestifinance.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 466, 0, NULL, 0) = 466
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19325808, u64=19325808}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 104, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19325808, u64=19325808}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19220168, u64=19220168}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(23, FIONREAD, [650])              = 0
timerfd_settime(24, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(23, FIONREAD, [650])              = 0
recvfrom(23, "GET http://www.vesti.ru/i/soc-icons_retina.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-63a8\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 650, 0, NULL, NULL) = 650
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "23", 223)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19133408, u64=19133408}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "39", 239)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(28, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(39, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(39, "GET /i/soc-icons_retina.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-63a8\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 631, 0, NULL, 0) = 631
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 39, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19133408, u64=19133408}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 115
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "115", 3115)                      = 3
write(2, "\n", 1
)                       = 1
fcntl(115, F_GETFD)                     = 0
fcntl(115, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 115, {EPOLLIN, {u32=19345304, u64=19345304}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 116
epoll_ctl(3, EPOLL_CTL_ADD, 116, {EPOLLIN, {u32=19345376, u64=19345376}}) = 0
timerfd_settime(116, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "116", 3116)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "28", 228)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 117
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "117", 3117)                      = 3
write(2, "\n", 1
)                       = 1
fcntl(117, F_GETFD)                     = 0
fcntl(117, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 117, {EPOLLIN, {u32=19355368, u64=19355368}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 118
epoll_ctl(3, EPOLL_CTL_ADD, 118, {EPOLLIN, {u32=19355440, u64=19355440}}) = 0
timerfd_settime(118, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "118", 3118)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "29", 229)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 119
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "119", 3119)                      = 3
write(2, "\n", 1
)                       = 1
fcntl(119, F_GETFD)                     = 0
fcntl(119, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 119, {EPOLLIN, {u32=19173528, u64=19173528}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 120
epoll_ctl(3, EPOLL_CTL_ADD, 120, {EPOLLIN, {u32=19173600, u64=19173600}}) = 0
timerfd_settime(120, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "120", 3120)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "30", 230)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19345304, u64=19345304}}, {EPOLLIN, {u32=19355368, u64=19355368}}, {EPOLLIN, {u32=19173528, u64=19173528}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(115, FIONREAD, [521])             = 0
timerfd_settime(116, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(115, FIONREAD, [521])             = 0
recvfrom(115, "GET http://www.tns-counter.ru/V13a***R%3Ehttp://www.vesti.ru/news/*vgtrk_ru/ru/CP1251/tmsec=vesti_total/ HTTP/1.1\r\nHost: www.tns-counter.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: guid=0247162B57EEA024X1475256356\r\n\r\n", 521, 0, NULL, NULL) = 521
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "115", 3115)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.tns-counter.ru", 18www.tns-counter.ru)      = 18
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1In resolver
) = 1
ioctl(117, FIONREAD, [534])             = 0
timerfd_settime(118, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(117, FIONREAD, [534])             = 0
recvfrom(117, "GET http://counter.yadro.ru/hit?t16.2;rhttp%3A//www.vesti.ru/news/;s1280*720*24;uhttp%3A//www.vesti.ru/;0.44074566037898344 HTTP/1.1\r\nHost: counter.yadro.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: VID=3ZL9Lr3wGjfV1Nxfvj00AOhu\r\n\r\n", 534, 0, NULL, NULL) = 534
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "117", 3117)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "counter.yadro.ru", 16counter.yadro.ru)        = 16
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
ioctl(119, FIONREAD, [434])             = 0
timerfd_settime(120, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(119, FIONREAD, [434])             = 0
recvfrom(119, "GET http://st.top100.ru/top100/top100.js HTTP/1.1\r\nHost: st.top100.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nIf-Modified-Since: Thu, 15 Sep 2016 11:54:01 GMT\r\n\r\n", 434, 0, NULL, NULL) = 434
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "119", 3119)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "st.top100.ru", 12st.top100.ru)            = 12
write(2, "\n", 1
)                       = 1
futex(0x7ffeeb1a694c, FUTEX_WAKE_OP_PRIVATE, 1, 1, 0x7ffeeb1a6948, {FUTEX_OP_SET, 0, FUTEX_OP_CMP_GT, 1}) = 1
futex(0x7ffeeb1a6920, FUTEX_WAKE_PRIVATE, 1) = 1
In resolver
futex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1) = 0
epoll_wait(3, [{EPOLLIN, {u32=19219368, u64=19219368}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(92, FIONREAD, [682])              = 0
timerfd_settime(97, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(92, FIONREAD, [682])              = 0
recvfrom(92, "GET http://ads.adfox.ru/166267/prepareCode?pp=g&ps=bfry&p2=fbnu&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720&pk= HTTP/1.1\r\nHost: ads.adfox.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: */*\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\n\r\n", 682, 0, NULL, NULL) = 682
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "92", 292)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 101, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19274448, u64=19274448}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19274448, u64=19274448}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ads.adfox.ru", 12ads.adfox.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "101", 3101)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(98, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(101, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(101, "GET /166267/prepareCode?pp=g&ps=bfry&p2=fbnu&pct=a&plp=a&pli=a&pop=a&pr=3974594702&pt=b&pd=1&pw=6&pv=14&prr=http%3A%2F%2Fwww.vesti.ru%2Fnews%2F&pdw=1280&pdh=720&pk= HTTP/1.1\r\ncookie: luid1=t:yocjxj:t:yocjxj:a; luid1_ts=a:euehvwq; cryptouid=8840172850511790713; cryptouid_sign=621439dead748d645c330a47ee5e7d3f; cryptouid_actual=1\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: */*\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ads.adfox.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 663, 0, NULL, 0) = 663
epoll_ctl(3, EPOLL_CTL_MOD, 101, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19274448, u64=19274448}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 101, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19274448, u64=19274448}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! www.tns-counter.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "www.tns-counter.ru", 18www.tns-counter.ru)      = 18
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "115", 3115)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 121
epoll_ctl(3, EPOLL_CTL_ADD, 121, {EPOLLIN, {u32=19132592, u64=19132592}}) = 0
timerfd_settime(121, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "121", 3121)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 124
fcntl(124, F_GETFD)                     = 0
fcntl(124, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 124, {EPOLLOUT, {u32=19132688, u64=19132688}}) = 0
connect(124, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("194.226.130.228")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(116, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 124, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19132688, u64=19132688}}) = 0
write(2, "27", 227)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, Host resolved! st.top100.ru
Resolve ended
[{EPOLLIN, {u32=19119072, u64=19119072}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "st.top100.ru", 12st.top100.ru)            = 12
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "119", 3119)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 123
epoll_ctl(3, EPOLL_CTL_ADD, 123, {EPOLLIN, {u32=19335168, u64=19335168}}) = 0
timerfd_settime(123, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "123", 3123)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 125
fcntl(125, F_GETFD)                     = 0
fcntl(125, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 125, {EPOLLOUT, {u32=19335264, u64=19335264}}) = 0
connect(125, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr("81.19.88.116")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(120, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 125, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19335264, u64=19335264}}) = 0
write(2, "28", 228)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19303312, u64=19303312}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, " ", 1 )                        = 1
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "105", 3105)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_settime(103, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(105, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(105, "GET /cgi-bin/rle.cgi?sid=1&ad=602211&bt=21&pid=2442335&bid=4692345&bn=4692345&rnd=1867121184 HTTP/1.1\r\ncookie: cid=-4766817057\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: ad.adriver.ru\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 487, 0, NULL, 0) = 487
epoll_ctl(3, EPOLL_CTL_MOD, 105, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303312, u64=19303312}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 105, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19303312, u64=19303312}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [300])              = 0
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
ioctl(11, FIONREAD, [300])              = 0
recvfrom(11, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-a43\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, NULL) = 300
Host resolved! cdn-st1.rtr-vesti.rufutex(0x7f1b50f4a730, FUTEX_WAIT_PRIVATE, 2, NULL
) = -1 EAGAIN (Resource temporarily unavailable)
write(2, "304", 3304)                      = 3
futex(0x7f1b50f4a730, FUTEX_WAKE_PRIVATE, 1Resolve ended
) = 1
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "8", 18)                        = 1
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119072, u64=19119072}}, {EPOLLOUT, {u32=19119336, u64=19119336}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Resolver handler\n", 17Resolver handler
)      = 17
read(5, "a", 1)                         = 1
write(2, "Resolver callback called for host ", 34Resolver callback called for host ) = 34
write(2, "cdn-st1.rtr-vesti.ru", 20cdn-st1.rtr-vesti.ru)    = 20
write(2, "\n", 1
)                       = 1
write(2, "Finding client ", 15Finding client )         = 15
write(2, "109", 3109)                      = 3
write(2, "\n", 1
)                       = 1
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 113
epoll_ctl(3, EPOLL_CTL_ADD, 113, {EPOLLIN, {u32=19373632, u64=19373632}}) = 0
timerfd_settime(113, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "113", 3113)                      = 3
write(2, "\n", 1
)                       = 1
socket(AF_INET, SOCK_STREAM|SOCK_NONBLOCK, IPPROTO_IP) = 126
fcntl(126, F_GETFD)                     = 0
fcntl(126, F_SETFD, FD_CLOEXEC|0x800)   = 0
epoll_ctl(3, EPOLL_CTL_ADD, 126, {EPOLLOUT, {u32=19373728, u64=19373728}}) = 0
connect(126, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr("185.31.114.53")}, 16) = -1 EINPROGRESS (Operation now in progress)
timerfd_settime(111, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 126, {EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19373728, u64=19373728}}) = 0
write(2, "29", 229)                       = 2
write(2, " servers now\n", 13 servers now
)          = 13
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(8, "HTTP/1.1 304 Not Modified\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nConnection: keep-alive\r\nKeep-Alive: timeout=5\r\nLast-Modified: Fri, 30 Sep 2016 12:51:46 GMT\r\nETag: \"57ee5fe2-a43\"\r\nExpires: Sun, 01 Oct 2017 11:01:18 GMT\r\nCache-Control: max-age=31536000\r\nCache-Control: public\r\nCache-Control: public\r\n\r\n", 300, 0, NULL, 0) = 300
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 8, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19119336, u64=19119336}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19175680, u64=19175680}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "content.adriver.ru", 18content.adriver.ru)      = 18
write(2, " ", 1 )                        = 1
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(110, FIONREAD, [1528])            = 0
timerfd_settime(91, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(110, FIONREAD, [1528])            = 0
recvfrom(110, "ype.loadComplete = function(){\n\t\tthis.isLoading = 2;\n\t\tthis.loadCompleteQueue.execute();\n\t\treturn this;\n\t};\n\tadriver.prototype.domReady = function(){\n\t\tthis.domReadyQueue.execute();\n\t\treturn this;\n\t};\n\n\t// @deprecated\n\tadriver.prototype.checkFlash = function(ver){\n\t\tvar flashver = (function(){\n\t\t\tvar n=navigator,f='Shockwave Flash',m,d;\n\t\t\tif((m=n.mimeTypes)&&(m=m['application/x-shockwave-flash'])&&m.enabledPlugin&&(n=n.plugins)&&n[f]){d=n[f].description;}\n\t\t\telse if(window.ActiveXObject){try{d=(new ActiveXObject((f+'.'+f).replace(/ /g,''))).GetVariable('$version');}catch(e){}}\n\t\t\treturn d?d.replace(/\\D+/,'').split(/\\D+/)[0]:0;\n\t\t})();\n\t\treturn flashver >= parseInt(ver);\n\t};\n\tadriver.prototype.setAnchor = function(){\n\t\tfunction addElement(type, o, params){\n\t\t\tvar n = document.createElement(type);\n\t\t\tadriver.extend(n.style, params);\n\t\t\tif (o) { o.appendChild(n); }\n\t\t\treturn n;\n\t\t}\n\t\tthis.anchor = addElement('DIV', this.p, {position:'relative'});\n\t\treturn this.anchor;\n\t};\n\n\tadriver.proto"..., 1528, 0, NULL, NULL) = 1528
write(2, "200", 3200)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "81", 281)                       = 2
write(2, " must write\n", 12 must write
)           = 12
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19175680, u64=19175680}}, {EPOLLIN, {u32=19125360, u64=19125360}}, {EPOLLOUT, {u32=19204712, u64=19204712}}], 1000, 10000) = 3
write(2, "Found ", 6Found )                   = 6
write(2, "3", 13)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "content.adriver.ru", 18content.adriver.ru)      = 18
write(2, " ", 1 )                        = 1
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
ioctl(110, FIONREAD, [0])               = 0
epoll_ctl(3, EPOLL_CTL_MOD, 110, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19175680, u64=19175680}}) = 0
write(2, "Time to disconnect\n", 19Time to disconnect
)    = 19
write(2, "28", 228)                       = 2
write(2, " servers left\n", 14 servers left
)         = 14
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "110", 3110)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 110, 0x7ffeeb1a37b0) = 0
close(110)                              = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "91", 291)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 91, 0x7ffeeb1a37b0) = 0
close(91)                               = 0
write(2, "Processing ", 11Processing )             = 11
write(2, "banners.adfox.ru", 16banners.adfox.ru)        = 16
write(2, " ", 1 )                        = 1
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "86", 286)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(86, FIONREAD, [257])              = 0
timerfd_settime(77, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "48", 248)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(86, FIONREAD, [257])              = 0
recvfrom(86, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nLast-Modified: Mon, 28 Sep 1970 06:00:00 GMT\r\nConnection: keep-alive\r\nExpires: Thu, 31 Dec 2037 23:55:55 GMT\r\nCache-Control: max-age=315360000\r\nAccess-Control-Allow-Origin: *\r\n\r\n", 257, 0, NULL, NULL) = 257
write(2, "304", 3304)                      = 3
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208136, u64=19208136}}) = 0
write(2, "Client ", 7Client )                  = 7
write(2, "48", 248)                       = 2
write(2, " must write\n", 12 must write
)           = 12
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(81, "HTTP/1.1 200 OK\r\nServer: nginx/1.8.0\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nContent-Type: application/x-javascript\r\nContent-Length: 4224\r\nLast-Modified: Mon, 15 Aug 2016 12:54:16 GMT\r\nConnection: close\r\nETag: \"57b1bb78-1080\"\r\nExpires: Sat, 01 Oct 2016 12:01:56 GMT\r\nCache-Control: max-age=3600\r\nAccept-Ranges: bytes\r\n\r\n/* adriver autoUpdate plugin */\n(function (pluginName){\n\tnew adriver.Plugin(pluginName);\n\n\tadriver.extendL = function(l, r){for(var i in l){if(l.hasOwnProperty(i) && r.hasOwnProperty(i)) {l[i] = r[i];}} return l;};\n\n\tadriver.toQueryString = function(o, delimiter, assign){\n\t\tdelimiter = delimiter || '&';\n\t\tassign = assign || '=';\n\t\tvar l = [];\n\t\tfor (var i in o){if(o.hasOwnProperty(i)){l.push(i + assign + escape(o[i]));}}\n\t\treturn l.join(delimiter);\n\t};\n\n\tadriver.parseJSON = function(text){\n\t\tvar cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\t\tif(cx.test(text)){text = text.replace(cx, function(a){return '\\\\u'"..., 4542, 0, NULL, 0) = 4542
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19208136, u64=19208136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
timerfd_settime(49, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
sendto(48, "HTTP/1.1 304 Not Modified\r\nServer: nginx\r\nDate: Sat, 01 Oct 2016 11:01:56 GMT\r\nLast-Modified: Mon, 28 Sep 1970 06:00:00 GMT\r\nConnection: keep-alive\r\nExpires: Thu, 31 Dec 2037 23:55:55 GMT\r\nCache-Control: max-age=315360000\r\nAccess-Control-Allow-Origin: *\r\n\r\n", 257, 0, NULL, 0) = 257
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208136, u64=19208136}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 48, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19208136, u64=19208136}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19204712, u64=19204712}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(81, FIONREAD, [0])                = 0
epoll_ctl(3, EPOLL_CTL_MOD, 81, {EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19204712, u64=19204712}}) = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 87, 0x7ffeeb1a37a0) = 0
close(87)                               = 0
write(2, "Removing from epoll ", 20Removing from epoll )    = 20
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_DEL, 81, 0x7ffeeb1a37a0) = 0
close(81)                               = 0
write(2, "29", 229)                       = 2
write(2, " clients left\n", 14 clients left
)         = 14
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19277400, u64=19277400}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(102, FIONREAD, [544])             = 0
timerfd_settime(108, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(102, FIONREAD, [544])             = 0
recvfrom(102, "GET http://tube.buzzoola.com/new/build/style.css HTTP/1.1\r\nHost: tube.buzzoola.com\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: text/css,*/*;q=0.1\r\nReferer: http://www.vesti.ru/\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: tuuid=34d915f5-7280-4290-acf5-a37e6b85770b; tuuid_last_update=1475318954\r\nIf-Modified-Since: Wed, 28 Sep 2016 12:24:09 GMT\r\n\r\n", 544, 0, NULL, NULL) = 544
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "102", 3102)                      = 3
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "tube.buzzoola.com", 17tube.buzzoola.com)       = 17
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19203632, u64=19203632}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "tube.buzzoola.com", 17tube.buzzoola.com)       = 17
write(2, " ", 1 )                        = 1
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "67", 267)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(54, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(67, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(67, "GET /new/build/style.css HTTP/1.1\r\ncookie: tuuid=34d915f5-7280-4290-acf5-a37e6b85770b; tuuid_last_update=1475318954\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nreferer: http://www.vesti.ru/\r\nif-modified-since: Wed, 28 Sep 2016 12:24:09 GMT\r\naccept: text/css,*/*;q=0.1\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\naccept-encoding: gzip, deflate, sdch\r\nhost: tube.buzzoola.com\r\nproxy-connection: keep-alive\r\ncache-control: max-age=0\r\n\r\n", 520, 0, NULL, 0) = 520
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 67, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19203632, u64=19203632}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119336, u64=19119336}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
ioctl(8, FIONREAD, [644])               = 0
timerfd_settime(9, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
ioctl(8, FIONREAD, [644])               = 0
recvfrom(8, "GET http://www.vesti.ru/i/footer-icon.png HTTP/1.1\r\nHost: www.vesti.ru\r\nProxy-Connection: keep-alive\r\nCache-Control: max-age=0\r\nIf-None-Match: \"57ee5fe2-4d2\"\r\nIf-Modified-Since: Fri, 30 Sep 2016 12:51:46 GMT\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nAccept: image/webp,image/*,*/*;q=0.8\r\nReferer: http://www.vesti.ru/css/release/main.css?v=42\r\nAccept-Encoding: gzip, deflate, sdch\r\nAccept-Language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nCookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\n\r\n", 644, 0, NULL, NULL) = 644
write(2, "Read data from client, fd = ", 28Read data from client, fd = ) = 28
write(2, "8", 18)                        = 1
write(2, "\n", 1
)                       = 1
write(2, "Request for host ", 17Request for host )       = 17
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, "\n", 1
)                       = 1
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLOUT, {u32=19125840, u64=19125840}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "www.vesti.ru", 12www.vesti.ru)            = 12
write(2, " ", 1 )                        = 1
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Writing data to server, fd = ", 29Writing data to server, fd = ) = 29
write(2, "11", 211)                       = 2
write(2, "\n", 1
)                       = 1
timerfd_settime(10, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
getsockopt(11, SOL_SOCKET, SO_ERROR, [0], [4]) = 0
sendto(11, "GET /i/footer-icon.png HTTP/1.1\r\ncache-control: max-age=0\r\nhost: www.vesti.ru\r\naccept-encoding: gzip, deflate, sdch\r\nif-none-match: \"57ee5fe2-4d2\"\r\naccept-language: ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\r\nif-modified-since: Fri, 30 Sep 2016 12:51:46 GMT\r\ncookie: ngx_uid=wKgJ11fvkABK9FweBKIDAg==; push_notification=refused; mobile-apps=hide; last_visit=1475308794263::1475319594263\r\nproxy-connection: keep-alive\r\naccept: image/webp,image/*,*/*;q=0.8\r\nuser-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\r\nreferer: http://www.vesti.ru/css/release/main.css?v=42\r\n\r\n", 625, 0, NULL, 0) = 625
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLOUT|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
epoll_ctl(3, EPOLL_CTL_MOD, 11, {EPOLLIN|EPOLLERR|EPOLLHUP|EPOLLRDHUP, {u32=19125840, u64=19125840}}) = 0
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN, {u32=19119136, u64=19119136}}], 1000, 10000) = 1
write(2, "Found ", 6Found )                   = 6
write(2, "1", 11)                        = 1
write(2, " events\n", 8 events
)                = 8
accept(4, NULL, NULL)                   = 81
write(2, "Client socket assigned to: ", 27Client socket assigned to: ) = 27
write(2, "81", 281)                       = 2
write(2, "\n", 1
)                       = 1
fcntl(81, F_GETFD)                      = 0
fcntl(81, F_SETFD, FD_CLOEXEC|0x800)    = 0
epoll_ctl(3, EPOLL_CTL_ADD, 81, {EPOLLIN, {u32=19306392, u64=19306392}}) = 0
timerfd_create(CLOCK_MONOTONIC, TFD_CLOEXEC|TFD_NONBLOCK) = 87
epoll_ctl(3, EPOLL_CTL_ADD, 87, {EPOLLIN, {u32=19306464, u64=19306464}}) = 0
timerfd_settime(87, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Created timer with fd ", 22Created timer with fd )  = 22
write(2, "87", 287)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "30", 230)                       = 2
write(2, " clients now\n", 13 clients now
)          = 13
write(2, "\320\251\321\217 \320\277\320\276\321\201\320\273\321\203\321\210\320\260\320\265\320\274\n", 24Щя послушаем
) = 24
epoll_wait(3, [{EPOLLIN|EPOLLRDHUP, {u32=19289536, u64=19289536}}, {EPOLLIN, {u32=19306392, u64=19306392}}], 1000, 10000) = 2
write(2, "Found ", 6Found )                   = 6
write(2, "2", 12)                        = 1
write(2, " events\n", 8 events
)                = 8
write(2, "Processing ", 11Processing )             = 11
write(2, "ad.adriver.ru", 13ad.adriver.ru)           = 13
write(2, " ", 1 )                        = 1
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
write(2, "Read data from server, fd = ", 28Read data from server, fd = ) = 28
write(2, "78", 278)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(78, FIONREAD, [166])              = 0
timerfd_settime(72, 0, {it_interval={180, 0}, it_value={180, 0}}, NULL) = 0
write(2, "Paired client ", 14Paired client )          = 14
write(2, "42", 242)                       = 2
write(2, "\n", 1
)                       = 1
ioctl(78, FIONREAD, [166])              = 0
recvfrom(78, "<html>\r\n<head><title>400 Bad Request</title></head>\r\n<body bgcolor=\"white\">\r\n<center><h1>400 Bad Request</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", 166, 0, NULL, NULL) = 166
write(2, "Bad response\n", 13Bad response
)          = 13
write(2, "Response--------------------------------------------\n\n", 54Response--------------------------------------------

) = 54
futex(0x7f1b513811a0, FUTEX_WAKE_PRIVATE, 2147483647) = 0
write(2, "terminate called after throwing an instance of '", 48terminate called after throwing an instance of ') = 48
write(2, "std::out_of_range", 17std::out_of_range)       = 17
write(2, "'\n", 2'
)                      = 2
write(2, "  what():  ", 11  what():  )             = 11
write(2, "basic_string::substr: __pos (which is 7955973918042435928) > this->size() (which is 166)", 88basic_string::substr: __pos (which is 7955973918042435928) > this->size() (which is 166)) = 88
write(2, "\n", 1
)                       = 1
rt_sigprocmask(SIG_UNBLOCK, [ABRT], NULL, 8) = 0
rt_sigprocmask(SIG_BLOCK, ~[RTMIN RT_1], [INT TERM], 8) = 0
getpid()                                = 8324
gettid()                                = 8324
tgkill(8324, 8324, SIGABRT)             = 0
rt_sigprocmask(SIG_SETMASK, [INT TERM], NULL, 8) = 0
--- SIGABRT {si_signo=SIGABRT, si_code=SI_TKILL, si_pid=8324, si_uid=1000} ---
+++ killed by SIGABRT (core dumped) +++
